{"version":3,"file":"js/invenio-modular-detail-page.212feeee440bb8f0be24.js","mappings":"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","sources":["webpack://invenio-assets/./js/invenio_app_rdm/components/CopyButton.js","webpack://invenio-assets/./js/invenio_modular_detail_page/util.js","webpack://invenio-assets/./js/invenio_modular_detail_page/components/Analytics.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/Citation.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/sections/DetailSidebarCitationSection.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/CommunitiesBanner.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/ContentWarning.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/Creatibutors.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/sections/DetailMainTab.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/sections/DetailMainTabs.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/EmbargoMessage.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/FileList.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/FilePreview.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/Keywords.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/Subjects.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/BadgesFormatsList.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/Doi.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/PublishingDetails.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/ExportDropdown.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/sections/DetailSidebarSharingSection.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/RecordVersionList.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/sections/DetailSidebarVersionsSection.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/componentsMap.js","webpack://invenio-assets/./js/invenio_modular_detail_page/components/Descriptions.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/sections/FilePreviewWrapper.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/sections/DetailMainSubjectsSection.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/RecordTitle.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/sections/DetailSidebarContentWarningSection.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/sections/DetailSidebarDetailsSection.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/sections/DetailSidebarDownloadSection.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/sections/DetailSidebarExportSection.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/sections/DetailSidebarRightsSection.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/sections/DetailSidebarSubjectsSection.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/ShareModal.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/RecordManagementMenu.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/DraftBackButton.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/components/FlagNewerVersion.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/sections/DetailRightSidebar.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/sections/DetailLeftSidebar.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/sections/DetailMobileActionMenu.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/sections/DetailContent.jsx","webpack://invenio-assets/./js/invenio_modular_detail_page/index.js","webpack://invenio-assets/./node_modules/lodash/defaults.js","webpack://invenio-assets/./node_modules/lodash/isEqual.js","webpack://invenio-assets/./node_modules/lodash/join.js","webpack://invenio-assets/./node_modules/lodash/unionBy.js","webpack://invenio-assets/./node_modules/react-i18next/dist/es/I18nextProvider.js","webpack://invenio-assets/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://invenio-assets/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://invenio-assets/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://invenio-assets/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["// This file is part of InvenioRDM\n// Copyright (C) 2021 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Popup } from \"semantic-ui-react\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\n\nclass SimpleCopyButton extends React.Component {\n  render() {\n    const { text, onCopy, hoverState } = this.props;\n\n    return (\n      <CopyToClipboard\n        text={text}\n        onCopy={() => {\n          onCopy(text);\n        }}\n      >\n        <Button\n          className=\"copy\"\n          basic\n          icon=\"copy\"\n          aria-label={i18next.t(\"Copy to clipboard\")}\n          onMouseEnter={hoverState}\n          onMouseLeave={hoverState}\n        />\n      </CopyToClipboard>\n    );\n  }\n}\n\nSimpleCopyButton.propTypes = {\n  text: PropTypes.string.isRequired,\n  onCopy: PropTypes.func.isRequired,\n  hoverState: PropTypes.func,\n};\n\nSimpleCopyButton.defaultProps = {\n  hoverState: null,\n};\n\nexport class CopyButton extends Component {\n  constructor(props) {\n    super(props);\n    this.INITIAL_STATE = {\n      confirmationPopupIsOpen: false,\n      confirmationPopupMsg: \"\",\n      hoverPopupIsOpen: false,\n      stateReset: null,\n    };\n    this.state = this.INITIAL_STATE;\n  }\n\n  componentWillUnmount() {\n    const { stateReset } = this.state;\n    // Avoid state update after component is unmounted:\n    if (stateReset) clearTimeout(stateReset);\n  }\n\n  onCopy = () => {\n    this.setState(() => ({\n      confirmationPopupIsOpen: true,\n      confirmationPopupMsg: i18next.t(\"Copied!\"),\n    }));\n\n    this.delayClosePopup();\n  };\n\n  delayClosePopup = () => {\n    let stateReset = setTimeout(() => {\n      this.setState(this.INITIAL_STATE);\n    }, 1500);\n\n    this.setState({ stateReset });\n  };\n\n  hoverStateHandler = (event) => {\n    event.persist();\n    if (event.type === \"mouseenter\") this.setState({ hoverPopupIsOpen: true });\n    if (event.type === \"mouseleave\") this.setState({ hoverPopupIsOpen: false });\n  };\n\n  render() {\n    const { text, popUpPosition } = this.props;\n    const { confirmationPopupMsg, confirmationPopupIsOpen, hoverPopupIsOpen } =\n      this.state;\n\n    return (\n      text && (\n        <Popup\n          role=\"alert\"\n          open={hoverPopupIsOpen || confirmationPopupIsOpen}\n          content={confirmationPopupMsg || i18next.t(\"Copy to clipboard\")}\n          inverted={!!confirmationPopupMsg}\n          position={popUpPosition}\n          size=\"mini\"\n          trigger={\n            <SimpleCopyButton\n              text={text}\n              onCopy={this.onCopy}\n              hoverState={this.hoverStateHandler}\n            />\n          }\n        />\n      )\n    );\n  }\n}\n\nCopyButton.propTypes = {\n  popUpPosition: PropTypes.string,\n  text: PropTypes.string,\n};\n\nCopyButton.defaultProps = {\n  popUpPosition: \"right center\",\n  text: \"\",\n};\n","const filterPropsToPass = (topLevelProps, propList) => {\n  const passedProps = Object.keys(topLevelProps)\n    .filter((key) => propList.includes(key))\n    .reduce((obj, key) => {\n      obj[key] = topLevelProps[key];\n      return obj;\n    }, {});\n  return passedProps;\n};\n\nconst addPropsFromChildren = (children, props) => {\n  props = props ? props : [];\n  if (children) {\n    props = children.reduce((acc, subsection) => {\n      acc = subsection.props ? [...acc, ...subsection.props] : acc;\n      return acc;\n    }, props);\n    props = props.reduce((acc, prop) => {\n      if (!acc.includes(prop)) {\n        acc.push(prop);\n      }\n      return acc;\n    }, []);\n  }\n  return props;\n};\n\nconst formatBytes = (bytes, decimals = 2) => {\n  if (!+bytes) return \"0 Bytes\";\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = [\n    \"Bytes\",\n    \"KiB\",\n    \"MiB\",\n    \"GiB\",\n    \"TiB\",\n    \"PiB\",\n    \"EiB\",\n    \"ZiB\",\n    \"YiB\",\n  ];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return `${parseFloat((bytes / Math.pow(k, i)).toFixed(dm))} ${sizes[i]}`;\n};\n\n// FIXME: duplicating idutils/__init__.py:to_url which calls\n// idutils/__init__.py:normalize_pid but we aren't doing the normalization\nfunction toPidUrl(pid, scheme, landingUrls) {\n  if (landingUrls.hasOwnProperty(scheme)) {\n    if (scheme === \"gnd\" && pid.startsWith(\"gnd:\")) {\n      pid = pid.slice(\"gnd:\".length);\n    }\n    if (scheme === \"urn\" && !pid.toLowerCase().startsWith(\"urn:nbn:\")) {\n      return \"\";\n    }\n    if (scheme === \"ascl\") {\n      pid = pid.split(\":\")[1];\n    }\n    if (scheme === \"viaf\" && pid.startsWith(\"viaf:\")) {\n      pid = pid.slice(\"viaf:\".length);\n    }\n    return `${landingUrls[scheme]}${pid}`;\n  } else if ([\"purl\", \"url\"].includes(scheme)) {\n    return pid;\n  }\n  return \"\";\n}\n\nfunction getFileTypeIconName(filename) {\n  const extension = filename.split(\".\").pop().toLowerCase();\n  switch (extension) {\n    case \"pdf\":\n      return \"file pdf outline\";\n    case \"doc\":\n    case \"docx\":\n      return \"file word outline\";\n    case \"xls\":\n    case \"xlsx\":\n      return \"file excel outline\";\n    case \"ppt\":\n    case \"pptx\":\n      return \"file powerpoint outline\";\n    case \"jpg\":\n    case \"jpeg\":\n    case \"png\":\n    case \"gif\":\n      return \"file image outline\";\n    case \"mp3\":\n    case \"wav\":\n      return \"file audio outline\";\n    case \"mp4\":\n    case \"avi\":\n    case \"mov\":\n      return \"file video outline\";\n    case \"txt\":\n      return \"file text outline\";\n    default:\n      return \"file outline\";\n  }\n}\n\n/**\n * Groups a list of objects by a key\n *\n * Duplicates the functionality of lodash's groupBy function\n * @param {*} objectList\n * @param {*} keyGetter\n * @returns\n */\nfunction groupObjectsBy(objectList, keyGetter) {\n  const result = objectList\n    ? objectList.reduce((acc, obj) => {\n        const key = keyGetter(obj);\n        if (!acc[key]) {\n          acc[key] = [];\n        }\n        acc[key].push(obj);\n        return acc;\n      }, {})\n    : {};\n\n  return result;\n}\n\nexport {\n  addPropsFromChildren,\n  filterPropsToPass,\n  formatBytes,\n  getFileTypeIconName,\n  groupObjectsBy,\n  toPidUrl,\n};\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { Message, Statistic, Table, Popup, Icon } from \"semantic-ui-react\";\nimport { formatBytes } from \"../util\";\nimport Overridable from \"react-overridable\";\n\nfunction StatsPopup({ number }) {\n  // number[0] is truncated; number[1] is raw localized\n\n  return number[0] != number[1] ? (\n    <Popup\n      trigger={\n        <span\n          className=\"compact-number\"\n          aria-label={i18next.t(\"See the full number\")}\n        >\n          {number[0]}\n        </span>\n      }\n      content={number[1]}\n      position=\"top center\"\n      size=\"mini\"\n      flowing\n    />\n  ) : (\n    number[0]\n  );\n}\n\nfunction Analytics(props) {\n  const { hasFiles, localizedStats, record, showDecimalSizes, show } = props;\n  const all_versions = record?.stats?.all_versions;\n  const this_version = record?.stats?.this_version;\n  // Each value below is an array: [0] truncated localized value,\n  // [1] non-truncated localized value\n  const {\n    all_versions_unique_downloads,\n    this_version_unique_downloads,\n    all_versions_unique_views,\n    this_version_unique_views,\n    all_versions_data_volume,\n    this_version_data_volume,\n  } = !!record.stats\n    ? localizedStats\n    : { undefined, undefined, undefined, undefined, undefined, undefined };\n  const formattedDataVolumeAll = all_versions\n    ? formatBytes(all_versions.data_volume)\n    : undefined;\n  const [formattedDataVolumeNum, formattedDataVolumeUnits] =\n    formattedDataVolumeAll ? formattedDataVolumeAll.split(\" \") : [\"\", \"\"];\n\n  return (\n    <Overridable id=\"InvenioModularDetailPage.Analytics.layout\" {...props}>\n      <div className={show}>\n        {!record.stats ? (\n          <Message>\n            No statistics have been generated yet for this work. Check back\n            later.\n          </Message>\n        ) : (\n          <>\n            <Statistic.Group size=\"small\">\n              <Statistic>\n                <Statistic.Value>\n                  {all_versions_unique_views[1]}\n                </Statistic.Value>\n                <Statistic.Label>\n                  <Icon name=\"eye\" />\n                  {i18next.t(\"Views\")}\n                </Statistic.Label>\n              </Statistic>\n              {hasFiles && (\n                <>\n                  <Statistic>\n                    <Statistic.Value>\n                      {all_versions_unique_downloads[1]}\n                    </Statistic.Value>\n                    <Statistic.Label>\n                      <Icon name=\"download\" />\n                      {i18next.t(\"Downloads\")}\n                    </Statistic.Label>\n                  </Statistic>\n                  <Statistic>\n                    <Statistic.Value>{formattedDataVolumeNum}</Statistic.Value>\n                    <Statistic.Label>\n                      <Icon name=\"database\" />\n                      <span className=\"units\">{formattedDataVolumeUnits}</span>\n                      {` ${i18next.t(\"Downloaded\")}`}\n                    </Statistic.Label>\n                  </Statistic>\n                </>\n              )}\n            </Statistic.Group>\n\n            <Table id=\"record-statistics\" definition fluid>\n              <Table.Header>\n                <Table.Row>\n                  <Table.HeaderCell />\n                  <Table.HeaderCell textAlign=\"right\">\n                    {i18next.t(\"All versions\")}\n                  </Table.HeaderCell>\n                  <Table.HeaderCell textAlign=\"right\">\n                    {i18next.t(\"This version\")}\n                  </Table.HeaderCell>\n                </Table.Row>\n              </Table.Header>\n\n              <Table.Body>\n                <Table.Row>\n                  <Table.Cell collapsing>\n                    {i18next.t(\"Total views\")}\n                    <Popup\n                      content={i18next.t(\n                        \"Times this work's page has been visited. Multiple visits by the same user within one hour are counted as a single view. Visits by robots (bots) are excluded.\"\n                      )}\n                      size=\"mini\"\n                      inverted\n                      trigger={\n                        <Icon\n                          name=\"question circle\"\n                          aria-label={i18next.t(\"More info\")}\n                          size=\"small\"\n                        />\n                      }\n                    />\n                  </Table.Cell>\n                  <Table.Cell\n                    data-label={i18next.t(\"All versions\")}\n                    textAlign=\"right\"\n                  >\n                    <StatsPopup number={all_versions_unique_views} />\n                  </Table.Cell>\n                  <Table.Cell\n                    data-label={i18next.t(\"This version\")}\n                    textAlign=\"right\"\n                  >\n                    <StatsPopup number={this_version_unique_views} />\n                  </Table.Cell>\n                </Table.Row>\n                {hasFiles && (\n                  <>\n                    <Table.Row>\n                      <Table.Cell collapsing>\n                        {i18next.t(\"Total downloads\")}\n                        <Popup\n                          content={i18next.t(\n                            \"Times this work's files have been downloaded. For works with multiple files, this counts each file download separately. Repeated downloads of the same file by the same user are not counted if they occur within one hour.\"\n                          )}\n                          size=\"mini\"\n                          inverted\n                          trigger={\n                            <Icon\n                              name=\"question circle\"\n                              aria-label={i18next.t(\"More info\")}\n                              size=\"small\"\n                            />\n                          }\n                        />\n                      </Table.Cell>\n                      <Table.Cell\n                        data-label={i18next.t(\"All versions\")}\n                        textAlign=\"right\"\n                      >\n                        <StatsPopup number={all_versions_unique_downloads} />\n                      </Table.Cell>\n                      <Table.Cell\n                        data-label={i18next.t(\"This version\")}\n                        textAlign=\"right\"\n                      >\n                        <StatsPopup number={this_version_unique_downloads} />\n                      </Table.Cell>\n                    </Table.Row>\n                    <Table.Row collapsing>\n                      <Table.Cell>\n                        {i18next.t(\"Total download volume\")}\n                        <Popup\n                          content={i18next.t(\n                            \"Total volume of all file downloads for this work. This excludes double clicks and downloads made by robots (bots).\"\n                          )}\n                          size=\"mini\"\n                          inverted\n                          trigger={\n                            <Icon\n                              name=\"question circle\"\n                              aria-label={i18next.t(\"More info\")}\n                              size=\"small\"\n                            />\n                          }\n                        />\n                      </Table.Cell>\n                      {/* FIXME: use showBinarySizes flag to control display */}\n                      <Table.Cell\n                        data-label={i18next.t(\"All versions\")}\n                        textAlign=\"right\"\n                      >\n                        {formatBytes(all_versions.data_volume)}\n                      </Table.Cell>\n                      <Table.Cell\n                        data-label={i18next.t(\"This version\")}\n                        textAlign=\"right\"\n                      >\n                        {formatBytes(this_version.data_volume)}\n                      </Table.Cell>\n                    </Table.Row>\n                  </>\n                )}\n              </Table.Body>\n            </Table>\n\n            <p className=\"text-muted\">\n              <a href=\"/help/statistics\">\n                {i18next.t(\"More info on how stats are collected\")}...\n              </a>\n            </p>\n          </>\n        )}\n      </div>\n    </Overridable>\n  );\n}\n\nexport { Analytics };\n\n// {% macro stats_popup(number) %}\n//   {% if number|truncate_number(max_value=10_000_000) != number|localize_number %}\n//   <div>\n//     <span\n//       tabindex=\"0\"\n//       role=\"button\"\n//       class=\"popup-trigger compact-number\"\n//       aria-expanded=\"false\"\n//       aria-label=\"{{ _('See the full number') }}\"\n//       data-variation=\"mini\"\n//     >\n//       {{ number|truncate_number(max_value=10_000_000) }}\n//     </span>\n//     <p role=\"tooltip\" class=\"popup-content ui flowing popup transition hidden\">\n//       {{ number|localize_number }}\n//     </p>\n//   </div>\n//   {% else %}\n//     {{ number|truncate_number(max_value=10_000_000) }}\n//   {% endif %}\n// {% endmacro %}\n\n{\n  /* <div class=\"ui tiny two statistics rel-mt-1\">\n  {% set all_versions = record.stats.all_versions %}\n  {% set this_version = record.stats.this_version %}\n\n  <div class=\"ui statistic\">\n    <div class=\"value\">{{ all_versions.unique_views|compact_number(max_value=1_000_000) }}</div>\n    <div class=\"label\">\n      <i aria-hidden=\"true\" class=\"eye icon\"></i>\n      {{ _(\"Views\") }}\n    </div>\n  </div>\n\n  <div class=\"ui statistic\">\n    <div class=\"value\">{{ all_versions.unique_downloads|compact_number(max_value=1_000_000) }}</div>\n    <div class=\"label\">\n      <i aria-hidden=\"true\" class=\"download icon\"></i>\n      {{ _(\"Downloads\") }}\n    </div>\n  </div>\n</div>\n\n<div class=\"ui container rel-mt-2 centered\">\n  <table id=\"record-statistics\" class=\"ui definition table fluid\">\n    <thead>\n      <tr>\n        <th></th>\n        <th class=\"right aligned\">{{ _(\"All versions\") }}</th>\n        <th class=\"right aligned\">{{ _(\"This version\") }}</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td>\n          {{ _(\"Views\") }}\n          <i\n            tabindex=\"0\"\n            role=\"button\"\n            style=\"position:relative\"\n            class=\"popup-trigger question circle small icon\"\n            aria-expanded=\"false\"\n            aria-label=\"{{ _('More info') }}\"\n            data-variation=\"mini inverted\"\n          >\n          </i>\n          <p role=\"tooltip\" class=\"popup-content ui flowing popup transition hidden\">\n            {{ _('Total views') }}\n          </p>\n        </td>\n        <td data-label=\"{{_('All versions')}}\" class=\"right aligned\">{{ stats_popup(all_versions.unique_views) }}</td>\n        <td data-label=\"{{_('This version')}}\" class=\"right aligned\">{{ stats_popup(this_version.unique_views) }}</td>\n      </tr>\n      <tr>\n        <td>\n          {{ _(\"Downloads\") }}\n          <i\n            tabindex=\"0\"\n            role=\"button\"\n            style=\"position:relative\"\n            class=\"popup-trigger question circle small icon\"\n            aria-expanded=\"false\"\n            aria-label=\"{{ _('More info') }}\"\n            data-variation=\"mini inverted\"\n          >\n          </i>\n          <p role=\"tooltip\" class=\"popup-content ui flowing popup transition hidden\">\n            {{ _('Total downloads') }}\n          </p>\n        </td>\n        <td data-label=\"{{_('All versions')}}\" class=\"right aligned\">{{ stats_popup(all_versions.unique_downloads) }}</td>\n        <td data-label=\"{{_('This version')}}\" class=\"right aligned\">{{ stats_popup(this_version.unique_downloads) }}</td>\n      </tr>\n      <tr>\n        <td>\n          {{ _(\"Data volume\") }}\n          <i\n            tabindex=\"0\"\n            role=\"button\"\n            style=\"position:relative\"\n            class=\"popup-trigger question circle small icon\"\n            aria-expanded=\"false\"\n            aria-label=\"{{ _('More info') }}\"\n            data-variation=\"mini inverted\"\n          >\n          </i>\n          <p role=\"tooltip\" class=\"popup-content ui flowing popup transition hidden\">\n            {{ _('Total data volume') }}\n          </p>\n        </td>\n        {%- set binary_sizes = not config.APP_RDM_DISPLAY_DECIMAL_FILE_SIZES %}\n\n        <td data-label=\"{{_('All versions')}}\" class=\"right aligned\">{{ all_versions.data_volume|filesizeformat(binary=binary_sizes) }}</td>\n        <td data-label=\"{{_('This version')}}\" class=\"right aligned\">{{ this_version.data_volume|filesizeformat(binary=binary_sizes) }}</td>\n      </tr>\n    </tbody>\n  </table>\n\n\n  <p class=\"text-muted\">\n    <a href=\"/help/statistics\">{{ _(\"More info on how stats are collected.\") }}...</a>\n  </p>\n</div> */\n}\n","// This file is part of Knowledge Commons Repository\n// Copyright (C) 2023 MESH Research\n//\n// It is modified from files provided in InvenioRDM\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Graz University of Technology.\n// Copyright (C) 2021 TU Wien\n//\n// Knowledge Commons Repository and Invenio RDM Records are both free software;\n// you can redistribute them and/or modify them under the terms of the MIT\n// License; see LICENSE file for more details.\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport _debounce from \"lodash/debounce\";\nimport PropTypes from \"prop-types\";\nimport {\n  Dropdown,\n  Header,\n  Grid,\n  Label,\n  Message,\n  Placeholder,\n} from \"semantic-ui-react\";\nimport { withCancel } from \"react-invenio-forms\";\nimport { CopyButton } from \"@js/invenio_app_rdm/components/CopyButton\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\n\n/** Component for the citation section of the right sidebar.\n *\n * @param {object} props\n *\n * Expects the following props:\n * - record: record to display\n * - styles: list of citation styles\n * - defaultStyle: default citation style\n *\n * Renders a section with a dropdown to select the citation style\n * and the citation text.\n *\n * The citation text is generated by fetching the record's citation\n * from the REST API.\n */\nconst Citation = ({\n  record,\n  citationStyles,\n  citationStyleDefault,\n  passedClassNames,\n}) => {\n  const [loading, setLoading] = useState(true);\n  const [citation, setCitation] = useState(\"\");\n  const [error, setError] = useState(null);\n  let cancellableFetchCitation = null;\n\n  useEffect(() => {\n    getCitation(record, citationStyleDefault);\n    return () => {\n      cancellableFetchCitation?.cancel();\n    };\n  }, []);\n\n  const placeholderLoader = () => {\n    return (\n      <Placeholder>\n        <Placeholder.Paragraph>\n          <Placeholder.Line />\n          <Placeholder.Line />\n          <Placeholder.Line />\n        </Placeholder.Paragraph>\n      </Placeholder>\n    );\n  };\n\n  const errorMessage = (message) => {\n    return <Message negative>{message}</Message>;\n  };\n\n  const fetchCitation = async (record, style) => {\n    return await axios(\n      `${record.links.self}?locale=${navigator.language}&style=${style}`,\n      {\n        headers: {\n          Accept: \"text/x-bibliography\",\n        },\n      }\n    );\n  };\n\n  const getCitation = async (record, style) => {\n    setLoading(true);\n    setCitation(\"\");\n    setError(\"\");\n\n    cancellableFetchCitation = withCancel(fetchCitation(record, style));\n\n    try {\n      const response = await cancellableFetchCitation.promise;\n      setLoading(false);\n      setCitation(response.data);\n    } catch (error) {\n      if (error !== \"UNMOUNTED\") {\n        setLoading(false);\n        setCitation(\"\");\n        setError(i18next.t(\"An error occurred while generating the citation.\"));\n      }\n    }\n  };\n\n  const citationOptions = citationStyles.map((style) => {\n    return {\n      key: style[0],\n      value: style[0],\n      text: style[1],\n    };\n  });\n\n  return (\n    <Grid className={`record-citation ${passedClassNames}`}>\n      <Grid.Row verticalAlign=\"bottom\" className=\"pt-0 pb-0\">\n        <Grid.Column computer={16} className=\"\">\n          <div id=\"citation-text\" className=\"wrap-overflowing-text\">\n            {loading ? placeholderLoader() : citation}\n          </div>\n        </Grid.Column>\n      </Grid.Row>\n\n      <Grid.Row verticalAlign=\"middle\">\n        <Grid.Column\n          mobile={12}\n          tablet={12}\n          computer={12}\n          className=\"\"\n          textAlign=\"left\"\n        >\n          <label basic=\"true\" id=\"citation-style-label\" className=\"\">\n            {i18next.t(\"Style\")}\n          </label>\n          <Dropdown\n            className=\"citation-dropdown\"\n            label=\"Style\"\n            aria-labelledby=\"citation-style-label\"\n            defaultValue={citationStyleDefault}\n            options={citationOptions}\n            selection\n            onChange={_debounce(\n              (event, data) => getCitation(record, data.value),\n              500\n            )}\n          />\n        </Grid.Column>\n        <Grid.Column computer={4} className=\"\" textAlign=\"right\">\n          <CopyButton text={citation} />\n        </Grid.Column>\n      </Grid.Row>\n      {error ? errorMessage(error) : null}\n    </Grid>\n  );\n};\n\nCitation.propTypes = {\n  citationStyles: PropTypes.array.isRequired,\n  record: PropTypes.object.isRequired,\n  citationStyleDefault: PropTypes.string.isRequired,\n};\n\nexport { Citation };\n","// This file is part of Knowledge Commons Repository\n// Copyright (C) 2023 MESH Research\n//\n// It is modified from files provided in InvenioRDM\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Graz University of Technology.\n// Copyright (C) 2021 TU Wien\n//\n// Knowledge Commons Repository and Invenio RDM Records are both free software;\n// you can redistribute them and/or modify them under the terms of the MIT\n// License; see LICENSE file for more details.\n\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { Button, Icon, Modal } from \"semantic-ui-react\";\nimport { Citation } from \"../components/Citation\";\nimport Overridable from \"react-overridable\";\n\nconst CitationModal = (props) => {\n  const {\n    record,\n    citationStyles,\n    citationStyleDefault,\n    onCloseHandler,\n    trigger,\n  } = props;\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    window.setTimeout(() => {\n      document.querySelector(\".citation-dropdown\").focus();\n    }, 20);\n  }, [open]);\n\n  const handleOnClose = () => {\n    setOpen(false);\n    onCloseHandler && onCloseHandler();\n  };\n\n  return (\n    <Overridable id=\"InvenioModularDetailPage.CitationModal.layout\" {...props}>\n      <Modal\n        closeIcon\n        trigger={trigger}\n        open={open}\n        onOpen={() => setOpen(true)}\n        onClose={handleOnClose}\n        className=\"citation-modal\"\n      >\n        <Modal.Header>Generate a citation for this work</Modal.Header>\n        <Modal.Content>\n          <Citation\n            passedClassNames={`ui`}\n            record={record}\n            citationStyles={citationStyles}\n            citationStyleDefault={citationStyleDefault}\n          />\n          <Button icon floated=\"right\" onClick={handleOnClose}>\n            <Icon name=\"close\" />\n            Close\n          </Button>\n        </Modal.Content>\n      </Modal>\n    </Overridable>\n  );\n};\n\nconst CitationSection = (props) => {\n  const { record, citationStyles, citationStyleDefault, sectionIndex, show } =\n    props;\n  return (\n    <Overridable\n      id=\"InvenioModularDetailPage.CitationSection.layout\"\n      {...props}\n    >\n      <div\n        id=\"citation\"\n        className={`sidebar-container ${show}`}\n        aria-label={i18next.t(\"Cite this\")}\n      >\n        <CitationModal\n          record={record}\n          citationStyles={citationStyles}\n          citationStyleDefault={citationStyleDefault}\n          trigger={\n            <Button\n              fluid\n              content={i18next.t(\"Cite this\")}\n              icon=\"quote right\"\n              labelPosition=\"right\"\n              tabIndex={sectionIndex}\n            ></Button>\n          }\n        />\n      </div>\n    </Overridable>\n  );\n};\n\nCitationSection.propTypes = {\n  citationStyles: PropTypes.array.isRequired,\n  record: PropTypes.object.isRequired,\n  citationStyleDefault: PropTypes.string.isRequired,\n};\n\nexport { CitationSection, CitationModal };\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { Icon, Image, Grid } from \"semantic-ui-react\";\n\nconst CommunitiesBanner = ({ community, isPreviewSubmissionRequest, show }) => {\n  const isCommunityRestricted = community\n    ? community.access.visibility == \"restricted\"\n    : false;\n  return (\n    !isPreviewSubmissionRequest &&\n    community && (\n      <div\n        id=\"communities\"\n        className={`sidebar-container ${show}`}\n        aria-label={i18next.t(\"Record communities\")}\n      >\n        <div className=\"ui container segment rdm-sidebar pr-0\">\n          <Grid verticalAlign=\"middle\">\n            <Grid.Row>\n              <Grid.Column width={12}>\n                <h3 className=\"ui header small\">\n                  <a href={`/communities/${community.slug}`}>\n                    {community.metadata.title}\n                  </a>\n                </h3>\n                {isCommunityRestricted && (\n                  <div\n                    className=\"ui label horizontal small access-status restricted rel-ml-1\"\n                    title={i18next.t(\"Community visibility\")}\n                    data-tooltip={i18next.t(\n                      \"The community is restricted to users with access.\"\n                    )}\n                    data-inverted=\"\"\n                  >\n                    <i className=\"icon ban\" aria-hidden=\"true\"></i>{\" \"}\n                    {i18next.t(\"Restricted\")}\n                  </div>\n                )}\n              </Grid.Column>\n              <Grid.Column width={4}>\n                <object data={community.links.logo} type=\"image/png\">\n                  <Icon name=\"group\" size=\"large\" />\n                </object>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        </div>\n      </div>\n    )\n  );\n};\n\nexport { CommunitiesBanner };\n","import React from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Header, Icon, Message } from \"semantic-ui-react\";\n\nconst ContentWarning = ({ record, section }) => {\n  const [visible, setVisible] = React.useState(true);\n  const contentWarning = record.custom_fields[\"kcr:content_warning\"];\n\n  return !(visible && contentWarning) ? null : (\n    <Overridable\n      id=\"InvenioModularDetailPage.ContentWarning.layout\"\n      {...{ record, section }}\n    >\n      <Message\n        warning\n        className=\"content-warning\"\n        onDismiss={() => setVisible(false)}\n        header={section}\n        content={contentWarning}\n      />\n    </Overridable>\n  );\n};\n\nexport { ContentWarning };\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { Card, Icon, Label, List } from \"semantic-ui-react\";\nimport { AffiliationsAccordion } from \"./AffiliationsAccordion\";\n\nconst IdentifiersList = (ids) => {\n  if (ids !== undefined) {\n    // ids = creatibutor.person_or_org.identifiers.group(({scheme}) => scheme);\n    ids = ids.reduce((x, y) => {\n      (x[y.scheme] = x[y.scheme] || []).push(y);\n      return x;\n    }, {});\n    ids = Object.values(ids).reduce((acc, idlist) => [...acc, ...idlist], []);\n  } else {\n    ids = [];\n  }\n  return ids;\n};\n\nconst makeSchemeStrings = (\n  iconsGnd,\n  iconsHcUsername,\n  iconsIsni,\n  iconsOrcid,\n  iconsRor,\n  landingUrls\n) => {\n  const mystrings = {\n    orcid: [\"ORCID\", iconsOrcid, landingUrls.orcid],\n    ror: [\"ROR\", iconsRor, landingUrls.ror],\n    gnd: [\"GND\", iconsGnd, landingUrls.gnd],\n    hc_username: [\n      \"Humanities Commons\",\n      // FIXME: temporary until we get a proper icon\n      iconsHcUsername.replace(\".svg\", \".jpg\"),\n      landingUrls.hcommons_username,\n    ],\n    isni: [\"ISNI\", iconsIsni, landingUrls.isni],\n  };\n  return mystrings;\n};\n\nconst CreatibutorIcon = ({\n  creatibutor,\n  iconsRor,\n  iconsOrcid,\n  iconsGnd,\n  iconsHcUsername,\n  iconsIsni,\n  landingUrls,\n}) => {\n  let ids = IdentifiersList(creatibutor.person_or_org.identifiers);\n  const schemeStrings = makeSchemeStrings(\n    iconsGnd,\n    iconsHcUsername,\n    iconsOrcid,\n    iconsRor,\n    iconsIsni,\n    landingUrls\n  );\n  return (\n    <>\n      {!!ids\n        ? ids.map(({ scheme, identifier }) => (\n            <a\n              href={`${schemeStrings[scheme][2]}${identifier}`}\n              className=\"no-text-decoration\"\n              key={`${scheme}-${identifier}`}\n              aria-label={`${creatibutor.person_or_org.name}'s ${\n                schemeStrings[scheme][0]\n              } ${i18next.t(\"profile\")}`}\n            >\n              <img\n                className=\"ml-5 inline-id-icon\"\n                src={schemeStrings[scheme][1]}\n                alt={`${schemeStrings[scheme][0]} icon`}\n                title={`${creatibutor.person_or_org.name}'s ${\n                  schemeStrings[scheme][0]\n                } ${i18next.t(\"profile\")}`}\n              />\n            </a>\n          ))\n        : \"\"}\n      {!!ids && creatibutor.person_or_org.type == \"organizational\" ? (\n        <Icon name=\"group\" />\n      ) : (\n        \"\"\n      )}\n    </>\n  );\n};\n\nconst Creatibutor = ({\n  creatibutor,\n  show_affiliations,\n  show_ids = true,\n  show_roles,\n  iconsRor,\n  iconsOrcid,\n  iconsGnd,\n  iconsHcUsername,\n  iconsIsni,\n  itemIndex,\n  listLength,\n  landingUrls,\n}) => {\n  let extra_props = {};\n  if (show_affiliations && creatibutor.affiliations) {\n    extra_props[\"data-tooltip\"] = creatibutor.affiliations\n      .map((a) => a[1])\n      .join(\"; \");\n  }\n  return (\n    <dd className=\"creatibutor-wrap separated\">\n      <List.Content as={\"span\"} className=\"creatibutor-name\">\n        <a\n          className=\"ui creatibutor-link\"\n          href={`../search?q='metadata.creators.person_or_org.name:${creatibutor.person_or_org.name}'`}\n          {...extra_props}\n        >\n          <span>\n            {creatibutor.person_or_org.type === \"personal\" &&\n            creatibutor.person_or_org.family_name\n              ? `${creatibutor.person_or_org.given_name} ${creatibutor.person_or_org.family_name}`\n              : creatibutor.person_or_org.name}\n          </span>\n        </a>\n      </List.Content>\n      {!!show_roles &&\n      creatibutor.role &&\n      creatibutor.role.title !== \"Other\" ? (\n        <Label className=\"creatibutor-role\">{creatibutor.role.title}</Label>\n      ) : (\n        \"\"\n      )}\n      {!!show_ids && creatibutor?.person_or_org?.identifiers && (\n        <CreatibutorIcon\n          creatibutor={creatibutor}\n          iconsRor={iconsRor}\n          iconsOrcid={iconsOrcid}\n          iconsGnd={iconsGnd}\n          iconsHcUsername={iconsHcUsername}\n          iconsIsni={iconsIsni}\n          landingUrls={landingUrls}\n        />\n      )}\n    </dd>\n  );\n};\n\nconst CreatibutorsShortList = ({\n  creators,\n  contributors,\n  iconsRor,\n  iconsOrcid,\n  iconsGnd,\n  iconsHcUsername,\n  iconsIsni,\n  landingUrls,\n}) => {\n  const show_affiliations = false;\n  const show_roles = false;\n  const creatibutors = contributors\n    ? creators?.creators?.concat(contributors?.contributors)\n    : creators?.creators;\n  return (\n    <section\n      id=\"creatibutors-list-section\"\n      className=\"ui mb-10 mt-10 sixteen wide mobile twelve wide tablet thirteen wide computer column\"\n    >\n      {/* <dt className=\"hidden\">{i18next.t(\"Creators\")}</dt> */}\n      <dl className=\"creatibutors\" aria-label={i18next.t(\"Contributors list\")}>\n        {creatibutors?.length\n          ? creatibutors.map((creator, idx) => (\n              <Creatibutor\n                creatibutor={creator}\n                key={creator.person_or_org.name}\n                show_affiliations={show_affiliations}\n                show_roles={show_roles}\n                iconsRor={iconsRor}\n                iconsOrcid={iconsOrcid}\n                iconsGnd={iconsGnd}\n                iconsHcUsername={iconsHcUsername}\n                iconsIsni={iconsIsni}\n                landingUrls={landingUrls}\n              />\n            ))\n          : \"\"}\n      </dl>\n    </section>\n  );\n};\n\nconst Creatibutors = ({\n  creators,\n  contributors,\n  iconsRor,\n  iconsOrcid,\n  iconsGnd,\n  iconsHcUsername,\n  iconsIsni,\n  landingUrls,\n  section,\n  subsections,\n}) => {\n  const show_affiliations = true;\n  const creatibutors =\n    contributors !== undefined\n      ? creators?.creators?.concat(contributors?.contributors)\n      : creators?.creators;\n  let ids = creatibutors.reduce((acc, creatibutor) => {\n    acc[creatibutor.person_or_org.name] = IdentifiersList(\n      creatibutor.person_or_org.identifiers\n    );\n    return acc;\n  }, {});\n  const schemeStrings = makeSchemeStrings(\n    iconsGnd,\n    iconsHcUsername,\n    iconsIsni,\n    iconsOrcid,\n    iconsRor,\n    landingUrls\n  );\n  return (\n    <div className=\"\">\n      {creatibutors?.map((creator) => (\n        <Card fluid>\n          <Card.Content className=\"pb-5\">\n            <Card.Header>\n              <Creatibutor\n                creatibutor={creator}\n                key={creator.person_or_org.name}\n                show_affiliations={show_affiliations}\n                show_ids={false}\n                iconsRor={iconsRor}\n                iconsOrcid={iconsOrcid}\n                iconsGnd={iconsGnd}\n                iconsHcUsername={iconsHcUsername}\n                iconsIsni={iconsIsni}\n                landingUrls={landingUrls}\n              />\n            </Card.Header>\n            <Card.Meta>\n              {!!creator.role && <span>{creator.role.title}</span>}\n            </Card.Meta>\n            <Card.Description className=\"mt-0\">\n              {!!creator.affiliations && show_affiliations && (\n                <small>{creator.affiliations.map((a) => a[1]).join(\",\")}</small>\n              )}\n            </Card.Description>\n          </Card.Content>\n          <Card.Content extra className=\"mt-0 pt-5\">\n            {ids[creator.person_or_org.name]?.map(({ scheme, identifier }) => (\n              <a\n                href={`${schemeStrings[scheme][2]}${identifier}`}\n                className=\"no-text-decoration\"\n                key={`${scheme}-${identifier}`}\n                aria-label={`${creator.person_or_org.name}'s ${\n                  schemeStrings[scheme][0]\n                } ${i18next.t(\"profile\")}`}\n              >\n                <img\n                  className=\"mr-5 inline-id-icon\"\n                  src={schemeStrings[scheme][1]}\n                  alt={`${schemeStrings[scheme][0]} icon`}\n                  title={`${creator.person_or_org.name}'s ${\n                    schemeStrings[scheme][0]\n                  } ${i18next.t(\"profile\")}`}\n                />\n                <small>\n                  {scheme === \"hc_username\" ? \"Humanities Commons\" : scheme}{\" \"}\n                  {i18next.t(\"profile\")}\n                </small>\n              </a>\n            ))}\n          </Card.Content>\n        </Card>\n      ))}\n    </div>\n  );\n};\n\nexport { Creatibutors, CreatibutorsShortList };\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { componentsMap } from \"../componentsMap\";\nimport { filterPropsToPass } from \"../util\";\n\n/**\n * Component for the default content section (tab) of the record detail page.\n *\n * @component\n * @param {} param0\n * @returns\n */\n// community,\n// customFieldsUi,\n// externalResources,\n// previewFileUrl,\n// files,\n// hasFiles,\n// hasPreviewableFiles,\n// iconsRor,\n// iconsGnd,\n// iconsHcUsername,\n// iconsOrcid,\n// isDraft,\n// isPreview,\n// landingUrls,\n// subSections,\n// record,\n// permissions,\n// previewFile,\n// sidebarSections,\n// totalFileSize\nconst DetailMainTab = (topLevelProps) => {\n  return (\n    <>\n      {!!topLevelProps.subsections.length &&\n        topLevelProps.subsections.map(\n          ({ section, component_name, subsections, props }, idx) => {\n            const SubSectionComponent = componentsMap[component_name];\n            return (\n              <section\n                id={`${section}-tab-section`}\n                className=\"rel-mt-0\"\n                aria-label={i18next.t(section)}\n                key={idx}\n              >\n                <SubSectionComponent\n                  {...filterPropsToPass(topLevelProps, props)}\n                  section={section}\n                  subsections={subsections}\n                />\n              </section>\n            );\n          }\n        )}\n    </>\n  );\n};\n\nexport { DetailMainTab };\n","import React from \"react\";\nimport { Tab, Menu } from \"semantic-ui-react\";\nimport { DetailMainTab } from \"./DetailMainTab\";\nimport { addPropsFromChildren, filterPropsToPass } from \"../util\";\nimport Overridable from \"react-overridable\";\n\nconst DetailMainTabs = (topLevelProps) => {\n  const panes = topLevelProps.tabbedSections.map(\n    ({ section, component_name, subsections, props, show }, idx) => {\n      // Because can't import DetailMainTab in componentsMap (circular)\n      const TabComponent =\n        component_name !== \"DetailMainTab\"\n          ? componentsMap[component_name]\n          : DetailMainTab;\n      props = addPropsFromChildren(subsections, props);\n      let passedProps =\n        !!props && props.length ? filterPropsToPass(topLevelProps, props) : {};\n      passedProps = {\n        ...passedProps,\n        section: section,\n        subsections: subsections,\n      };\n      return {\n        menuItem: (\n          <Menu.Item key={section} className={show} as=\"button\" tabIndex={idx}>\n            {section}\n          </Menu.Item>\n        ),\n        render: () => (\n          <Tab.Pane\n            key={section}\n            className={`record-details-tab ${section} ${show}`}\n          >\n            <TabComponent {...passedProps} key={section} />\n          </Tab.Pane>\n        ),\n      };\n    }\n  );\n\n  return (\n    <Overridable\n      id=\"InvenioModularDetailPage.DetailMainTabs.layout\"\n      {...topLevelProps}\n    >\n      <Tab\n        id=\"detail-main-tabs\"\n        panes={panes}\n        menu={{ secondary: true, pointing: true }}\n        activeIndex={topLevelProps.activeTab}\n        onTabChange={(e, { activeIndex }) =>\n          topLevelProps.setActiveTab(activeIndex)\n        }\n      />\n    </Overridable>\n  );\n};\n\nexport { DetailMainTabs };\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\n\nconst EmbargoMessage = ({ record }) => {\n  return (\n    <div\n      className={`ui ${record.ui.access_status.message_class} message file-box-message`}\n    >\n      <i className={`ui ${record.ui.access_status.icon} icon`}></i>\n      <b>{record.ui.access_status.title_l10n}</b>\n      <p>{record.ui.access_status.description_l10n}</p>\n      {!!record.access.embargo.reason ? (\n        <p>\n          {i18next.t(\"Why this restriction\")}? {record.access.embargo.reason}\n        </p>\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n};\n\nexport { EmbargoMessage };\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { Button, Dropdown, Icon, Menu } from \"semantic-ui-react\";\nimport { formatBytes, getFileTypeIconName } from \"../util\";\nimport { EmbargoMessage } from \"./EmbargoMessage\";\n\nconst FileListTableRow = ({\n  file,\n  fileTabIndex,\n  fullWordButtons,\n  isPreview,\n  previewFileUrl,\n  previewTabIndex,\n  setActivePreviewFile,\n  setActiveTab,\n  showChecksum,\n  stackedRows,\n  withPreview,\n}) => {\n  // FIXME: restrict to previewable file types\n  const file_type = file.key.split(\".\").pop().toLowerCase();\n  const previewUrlFlag = isPreview ? \"&preview=1\" : \"\";\n  const downloadUrl = `${previewFileUrl.replace(\"/preview/\", \"/files/\")}/${\n    file.key\n  }?download=1${previewUrlFlag}`;\n\n  const handlePreviewChange = (file) => {\n    // this was originally used when files list was on a different tab\n    // from the preview box\n    // setActiveTab(previewTabIndex);\n    setActivePreviewFile(file);\n  };\n\n  return (\n    <tr>\n      <td\n        className={`${!!stackedRows ? \"fourteen\" : \"nine\"} wide ${\n          !!showChecksum && \"with-checksum\"\n        }`}\n      >\n        <span className=\"mobile only download-button-wrapper\">\n          {/* FIXME: restrict to previewable file types */}\n          {withPreview && (\n            <Button\n              role=\"button\"\n              className=\"ui compact mini button preview-link\"\n              target=\"preview-iframe\"\n              data-file-key={file.key}\n              size=\"mini\"\n              onClick={() => handlePreviewChange(file)}\n              compact\n            >\n              <i className=\"eye icon\"></i>\n              <span className=\"tablet computer only\">\n                {\" \"}\n                {i18next.t(\"Preview\")}\n              </span>\n            </Button>\n          )}\n          <Button\n            role=\"button\"\n            className=\"ui compact mini button\"\n            href={downloadUrl}\n          >\n            <i className=\"download icon\"></i>\n            <span className=\"tablet computer only\">\n              {!!fullWordButtons && i18next.t(\"Download\")}\n            </span>\n          </Button>\n        </span>\n        <div>\n          <a href={downloadUrl} className=\"filename\">\n            {file.key}\n          </a>\n        </div>\n        <small\n          className={`ui text-muted ${\n            !stackedRows ? \"mobile only\" : \"\"\n          } filesize`}\n        >\n          {formatBytes(file.size)}\n        </small>{\" \"}\n        {!!showChecksum && (\n          <small className=\"ui text-muted font-tiny checksum\">\n            {file.checksum}\n            <div\n              className=\"ui icon inline-block\"\n              data-tooltip={i18next.t(\n                \"This is the file fingerprint (checksum), which can be used to verify the file integrity.\"\n              )}\n            >\n              <i className=\"question circle checksum icon\"></i>\n            </div>\n          </small>\n        )}\n      </td>\n      <td\n        className={`single line ${!stackedRows ? \"tablet computer only\" : \"\"}`}\n      >\n        {formatBytes(file.size)}\n      </td>\n      <td className=\"right aligned collapsing tablet computer only\">\n        <span>\n          {/* FIXME: restrict to previewable file types */}\n          {withPreview && (\n            <Button\n              role=\"button\"\n              className=\"ui compact mini button preview-link\"\n              target=\"preview-iframe\"\n              data-file-key={file.key}\n              size=\"mini\"\n              onClick={() => handlePreviewChange(file)}\n              compact\n            >\n              <i className=\"eye icon\"></i>\n              <span className=\"tablet computer only\">\n                {\" \"}\n                {i18next.t(\"Preview\")}\n              </span>\n            </Button>\n          )}\n          <a\n            role=\"button\"\n            className=\"ui compact mini button\"\n            href={downloadUrl}\n          >\n            <i className=\"download icon\"></i>\n            <span className=\"tablet computer only\">\n              {!!fullWordButtons && i18next.t(\"Download\")}\n            </span>\n          </a>\n        </span>\n      </td>\n    </tr>\n  );\n};\n\nconst FileListTable = ({\n  activePreviewFile,\n  fileCountToShow,\n  files,\n  fileTabIndex,\n  fullWordButtons,\n  isPreview,\n  previewFileUrl,\n  previewTabIndex,\n  record,\n  setActivePreviewFile,\n  setActiveTab,\n  showChecksum,\n  showTableHeader,\n  showTotalSize,\n  stackedRows,\n  totalFileSize,\n  withPreview,\n}) => {\n  const displayFiles =\n    fileCountToShow > 0 ? files.slice(0, fileCountToShow) : files;\n  return (\n    <>\n      <table className=\"ui striped table files fluid unstackable\">\n        {!!showTableHeader && (\n          <thead>\n            <tr>\n              <th>{i18next.t(\"Name\")}</th>\n              <th className=\"computer tablet only\">{i18next.t(\"Size\")}</th>\n              <th className=\"computer tablet only\"></th>\n            </tr>\n          </thead>\n        )}\n        <tbody>\n          {!!showTotalSize && files.length > 1 && (\n            <tr\n              className={`title ${record.ui.access_status.id} total-files`}\n              tabIndex=\"0\"\n            >\n              <td>\n                {i18next.t(`All ${files.length} files (as zip archive)`)}\n                <a\n                  role=\"button\"\n                  className=\"ui compact mini button right floated archive-link mobile only\"\n                  href={record.links.archive}\n                >\n                  <i className=\"file archive icon button\"></i>\n                  <span className=\"tablet computer only\">\n                    {\" \"}\n                    {i18next.t(\"Download all\")}\n                  </span>\n                </a>\n              </td>\n              <td className=\"tablet computer only\">{totalFileSize} in total</td>\n              <td className=\"tablet computer only\">\n                <a\n                  role=\"button\"\n                  className=\"ui compact mini button right floated archive-link\"\n                  href={record.links.archive}\n                >\n                  <i className=\"file archive icon button\"></i>\n                  <span className=\"tablet computer only\">\n                    {\" \"}\n                    {i18next.t(\"Download all\")}\n                  </span>\n                </a>\n              </td>\n            </tr>\n          )}\n          {displayFiles.map((file) => (\n            <FileListTableRow\n              activePreviewFile={activePreviewFile}\n              key={file.key}\n              file={file}\n              fileTabIndex={fileTabIndex}\n              fullWordButtons={fullWordButtons}\n              isPreview={isPreview}\n              previewFileUrl={previewFileUrl}\n              previewTabIndex={previewTabIndex}\n              setActivePreviewFile={setActivePreviewFile}\n              setActiveTab={setActiveTab}\n              showChecksum={showChecksum}\n              stackedRows={stackedRows}\n              withPreview={withPreview}\n            />\n          ))}\n        </tbody>\n      </table>\n      {fileCountToShow > 0 && fileCountToShow < files.length && (\n        <Button\n          role=\"button\"\n          floated=\"right\"\n          size=\"mini\"\n          className=\"ui compact archive-link\"\n          aria-label=\"See more files\"\n          compact\n          onClick={() => setActiveTab(fileTabIndex)}\n        >\n          <i className=\"file archive icon button\"></i>{\" \"}\n          {i18next.t(\"See more files\")}\n        </Button>\n      )}\n    </>\n  );\n};\n\nconst FileListDropdownMenu = ({\n  asButton = true,\n  asLabeled = true,\n  asFluid = true,\n  asItem = false,\n  classNames = \"icon positive right labeled\",\n  files,\n  fileTabIndex,\n  icon = \"download\",\n  id,\n  previewFileUrl,\n  previewUrlFlag,\n  record,\n  sectionIndex,\n  setActiveTab,\n  text = \"Download\",\n  totalFileSize,\n}) => {\n  return (\n    <Dropdown\n      id={id}\n      text={text}\n      button={asButton}\n      icon={icon}\n      labeled={asLabeled}\n      fluid={asFluid}\n      className={classNames}\n      item={asItem}\n      tabIndex={sectionIndex}\n      as=\"button\"\n      openOnFocus={false}\n      closeOnBlur={false}\n    >\n      <Dropdown.Menu>\n        {/* <Dropdown.Header>Choose a file</Dropdown.Header> */}\n        {files.map(({ key, size }, idx) => (\n          <Dropdown.Item\n            href={`${previewFileUrl.replace(\n              \"/preview/\",\n              \"/files/\"\n            )}/${key}?download=1${previewUrlFlag}`}\n            as=\"button\"\n            tabIndex={idx + sectionIndex + 1}\n          >\n            <span className=\"text\">{key}</span>\n            <small className=\"description filesize\">\n              <Icon name={getFileTypeIconName(key)} />\n              {formatBytes(size)}\n            </small>\n          </Dropdown.Item>\n        ))}\n        <Dropdown.Divider />\n        <Dropdown.Item\n          href={record.links.archive}\n          icon={\"archive\"}\n          text={i18next.t(`Download all`)}\n          description={totalFileSize}\n          as=\"button\"\n          tabIndex={files.length + sectionIndex + 1}\n        ></Dropdown.Item>\n        <Dropdown.Divider />\n        <Dropdown.Item\n          text=\"File details and previews\"\n          icon={\"eye\"}\n          onClick={() => setActiveTab(fileTabIndex)}\n          as=\"button\"\n          tabIndex={files.length + 1 + sectionIndex + 1}\n        ></Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n};\n\nconst FileListItemDropdown = ({\n  defaultPreviewFile,\n  fileCountToShow,\n  files,\n  fileTabIndex,\n  handleMobileMenuClick,\n  id,\n  isPreview,\n  permissions,\n  previewFileUrl,\n  record,\n  setActiveTab,\n  showEmbargoMessage,\n  totalFileSize,\n}) => {\n  const previewUrlFlag = isPreview ? \"&preview=1\" : \"\";\n  return (\n    <>\n      {/* access is \"restricted\" also if record is metadata-only */}\n      {!!permissions.can_read_files &&\n        files.enabled !== false &&\n        (files?.length < 2 ? (\n          <Menu.Item\n            id={id}\n            as=\"a\"\n            href={`${previewFileUrl.replace(\"/preview/\", \"/files/\")}/${\n              defaultPreviewFile.key\n            }?download=1${previewUrlFlag}`}\n            name=\"download\"\n            // active={activeItem === \"video play\"}\n            onClick={handleMobileMenuClick}\n          >\n            <Icon name=\"download\" />\n            Download\n          </Menu.Item>\n        ) : (\n          <FileListDropdownMenu\n            {...{\n              icon: false,\n              files,\n              fileTabIndex,\n              id,\n              record,\n              previewFileUrl,\n              previewUrlFlag,\n              setActiveTab,\n              text: (\n                <>\n                  <Icon name=\"download\" />\n                  Download\n                </>\n              ),\n              totalFileSize,\n              asButton: false,\n              asLabeled: false,\n              asFluid: false,\n              asItem: true,\n              classNames: \"pointing\",\n            }}\n          />\n        ))}\n    </>\n  );\n};\n\nconst FileListDropdown = ({\n  defaultPreviewFile,\n  fileCountToShow,\n  files,\n  fileTabIndex,\n  isPreview,\n  permissions,\n  previewFileUrl,\n  record,\n  sectionIndex,\n  setActiveTab,\n  showEmbargoMessage = true,\n  totalFileSize,\n}) => {\n  const previewUrlFlag = isPreview ? \"&preview=1\" : \"\";\n  return (\n    <>\n      {/* access is \"restricted\" also if record is metadata-only */}\n      {(record.access.files === \"restricted\" || files.enabled === false) &&\n        showEmbargoMessage && <EmbargoMessage record={record} />}\n      {!!permissions.can_read_files &&\n        (files?.length < 2 ? (\n          <Button\n            id=\"record-details-download\"\n            positive\n            fluid\n            as=\"button\"\n            href={`${previewFileUrl.replace(\"/preview/\", \"/files/\")}/${\n              defaultPreviewFile.key\n            }?download=1${previewUrlFlag}`}\n            content={i18next.t(\"Download\")}\n            icon=\"download\"\n            labelPosition=\"right\"\n            tabIndex={sectionIndex}\n          ></Button>\n        ) : (\n          <FileListDropdownMenu\n            {...{\n              files,\n              fileTabIndex,\n              previewFileUrl,\n              previewUrlFlag,\n              record,\n              sectionIndex,\n              setActiveTab,\n              totalFileSize,\n            }}\n          />\n        ))}\n    </>\n  );\n};\n\nconst FileListBox = ({\n  activePreviewFile,\n  fileCountToShow = 0,\n  files,\n  fileTabIndex,\n  fullWordButtons = true,\n  isPreview,\n  permissions,\n  previewFileUrl,\n  previewTabIndex,\n  record,\n  setActiveTab,\n  setActivePreviewFile,\n  showChecksum = true,\n  showEmbargoMessage = true,\n  showTableHeader = true,\n  showTotalSize = true,\n  stackedRows = false,\n  totalFileSize,\n  withPreview,\n}) => {\n  return (\n    <div className={`ui mb-10 ${record.ui.access_status.id}`}>\n      <div className=\"content pt-0\">\n        {/* Note: \"restricted\" is the value also for metadata-only records */}\n        {(record.access.files === \"restricted\" || files.enabled === false) &&\n          showEmbargoMessage && <EmbargoMessage record={record} />}\n        {!!permissions.can_read_files && files.enabled !== false && (\n          <FileListTable\n            activePreviewFile={activePreviewFile}\n            previewFileUrl={previewFileUrl}\n            files={files}\n            fileCountToShow={fileCountToShow}\n            fileTabIndex={fileTabIndex}\n            fullWordButtons={fullWordButtons}\n            pid={record.id}\n            isPreview={isPreview}\n            permissions={permissions}\n            previewTabIndex={previewTabIndex}\n            record={record}\n            setActivePreviewFile={setActivePreviewFile}\n            setActiveTab={setActiveTab}\n            showChecksum={showChecksum}\n            showTableHeader={showTableHeader}\n            showTotalSize={showTotalSize}\n            stackedRows={stackedRows}\n            totalFileSize={totalFileSize}\n            withPreview={withPreview !== undefined ? withPreview : true}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport {\n  FileListBox,\n  FileListDropdown,\n  FileListItemDropdown,\n  FileListTable,\n  FileListTableRow,\n  EmbargoMessage,\n};\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { Placeholder } from \"semantic-ui-react\";\nimport { EmbargoMessage } from \"./EmbargoMessage\";\n\nconst FilePreview = ({\n  activePreviewFile,\n  defaultPreviewFile,\n  files,\n  hasFiles,\n  hasPreviewableFiles,\n  isPreview,\n  permissions,\n  previewFileUrl,\n  record,\n  setActivePreviewFile,\n  totalFileSize,\n  useDynamicPreview = true,\n}) => {\n  const [loading, setLoading] = useState(true);\n  const previewUrlFlag = isPreview ? \"&preview=1\" : \"\";\n  const fileToShow = useDynamicPreview ? activePreviewFile : defaultPreviewFile;\n  const fileExtension = fileToShow?.key?.split(\".\").pop();\n\n  const iFrameRef = useRef(null);\n  const iframeCurrent = iFrameRef.current;\n  useEffect(() => {\n    iFrameRef.current?.addEventListener(\"load\", () => setLoading(false));\n    return () => {\n      iFrameRef.current?.removeEventListener(\"load\", () => setLoading(false));\n    };\n  }, [iFrameRef.current]);\n\n  return (\n    <>\n      {record.access.files === \"restricted\" && (\n        <EmbargoMessage record={record} />\n      )}\n      {!!hasFiles && permissions.can_read_files && (\n        <section\n          id=\"record-file-preview\"\n          aria-label={i18next.t(\"File preview\")}\n        >\n          {!!hasPreviewableFiles && (\n            <>\n              {!!loading && (\n                <>\n                  <div className=\"placeholder-header-bar\" />\n                  <Placeholder fluid>\n                    {[...Array(8).keys()].map((e) => (\n                      <Placeholder.Paragraph>\n                        {[...Array(8).keys()].map((e) => (\n                          <Placeholder.Line key={e} />\n                        ))}\n                        <Placeholder.Line />\n                      </Placeholder.Paragraph>\n                    ))}\n                  </Placeholder>\n                </>\n              )}\n              <iframe\n                title={i18next.t(\"Preview\")}\n                className={`preview-iframe ${\n                  loading ? \"hidden\" : \"\"\n                } ${fileExtension}`}\n                id={record.id}\n                ref={iFrameRef}\n                name={record.id}\n                src={`${previewFileUrl}${fileToShow.key}?${previewUrlFlag}`}\n                width=\"100%\"\n                // height=\"800\"\n              ></iframe>\n            </>\n          )}\n        </section>\n      )}\n    </>\n  );\n};\n\nexport { FilePreview };\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\n\nfunction Keywords({ passedClassNames, keywords }) {\n  return keywords?.map((keyword) => (\n    <ul className=\"ui horizontal list no-bullets subjects\" key={keyword}>\n      <li className=\"item\">\n        <a\n          href={`/search?q=custom_fields['kcr:user_defined_tags']:\"${keyword}\"`}\n          className=\"subject\"\n          title={i18next.t(\"Search results for \") + keyword}\n        >\n          {keyword}\n        </a>\n      </li>\n    </ul>\n  ));\n}\n\nexport { Keywords };\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { Keywords } from \"../components/Keywords\";\n\nfunction SubjectHeadings({\n  passedClassNames,\n  subjectHeadings,\n  keywords,\n  showKeywords,\n}) {\n  return (\n    <div className={`record-subjects ui ${passedClassNames}`}>\n      {subjectHeadings.map(({ id, scheme, subject }) => (\n        <ul className=\"ui horizontal list no-bullets subjects\" key={id}>\n          <li className=\"item\">\n            <a\n              href={`/search?q=metadata.subjects.id:\"${id}\"`}\n              className=\"subject\"\n              title={i18next.t(\"Search results for \") + subject}\n            >\n              {subject}\n            </a>\n          </li>\n        </ul>\n      ))}\n      {!!showKeywords && keywords?.length && keywords[0] ? (\n        <>\n          <h3 className=\"ui header tiny mt-10\">User-defined Keywords</h3>\n          <Keywords\n            passedClassNames=\"ui bottom attached segment rdm-sidebar pr-0 pt-0\"\n            keywords={keywords}\n          />\n        </>\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n}\n\nexport { SubjectHeadings };\n","import React from 'react';\nimport { i18next } from '@translations/invenio_app_rdm/i18next';\n\nconst BadgesFormatsList = ({imageFilename, target, alternative='DOI'}) => {\n  return (\n    <>\n    <h4> <small>{i18next.t(\"Markdown\")}</small> </h4>\n    <h4>\n        <pre>[![{alternative}]({imageFilename})]({target})</pre>\n    </h4>\n    <h4>\n        <small>{i18next.t(\"reStructedText\")}</small>\n    </h4>\n    <h4>\n        <pre>.. image:: {imageFilename}\n   :target: {target}</pre>\n    </h4>\n    <h4>\n        <small>{i18next.t(\"HTML\")}</small>\n    </h4>\n    <h4>\n      <pre>&lt;a href=\"{target}\"&gt;&lt;img src=\"{imageFilename}\" alt=\"{alternative}\"&gt;&lt;/a&gt;</pre>\n    </h4>\n\n    <h4>\n        <small>{i18next.t(\"Image URL\")}</small>\n    </h4>\n    <h4>\n      <pre>{imageFilename}</pre>\n    </h4>\n\n    <h4>\n        <small>{i18next.t(\"Target URL\")}</small>\n    </h4>\n    <h4>\n      <pre>{target}</pre>\n    </h4>\n    </>\n  );\n};\n\nexport { BadgesFormatsList };\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { BadgesFormatsList } from \"../components/BadgesFormatsList\";\n\nconst Doi = ({ idDoi, doiBadgeUrl, doiLink }) => {\n  return (\n    <>\n      <span\n        className=\"get-badge\"\n        data-toggle=\"tooltip\"\n        data-placement=\"bottom\"\n        style={{ cursor: \"pointer\" }}\n        title={i18next.t(\"Get the DOI badge!\")}\n      >\n        <img\n          id=\"record-doi-badge\"\n          data-target={`[data-modal='${idDoi}']`}\n          src={doiBadgeUrl}\n          alt={idDoi}\n        />\n      </span>\n\n      <div\n        id=\"doi-modal\"\n        className=\"ui modal fade badge-modal\"\n        data-modal={idDoi}\n      >\n        <div className=\"header\">{i18next.t(\"DOI Badge\")}</div>\n        <div className=\"content\">\n          <h4>\n            <small>{i18next.t(\"DOI\")}</small>\n          </h4>\n          <h4>\n            <pre>{idDoi}</pre>\n          </h4>\n          <BadgesFormatsList imageFilename={doiBadgeUrl} target={doiLink} />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport { Doi };\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { Accordion, Icon } from \"semantic-ui-react\";\nimport { Creatibutors } from \"./Creatibutors\";\nimport { Doi } from \"../components/Doi\";\nimport { groupObjectsBy, toPidUrl } from \"../util\";\nimport { Analytics } from \"./Analytics\";\n\nfunction getCustomFieldComponents({\n  sectionFields,\n  customFields,\n  detailOrder,\n}) {\n  if (detailOrder) {\n    sectionFields = detailOrder.map(({ section, subsections }) =>\n      sectionFields.find((fieldCfg) => fieldCfg.field === section)\n    );\n  }\n\n  return sectionFields.map((fieldCfg) => {\n    const fieldValue = customFields[fieldCfg.field];\n    if (!!fieldValue) {\n      if (typeof fieldValue === \"object\") {\n        let entries = Object.entries(fieldValue);\n        const orderSubsections = detailOrder.find(\n          ({ section }) => section === fieldCfg.field\n        )?.subsections;\n        if (orderSubsections) {\n          entries = orderSubsections.reduce((acc, { section }) => {\n            const match = entries.find(([key, value]) => key === section);\n            return match ? [...acc, match] : acc;\n          }, []);\n        }\n        return (\n          <>\n            {entries.map(([key, value]) => (\n              <DetailItem\n                key={key}\n                title={fieldCfg.props[key].label}\n                value={value}\n                trueLabel={fieldCfg.props[key].trueLabel}\n                falseLabel={fieldCfg.props[key].falseLabel}\n                isVocabulary={fieldCfg.props[key].isVocabulary}\n              />\n            ))}\n          </>\n        );\n      } else {\n        return (\n          <DetailItem\n            key={fieldCfg.field}\n            title={fieldCfg.props.label}\n            value={fieldValue}\n            trueLabel={fieldCfg.props.trueLabel}\n            falseLabel={fieldCfg.props.falseLabel}\n            isVocabulary={fieldCfg.props.isVocabulary}\n          />\n        );\n      }\n    } else {\n      return null;\n    }\n  });\n}\n\nconst References = ({ references, identifierSchemes }) => {\n  return (\n    <>\n      {references.map(({ reference, identifier, scheme }, index) => (\n        <dd>\n          {reference.reference}\n          {identifier &&\n            (scheme\n              ? ` (${identifierSchemes[scheme]} - ${identifier})`\n              : ` (${identifier})`)}\n        </dd>\n      ))}\n    </>\n  );\n};\n\nconst AdditionalDates = ({ dates }) => {\n  return (\n    <>\n      {dates.map(({ type, date: dateValue, description }, index) => (\n        <React.Fragment key={type.title_l10n}>\n          <dt className=\"ui tiny header\">{type.title_l10n}</dt>\n          <dd>\n            {dateValue}\n            {description && (\n              <span className=\"text-muted\"> ({description})</span>\n            )}\n          </dd>\n        </React.Fragment>\n      ))}\n    </>\n  );\n};\n\nconst FundingItem = ({ item, index }) => {\n  const { award, funder } = item;\n\n  if (award) {\n    const { title_l10n, number, identifiers } = award;\n\n    return (\n      <dl class=\"details-list mt-0\">\n        {title_l10n && (\n          <dt className=\"ui tiny header\">\n            <span className=\"mr-5\">{title_l10n}</span>\n            {number && (\n              <span\n                className=\"ui mini basic label ml-0 mr-5\"\n                id={`number-label-${index}`}\n              >\n                {number}\n              </span>\n            )}\n            {identifiers &&\n              identifiers\n                .filter((identifier) => identifier.scheme === \"url\")\n                .map((identifier) => (\n                  <a\n                    key={identifier.identifier}\n                    href={identifier.identifier}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    aria-label={i18next.t(\"Open external link\")}\n                  >\n                    <i className=\"external alternate icon\"></i>\n                  </a>\n                ))}\n          </dt>\n        )}\n        {funder && <dd className=\"text-muted\">{funder.name}</dd>}\n      </dl>\n    );\n  } else {\n    return <h4 className=\"ui tiny header\">{funder.name}</h4>;\n  }\n};\n\nfunction Funding({ funding }) {\n  return (\n    <>\n      {funding.map((item, index) => (\n        <FundingItem key={index} item={item} index={index} />\n      ))}\n    </>\n  );\n}\n\nfunction IdentifiersForGroup({ identifiers, identifierSchemes, landingUrls }) {\n  return (\n    <>\n      {identifiers.map(({ scheme, identifier, resource_type }) => (\n        <dd key={identifier}>\n          {scheme && (\n            <span className=\"text-muted\">{`${identifierSchemes[scheme]}: `}</span>\n          )}\n          {identifier && (\n            <>\n              <a\n                href={toPidUrl(identifier, scheme, landingUrls)}\n                target=\"_blank\"\n                title={i18next.t(\"Opens in new tab\")}\n              >\n                {identifier}\n              </a>\n              {resource_type && ` (${resource_type.title_l10n})`}\n            </>\n          )}\n        </dd>\n      ))}\n    </>\n  );\n}\n\nfunction RelatedIdentifiers({\n  relatedIdentifiers,\n  identifierSchemes,\n  landingUrls,\n}) {\n  const groups = groupObjectsBy(\n    relatedIdentifiers,\n    ({ relation_type }) => relation_type.title_l10n\n  );\n\n  return (\n    <>\n      {Object.entries(groups).map(([relationType, identifiers]) => (\n        <React.Fragment key={relationType}>\n          <dt className=\"ui tiny header\">{relationType}</dt>\n          <IdentifiersForGroup\n            identifiers={identifiers}\n            identifierSchemes={identifierSchemes}\n            landingUrls={landingUrls}\n          />\n        </React.Fragment>\n      ))}\n    </>\n  );\n}\n\nconst DOITextLink = ({ doi, doiLink }) => {\n  return (\n    <>\n      <dt className=\"ui tiny header\">DOI</dt>\n      <dd key={doi}>\n        <a href={doiLink} target=\"_blank\" title={_(\"Opens in new tab\")}>\n          {doi}\n        </a>\n      </dd>\n    </>\n  );\n};\n\nconst URLs = ({ identifiers }) => {\n  return (\n    <>\n      <dt className=\"ui tiny header\">URLs</dt>\n      {identifiers\n        .filter(({ scheme }) => scheme === \"url\")\n        .map(({ identifier }) => (\n          <dd key={identifier}>\n            {identifier && (\n              <a\n                href={identifier}\n                target=\"_blank\"\n                title={_(\"Opens in new tab\")}\n              >\n                {identifier}\n              </a>\n            )}\n          </dd>\n        ))}\n    </>\n  );\n};\n\nconst AlternateIdentifiers = ({\n  alternateIdentifiers,\n  identifierSchemes,\n  landingUrls,\n}) => {\n  console.log(\"altids\", alternateIdentifiers);\n  const groups = groupObjectsBy(alternateIdentifiers, ({ scheme }) => scheme);\n  return Object.keys(groups)\n    .filter((scheme) => scheme !== \"url\")\n    .map((scheme) => (\n      <React.Fragment key={scheme}>\n        <dt className=\"ui tiny header\">{identifierSchemes[scheme]}</dt>\n        {groups[scheme].map(({ scheme, identifier }) => (\n          <dd key={identifier}>\n            {identifier && (\n              <a\n                href={toPidUrl(identifier, scheme, landingUrls)}\n                target=\"_blank\"\n                title={_(\"Opens in new tab\")}\n              >\n                {identifier}\n              </a>\n            )}\n          </dd>\n        ))}\n      </React.Fragment>\n    ));\n};\n\nconst TitleDetail = ({ titleType, titleLang, title }) => {\n  return (\n    <React.Fragment key={title}>\n      <dt className=\"ui tiny header\">\n        {titleType}\n        {titleLang && (\n          <span className=\"language text-muted\">{` (${titleLang})`}</span>\n        )}\n      </dt>\n      <dd>{title}</dd>\n    </React.Fragment>\n  );\n};\n\nconst AdditionalTitles = ({ addTitles }) => {\n  return (\n    <>\n      {addTitles.map(({ type, lang, title }) => (\n        <TitleDetail\n          key={title}\n          titleType={type.title_l10n}\n          titleLang={lang && lang.title_l10n}\n          title={title}\n        />\n      ))}\n    </>\n  );\n};\n\nconst Volumes = ({ volumes }) => {\n  let volString = \"\";\n  const this_vol = volumes[\"volume\"] ? `Volume ${volumes[\"volume\"]}` : null;\n  const vols = volumes[\"total_volumes\"] ? volumes[\"total_volumes\"] : null;\n  if (this_vol && vols) {\n    volString = `${this_vol} of ${vols}`;\n  } else if (this_vol) {\n    volString = this_vol;\n  } else {\n    volString = `${vols} volumes`;\n  }\n  return (\n    <React.Fragment key=\"volumes\">\n      <dt className=\"ui tiny header\">Volumes</dt>\n      <dd>{volString}</dd>\n    </React.Fragment>\n  );\n};\n\n/** Function to get the list of publication details for display.\n *\n * @param {*} record The record object\n * @param {*} doiBadgeUrl The URL of the DOI badge image\n * @param {*} detailOrder The order of the details to display. An array\n *  of strings that should match titles in the detailsInfo list within\n *  this function.\n * @returns Array of objects with title and value. The values are React components.\n */\nconst getDetailsComponents = ({\n  customFieldsUi,\n  detailOrder,\n  doiBadgeUrl,\n  hasFiles,\n  iconsHcUsername,\n  iconsGnd,\n  iconsOrcid,\n  iconsRor,\n  identifierSchemes,\n  landingUrls,\n  localizedStats,\n  record,\n  showDecimalSizes,\n}) => {\n  const idDoi = record.pids.doi ? record.pids.doi.identifier : null;\n  const detailsInfo = [\n    {\n      title: i18next.t(\"Additional dates\"),\n      value: record.ui.dates ? (\n        <AdditionalDates dates={record.ui.dates} />\n      ) : null,\n    },\n    {\n      title: i18next.t(\"Additional titles\"),\n      value: record.ui.additional_titles ? (\n        <AdditionalTitles addTitles={record.ui.additional_titles} />\n      ) : null,\n    },\n    {\n      title: i18next.t(\"Alternate identifiers\"),\n      value: record.metadata.identifiers?.filter(\n        (id) => id.scheme !== \"url\"\n      ) ? (\n        <AlternateIdentifiers\n          alternateIdentifiers={record.metadata.identifiers}\n          identifierSchemes={identifierSchemes}\n          landingUrls={landingUrls}\n        />\n      ) : null,\n    },\n    {\n      title: i18next.t(\"Analytics\"),\n      value: (\n        <Analytics\n          record={record}\n          hasFiles={hasFiles}\n          localizedStats={localizedStats}\n          showDecimalSizes={showDecimalSizes}\n        />\n      ),\n    },\n    {\n      title: i18next.t(\"Awarding university\"),\n      value:\n        record.ui.publishing_information &&\n        record.ui.publishing_information.thesis\n          ? record.ui.publishing_information.thesis\n          : null,\n    },\n    {\n      title: i18next.t(\"Chapter label\"),\n      value: record.ui.custom_fields[\"kcr:chapter_label\"]\n        ? record.ui.custom_fields[\"kcr:chapter_label\"]\n        : null,\n    },\n    {\n      title: i18next.t(\"Conference\"),\n      value: record.ui.conference ? (\n        <ConferenceDetailSection conference={record.ui.conference} />\n      ) : null,\n    },\n    {\n      title: i18next.t(\"Conference organization\"),\n      value: record.ui.custom_fields[\"kcr:meeting_organization\"]\n        ? record.ui.custom_fields[\"kcr:meeting_organization\"]\n        : null,\n    },\n    {\n      title: i18next.t(\"Contributors\"),\n      value: (\n        <Creatibutors\n          creators={record.ui.creators}\n          contributors={record.ui.contributors}\n          iconsRor={iconsRor}\n          iconsOrcid={iconsOrcid}\n          iconsHcUsername={iconsHcUsername}\n          iconsGnd={iconsGnd}\n          landingUrls={landingUrls}\n        />\n      ),\n    },\n    {\n      title: i18next.t(\"Course title\"),\n      value: record.custom_fields[\"kcr:course_title\"]\n        ? record.custom_fields[\"kcr:course_title\"]\n        : null,\n    },\n    {\n      title: i18next.t(\"Degree\"),\n      value: record.custom_fields[\"kcr:degree\"]\n        ? record.custom_fields[\"kcr:degree\"]\n        : null,\n    },\n    {\n      title: i18next.t(\"Department\"),\n      value: record.custom_fields[\"kcr:institution_department\"]\n        ? record.custom_fields[\"kcr:institution_department\"]\n        : null,\n    },\n    {\n      title: i18next.t(\"Development status\"),\n      value: record.ui.custom_fields[\"code:developmentStatus\"]\n        ? record.ui.custom_fields[\"code:developmentStatus\"][\"title_l10n\"]\n        : null,\n    },\n    {\n      title: i18next.t(\"DOI badge\"),\n      value:\n        idDoi !== null ? (\n          <Doi\n            idDoi={idDoi}\n            doiBadgeUrl={doiBadgeUrl}\n            doiLink={record.links.doi}\n          />\n        ) : null,\n    },\n    {\n      title: i18next.t(\"DOI\"),\n      value:\n        idDoi !== null ? (\n          <DOITextLink doiLink={record.links.doi} doi={idDoi} />\n        ) : null,\n    },\n    {\n      title: i18next.t(\"Edition\"),\n      value: record.custom_fields[\"kcr:edition\"]\n        ? record.custom_fields[\"kcr:edition\"]\n        : null,\n    },\n    {\n      title: i18next.t(\"Frameworks or runtimes\"),\n      value: record.custom_fields[\"code:runtimePlatform\"]\n        ? record.custom_fields[\"code:runtimePlatform\"]\n        : null,\n    },\n    {\n      title: i18next.t(\"Funding\"),\n      value: record.ui.funding ? <Funding funding={record.ui.funding} /> : null,\n    },\n    {\n      title: i18next.t(\"Imprint\"),\n      value:\n        record.ui.publishing_information &&\n        record.ui.publishing_information.imprint\n          ? record.ui.publishing_information.imprint\n          : null,\n    },\n    {\n      title: i18next.t(\"Formats\"),\n      value: record.metadata.formats\n        ? record.metadata.formats.join(\", \")\n        : null,\n    },\n    {\n      title: i18next.t(\"Languages\"),\n      value: record.ui.languages\n        ? record.ui.languages.map(({ title_l10n }) => title_l10n).join(\", \")\n        : null,\n    },\n    {\n      title: i18next.t(\"Media and materials\"),\n      value: record.custom_fields[\"kcr:media\"]\n        ? record.custom_fields[\"kcr:media\"].join(\",\")\n        : null,\n    },\n    {\n      title: i18next.t(\"Operating systems supported\"),\n      value: record.custom_fields[\"code:operatingSystem\"]\n        ? record.custom_fields[\"code:operatingSystem\"]\n        : null,\n    },\n    {\n      title: i18next.t(\"Programming languages\"),\n      value: record.custom_fields[\"code:programmingLanguage\"]\n        ? record.custom_fields[\"code:programmingLanguage\"]\n        : null,\n    },\n    {\n      title: i18next.t(\"Project title\"),\n      value: record.custom_fields[\"kcr:project_title\"]\n        ? record.custom_fields[\"kcr:project_title\"]\n        : null,\n    },\n    {\n      title: i18next.t(\"Publication date\"),\n      value: record.ui.publication_date_l10n_long,\n    },\n    {\n      title: i18next.t(\"Project or publication website\"),\n      value: record.custom_fields[\"kcr:publication_url\"]\n        ? record.custom_fields[\"kcr:publication_url\"]\n        : null,\n    },\n    { title: i18next.t(\"Publisher\"), value: record.metadata.publisher },\n    {\n      title: i18next.t(\"Published in\"),\n      value:\n        record.ui.publishing_information &&\n        record.ui.publishing_information.journal\n          ? record.ui.publishing_information.journal\n          : null,\n    },\n    {\n      title: i18next.t(\"References\"),\n      value: record.ui.references ? (\n        <References\n          references={record.ui.references}\n          identifierSchemes={identifierSchemes}\n        />\n      ) : null,\n    },\n    {\n      title: i18next.t(\"Related identifiers\"),\n      value: record.ui.related_identifiers ? (\n        <RelatedIdentifiers\n          relatedIdentifiers={record.ui.related_identifiers}\n          identifierSchemes={identifierSchemes}\n          landingUrls={landingUrls}\n        />\n      ) : null,\n    },\n    {\n      title: i18next.t(\"Source code repository\"),\n      value: record.custom_fields[\"code:codeRepository\"]\n        ? record.custom_fields[\"code:codeRepository\"]\n        : null,\n    },\n    {\n      title: i18next.t(\"Resource type\"),\n      value: record.ui.resource_type.title_l10n,\n    },\n    {\n      title: i18next.t(\"Series\"),\n      value: record.custom_fields[\"kcr:series\"]\n        ? record.custom_fields[\"kcr:series\"]\n        : null,\n    },\n    {\n      title: i18next.t(\"Sizes\"),\n      value: record.metadata.sizes ? record.metadata.sizes.join(\", \") : null,\n    },\n    {\n      title: i18next.t(\"Sponsoring institution\"),\n      value: record.custom_fields[\"kcr:sponsoring_institution\"]\n        ? record.custom_fields[\"kcr:sponsoring_institution\"]\n        : null,\n    },\n    {\n      title: i18next.t(\"URLs\"),\n      value: record.metadata.identifiers?.filter(\n        (id) => id.scheme === \"url\"\n      ) ? (\n        <URLs identifiers={record.metadata.identifiers} />\n      ) : null,\n    },\n    {\n      title: i18next.t(\"Version\"),\n      value: record.metadata.version ? record.metadata.version : null,\n    },\n    {\n      title: i18next.t(\"Volumes\"),\n      value: record.custom_fields[\"kcr:volumes\"] ? (\n        <Volumes volumes={record.custom_fields[\"kcr:volumes\"]} />\n      ) : null,\n    },\n  ];\n\n  const filteredDetailsInfo = detailsInfo.filter(\n    ({ title, value }) =>\n      (typeof value === \"string\" || React.isValidElement(value)) &&\n      detailOrder.includes(title)\n  );\n  const sortedDetailsInfo = filteredDetailsInfo.toSorted(\n    (a, b) => detailOrder.indexOf(a.title) - detailOrder.indexOf(b.title)\n  );\n\n  const detailsComponentArray = sortedDetailsInfo.map(({ title, value }) =>\n    typeof value === \"string\" ? (\n      <DetailItem title={title} value={value} key={title} />\n    ) : (\n      value\n    )\n  );\n\n  return detailsComponentArray.length > 0 ? detailsComponentArray : null;\n};\n\nconst DetailItem = ({ title, value, trueLabel, falseLabel, isVocabulary }) => {\n  let valueComponent = <dd></dd>;\n  if (typeof value === \"string\") {\n    valueComponent = <dd dangerouslySetInnerHTML={{ __html: value }} />;\n  } else if (typeof value === \"boolean\") {\n    valueComponent = <dd>{value ? trueLabel : falseLabel}</dd>;\n  } else if (isVocabulary) {\n    valueComponent = <dd>{value.join(\", \")}</dd>;\n  } else if (\n    Array.isArray(value) &&\n    value.length > 0 &&\n    typeof value[0] === \"string\"\n  ) {\n    valueComponent = <dd>{value.join(\", \")}</dd>;\n  } else {\n    valueComponent = <dd>{value}</dd>;\n  }\n\n  return (\n    <>\n      <dt className=\"ui tiny header\">{title}</dt>\n      {valueComponent}\n    </>\n  );\n};\n\nconst ConferenceDetailSection = ({ conference }) => {\n  let titlePiece = conference.url ? (\n    <a href={conference.url}>\n      <i className=\"fa fa-external-link\"></i> {conference.title}\n    </a>\n  ) : (\n    `${conference.title}`\n  );\n  let conferencePieces = [\n    titlePiece,\n    conference.place,\n    conference.dates,\n    conference.session,\n    conference.session_part,\n  ];\n  conferencePieces = conferencePieces.filter((piece) => piece);\n\n  return (\n    <>\n      <dt className=\"ui tiny header\">Event</dt>\n      <dd>{conferencePieces.join(\", \")}</dd>\n      {conference.url && !conference.title && (\n        <>\n          <dt className=\"ui tiny header\">Event</dt>\n          <dd>\n            <a href={conference.url}>\n              <i className=\"fa fa-external-link\"></i>{\" \"}\n              {i18next.t(\"Conference website\")}\n            </a>\n          </dd>\n        </>\n      )}\n    </>\n  );\n};\n\nconst PublishingDetails = ({\n  customFieldsUi,\n  doiBadgeUrl,\n  hasFiles,\n  iconsHcUsername,\n  iconsGnd,\n  iconsOrcid,\n  iconsRor,\n  identifierSchemes,\n  landingUrls,\n  localizedStats,\n  record,\n  section,\n  show: showWhole,\n  showDecimalSizes,\n  showAccordionIcons = false,\n  subsections: accordionSections,\n}) => {\n  const [activeIndex, setActiveIndex] = React.useState([1]);\n  console.log(\"PublishingDetails activeIndex\", activeIndex);\n  const customFieldSectionNames = customFieldsUi.map(({ section }) => section);\n  const sectionsArray = accordionSections.reduce(\n    (acc, { section: sectionTitle, subsections, icon, show }) => {\n      if (customFieldSectionNames.includes(sectionTitle)) {\n        const detailOrder = subsections;\n        const sectionCustomFields = customFieldsUi.find(\n          ({ section }) => section === sectionTitle\n        );\n        const fieldContent = getCustomFieldComponents({\n          sectionFields: sectionCustomFields.fields,\n          customFields: record.custom_fields,\n          detailOrder: detailOrder,\n        });\n        if (fieldContent[0]) {\n          acc.push({\n            key: sectionTitle,\n            title: { content: sectionTitle, icon: sectionCustomFields.icon },\n            content: {\n              content: fieldContent,\n            },\n          });\n        }\n      } else {\n        const detailOrder = subsections?.map(({ section }) => section);\n        acc.push({\n          title: { content: sectionTitle, icon: icon },\n          content: {\n            content: getDetailsComponents({\n              customFieldsUi: customFieldsUi,\n              detailOrder: detailOrder,\n              doiBadgeUrl: doiBadgeUrl,\n              hasFiles: hasFiles,\n              iconsHcUsername: iconsHcUsername,\n              iconsGnd: iconsGnd,\n              iconsOrcid: iconsOrcid,\n              iconsRor: iconsRor,\n              identifierSchemes: identifierSchemes,\n              landingUrls: landingUrls,\n              localizedStats: localizedStats,\n              record: record,\n              showDecimalSizes: showDecimalSizes,\n            }),\n          },\n          show: show,\n        });\n      }\n      return acc;\n    },\n    []\n  );\n  console.log(\"PublishingDetails\", record);\n  console.log(\n    \"PublishingDetails customFieldsUi\",\n    customFieldsUi,\n    customFieldSectionNames\n  );\n  console.log(\"PublishingDetails accordionSections\", accordionSections);\n  console.log(\"PublishingDetails sectionsArray\", sectionsArray);\n\n  const handleHeaderClick = (index) => {\n    const newIndex = activeIndex.includes(index)\n      ? activeIndex.filter((i) => i !== index)\n      : [...activeIndex, index];\n    setActiveIndex(newIndex);\n  };\n\n  return (\n    <Accordion fluid exclusive={false} defaultActiveIndex={[1]}>\n      {sectionsArray.map(\n        ({ title, content, show }, idx) =>\n          content.content && (\n            <>\n              <Accordion.Title\n                as=\"button\"\n                active={activeIndex.includes(idx)}\n                index={idx}\n                onClick={() => handleHeaderClick(idx)}\n                className={`${title.content} ${show}`}\n                tabindex={20 + idx}\n              >\n                <Icon\n                  name={\n                    !!title.icon && !!showAccordionIcons\n                      ? title.icon\n                      : \"dropdown\"\n                  }\n                />\n                {title.content}\n              </Accordion.Title>\n              <Accordion.Content\n                active={activeIndex.includes(idx)}\n                className={`${title.content} ${show}`}\n              >\n                <dl className=\"details-list mt-0\">\n                  {content.content.map((component) => component)}\n                </dl>\n              </Accordion.Content>\n            </>\n          )\n      )}\n    </Accordion>\n  );\n};\n\nexport { PublishingDetails, getDetailsComponents };\n","import React from \"react\";\nimport { Dropdown } from \"semantic-ui-react\";\nimport Overridable from \"react-overridable\";\n\nconst ExportDropdown = (props) => {\n  const {\n    asButton = true,\n    asFluid = true,\n    asItem = false,\n    icon = \"dropdown\",\n    id = \"export-dropdown\",\n    text = \"Export metadata as...\",\n    classNames = \"\",\n    record,\n    recordExporters,\n    sectionIndex,\n    isPreview,\n  } = props;\n  const formats = [];\n  for (const [fmt, val] of Object.entries(recordExporters)) {\n    const name = val.name || fmt;\n    const exportUrl = isPreview\n      ? `/records/${record.id}/export/${fmt}?preview=1`\n      : `/records/${record.id}/export/${fmt}`;\n    formats.push({ name, exportUrl });\n  }\n\n  return (\n    <Overridable id=\"InvenioModularDetailPage.ExportDropdown.layout\" {...props}>\n      <Dropdown\n        basic\n        button={asButton}\n        fluid={asFluid}\n        id={id}\n        item={asItem}\n        text={text}\n        icon={icon}\n        className={classNames}\n        tabIndex={sectionIndex}\n        as=\"button\"\n        openOnFocus={false}\n        closeOnBlur={false}\n      >\n        <Dropdown.Menu>\n          {formats.map((format, index) => (\n            <Dropdown.Item\n              as=\"button\"\n              key={index}\n              text={format.name}\n              href={format.exportUrl}\n              tabIndex={sectionIndex + index + 1}\n            />\n          ))}\n        </Dropdown.Menu>\n      </Dropdown>\n    </Overridable>\n  );\n};\n\nexport { ExportDropdown };\n","// This file is part of Knowledge Commons Repository\n// Copyright (C) 2023 MESH Research\n//\n// It is modified from files provided in InvenioRDM\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Graz University of Technology.\n// Copyright (C) 2021 TU Wien\n//\n// Knowledge Commons Repository and Invenio RDM Records are both free software;\n// you can redistribute them and/or modify them under the terms of the MIT\n// License; see LICENSE file for more details.\n\nimport React, { useRef, useEffect, useState } from \"react\";\nimport {\n  Button,\n  Checkbox,\n  Form,\n  Input,\n  Icon,\n  Label,\n  Popup,\n} from \"semantic-ui-react\";\nimport Overridable from \"react-overridable\";\n\nfunction PopupInput({ message }) {\n  const inputRef = useRef(null);\n  const [remember, setRemember] = useState(false);\n  const [domain, setDomain] = useState(\"mastodon.social\");\n  const [messageText, setMessageText] = useState(message);\n\n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.focus();\n    }\n\n    const storedDomain = localStorage.getItem(\"mastodon-instance\");\n    if (!!storedDomain) {\n      setDomain(storedDomain);\n      setRemember(true);\n    } else {\n      setDomain(\"mastodon.social\");\n      setRemember(false);\n    }\n  }, []);\n\n  const handleSubmit = () => {\n    window.open(`https://${domain}/share?text=${message}`, \"_blank\").focus();\n    if (remember) {\n      localStorage.setItem(\"mastodon-instance\", domain);\n    }\n  };\n\n  const handleChangeCheckbox = (e, data) => {\n    setRemember(data.checked);\n    if (!!data.checked) {\n      localStorage.setItem(\"mastodon-instance\", domain);\n    } else {\n      localStorage.removeItem(\"mastodon-instance\");\n    }\n  };\n\n  const handleChangeDomain = (e) => {\n    setDomain(e.target.value);\n  };\n\n  const handleChangeText = (e) => {\n    setMessageText(e.target.value);\n  };\n\n  return (\n    <Form>\n      <Form.Field>\n        <label>Your Mastadon domain</label>\n        <Input\n          ref={inputRef}\n          onChange={handleChangeDomain}\n          value={domain}\n          size=\"small\"\n        />\n      </Form.Field>\n      <Form.Field size=\"tiny\">\n        <Checkbox\n          label=\"Remember me\"\n          onChange={handleChangeCheckbox}\n          toggle\n          size=\"tiny\"\n        />\n      </Form.Field>\n      <Form.Field>\n        <textarea\n          rows=\"6\"\n          defaultValue={messageText}\n          onChange={handleChangeText}\n        />\n      </Form.Field>\n      <Button type=\"submit\" onClick={handleSubmit}>\n        Toot\n      </Button>\n    </Form>\n  );\n}\n\nfunction PopupButton({ trigger, message }) {\n  return (\n    <Popup\n      trigger={trigger}\n      content={<PopupInput message={message} />}\n      on=\"click\"\n      position=\"top right\"\n    />\n  );\n}\n\nfunction SharingIconLink({ name, tabIndex, url, iconName }) {\n  return name === \"Mastodon\" ? (\n    <PopupButton\n      trigger={\n        <Button\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          icon\n          compact\n          basic\n          size=\"big\"\n          tabIndex={tabIndex}\n        >\n          <i className=\"icon mastodon\">\n            <svg alt=\"Mastodon\" viewBox=\"0 0 24 24\">\n              <use xlinkHref=\"/static/images/mastodon.svg#mastodon\" />\n            </svg>\n          </i>\n        </Button>\n      }\n      message={url}\n    />\n  ) : (\n    <Button\n      href={url}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      icon\n      compact\n      basic\n      size=\"big\"\n      tabIndex={tabIndex}\n    >\n      <Icon name={iconName} />\n    </Button>\n  );\n}\n\nfunction SidebarSharingSection(props) {\n  const { record, sectionIndex, show } = props;\n  const pageLink = encodeURIComponent(record.links.self_html);\n  console.log(\"pageLink\", pageLink);\n\n  const socialMediaLinks = [\n    {\n      name: \"Mastodon\",\n      url: `${record.metadata.title}%0A${pageLink}`,\n    },\n    {\n      name: \"Facebook\",\n      url: `https://www.facebook.com/sharer/sharer.php?u=${pageLink}`,\n    },\n    {\n      name: \"LinkedIn\",\n      url: `https://www.linkedin.com/sharing/share-offsite/?url=${pageLink}`,\n    },\n    {\n      name: \"Reddit\",\n      url: `https://www.reddit.com/submit?url=${pageLink}&title=${record.metadata.title}`,\n    },\n    {\n      name: \"WhatsApp\",\n      url: `https://api.whatsapp.com/send?text=${record.metadata.title}+${pageLink}`,\n    },\n    {\n      name: \"Telegram\",\n      url: `https://telegram.me/share/url?url=${pageLink}&text=${record.metadata.title}`,\n    },\n    {\n      name: \"VK\",\n      url: `http://vk.com/share.php?url=${pageLink}&title=${record.metadata.title}&description=${record.metadata.description}`,\n    },\n    {\n      name: \"Weibo\",\n      url: `http://service.weibo.com/share/share.php?url=${pageLink}&title=${record.metadata.title}`,\n    },\n    {\n      name: \"Email\",\n      url: `mailto:?subject=${\"Knowledge Commons Article\"}&body=${\n        record.metadata.title\n      }%0A${pageLink}%0A${record.metadata.description}`,\n    },\n  ];\n\n  return (\n    <Overridable id=\"InvenioModularDetailPage.SidebarSharingSection.layout\">\n      <div className={`sidebar-container ${show}`} id=\"social-sharing\">\n        <div className=\"ui rdm-sidebar\">\n          {/* <h2 className=\"ui medium top attached header mt-0\">Share</h2> */}\n          {socialMediaLinks.map(({ name, url }, idx) => (\n            <SharingIconLink\n              key={name}\n              name={name}\n              url={url}\n              iconName={name === \"Email\" ? \"mail\" : name.toLowerCase()}\n              tabIndex={sectionIndex + idx + 1}\n            />\n          ))}\n        </div>\n      </div>\n    </Overridable>\n  );\n}\n\nexport { SidebarSharingSection };\n","// This file is part of InvenioRDM\n// Copyright (C) 2020-2021 CERN.\n// Copyright (C) 2020-2021 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport axios from \"axios\";\nimport _get from \"lodash/get\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  Button,\n  Dropdown,\n  Grid,\n  Icon,\n  Label,\n  Message,\n  Placeholder,\n  List,\n  Divider,\n} from \"semantic-ui-react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport PropTypes from \"prop-types\";\n\nconst deserializeRecord = (record) => ({\n  id: record.id,\n  parent_id: record.parent.id,\n  publication_date: record.ui.publication_date_l10n_medium,\n  version: record.ui.version,\n  links: record.links,\n  pids: record.pids,\n});\n\nconst NUMBER_OF_VERSIONS = 5;\n\nconst RecordVersionItem = ({ item, activeVersion }) => {\n  const doi = _get(item.pids, \"doi.identifier\", \"\");\n  return (\n    <List.Item\n      key={item.id}\n      {...(activeVersion && { className: \"version active\" })}\n    >\n      <List.Content floated=\"left\">\n        {activeVersion ? (\n          <span>\n            {i18next.t(\"Version {{version}}\", { version: item.version })}\n          </span>\n        ) : (\n          <a href={`/records/${item.id}`}>\n            {i18next.t(\"Version {{version}}\", { version: item.version })}\n          </a>\n        )}\n\n        {doi && (\n          <a\n            href={`https://doi.org/${doi}`}\n            className={\n              \"doi\" + (activeVersion ? \" text-muted-darken\" : \" text-muted\")\n            }\n          >\n            {doi}\n          </a>\n        )}\n      </List.Content>\n\n      <List.Content floated=\"right\">\n        <small className={activeVersion ? \"text-muted-darken\" : \"text-muted\"}>\n          {item.publication_date}\n        </small>\n      </List.Content>\n    </List.Item>\n  );\n};\n\nRecordVersionItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  activeVersion: PropTypes.bool.isRequired,\n};\n\nconst PreviewMessage = () => {\n  return (\n    <Grid className=\"container\">\n      <Grid.Row>\n        <Grid.Column>\n          <Message info>\n            <Message.Header>\n              <Icon name=\"eye\" />\n              {i18next.t(\"Preview\")}\n            </Message.Header>\n            <p>{i18next.t(\"Only published versions are displayed.\")}</p>\n          </Message>\n        </Grid.Column>\n      </Grid.Row>\n    </Grid>\n  );\n};\n\nconst VersionsContentDropdown = ({\n  currentRecordInResults,\n  isPreview,\n  loading,\n  recid,\n  recordDeserialized,\n  recordPublicationDate,\n  recordVersions,\n  sectionIndex,\n}) => {\n  const [activeVersion, setActiveVersion] = useState(recid);\n\n  let versionOptions = recordVersions?.hits?.map((item) => {\n    let opt = {\n      key: item.id,\n      text: i18next.t(`Version ${item.version}`),\n      href: `/records/${item.id}`,\n      pubdate: item.publication_date,\n    };\n    const doi = _get(item.pids, \"doi.identifier\", \"\");\n    if (doi) {\n      opt.description = `https://doi.org/${doi}`;\n    }\n    return opt;\n  });\n  if (!versionOptions) {\n    versionOptions = [];\n  }\n  if (isPreview && !currentRecordInResults) {\n    versionOptions.push({\n      key: recid,\n      text: i18next.t(`Preview version`),\n      href: `/records/${recid}`,\n      pubdate: recordPublicationDate,\n    });\n  }\n\n  return (\n    <div\n      className={`ui clearing segment rdm-sidebar pr-0 pt-0 pb-0 ${\n        isPreview && \"preview\"\n      }`}\n    >\n      <>\n        <h3\n          className={`version-label ${\n            isPreview ? \"preview\" : \"\"\n          } ui header tiny`}\n        >\n          {isPreview ? (\n            <>\n              {i18next.t(\"Preview\")}\n              <Icon name=\"eye\" />\n            </>\n          ) : (\n            <>\n              {i18next.t(\"Version \")}\n              {loading ? (\n                <Icon loading name=\"spinner\" size=\"tiny\" />\n              ) : (\n                recordDeserialized.version\n              )}\n            </>\n          )}\n        </h3>\n        {recordVersions.total > 1 && (\n          <Dropdown\n            as=\"button\"\n            button\n            basic\n            text=\"other versions\"\n            direction=\"left\"\n            className=\"right floated\"\n            tabIndex={sectionIndex}\n            closeOnBlur={false}\n            openOnFocus={false}\n          >\n            <Dropdown.Menu>\n              {versionOptions.map((opt, idx) => (\n                <Dropdown.Item\n                  as=\"button\"\n                  key={opt.key}\n                  href={opt.href}\n                  tabIndex={sectionIndex + idx + 1}\n                >\n                  <span className=\"text\">{opt.text}</span>\n                  <small className=\"pubdate description\">{opt.pubdate}</small>\n                  <small className=\"doi description\">{opt.description}</small>\n                </Dropdown.Item>\n              ))}\n              <Dropdown.Divider />\n              <Dropdown.Item\n                as=\"button\"\n                href={`/search?q=parent.id:${recordDeserialized.parent_id}&sort=version&f=allversions:true`}\n                text={i18next.t(`View all ${recordVersions.total} versions`)}\n                tabIndex={sectionIndex + versionOptions.length + 2}\n              />\n            </Dropdown.Menu>\n          </Dropdown>\n        )}\n      </>\n    </div>\n  );\n};\n\nconst VersionsContentList = ({\n  currentRecordInResults,\n  isPreview,\n  loading,\n  recid,\n  recordDeserialized,\n  recordVersions,\n}) => {\n  return (\n    <List divided>\n      <>\n        {loading ? (\n          <Placeholder fluid>\n            <Placeholder.Header>\n              <Placeholder.Line />\n              <Placeholder.Line />\n              <Placeholder.Line />\n              <Placeholder.Line />\n            </Placeholder.Header>\n          </Placeholder>\n        ) : (\n          <>\n            {isPreview ? <PreviewMessage /> : null}\n            {recordVersions.hits.map((item) => (\n              <RecordVersionItem\n                key={item.id}\n                item={item}\n                activeVersion={item.id === recid}\n              />\n            ))}\n            {!currentRecordInResults && (\n              <>\n                <Divider horizontal>...</Divider>\n                <RecordVersionItem item={recordDeserialized} activeVersion />\n              </>\n            )}\n            {recordVersions.total > 1 && (\n              <Grid className=\"mt-0\">\n                <Grid.Row centered>\n                  <a\n                    href={`/search?q=parent.id:${recordDeserialized.parent_id}&sort=version&f=allversions:true`}\n                    className=\"font-small\"\n                  >\n                    {i18next.t(`View all {{count}} versions`, {\n                      count: recordVersions.total,\n                    })}\n                  </a>\n                </Grid.Row>\n              </Grid>\n            )}\n          </>\n        )}\n      </>\n    </List>\n  );\n};\n\nconst RecordVersionsList = ({\n  record,\n  isPreview,\n  sectionIndex,\n  widgetStyle = \"list\",\n}) => {\n  const recordDeserialized = deserializeRecord(record);\n  const recid = recordDeserialized.id;\n  const [loading, setLoading] = useState(true);\n  const [currentRecordInResults, setCurrentRecordInResults] = useState(false);\n  const [recordVersions, setRecordVersions] = useState({});\n\n  useEffect(() => {\n    async function fetchVersions() {\n      const result = await axios(\n        `${recordDeserialized.links.versions}?size=${NUMBER_OF_VERSIONS}&sort=version&allversions=true`,\n        {\n          headers: {\n            Accept: \"application/vnd.inveniordm.v1+json\",\n          },\n          withCredentials: true,\n        }\n      );\n      let { hits, total } = result.data.hits;\n      hits = hits.map(deserializeRecord);\n      setCurrentRecordInResults(hits.some((record) => record.id === recid));\n      setRecordVersions({ hits, total });\n      setLoading(false);\n    }\n    fetchVersions();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return widgetStyle === \"list\" ? (\n    <VersionsContentList\n      isPreview={isPreview}\n      loading={loading}\n      recordDeserialized={recordDeserialized}\n      recid={recid}\n      recordVersions={recordVersions}\n      currentRecordInResults={currentRecordInResults}\n    />\n  ) : (\n    <VersionsContentDropdown\n      isPreview={isPreview}\n      loading={loading}\n      recordDeserialized={recordDeserialized}\n      recid={recid}\n      recordPublicationDate={recordDeserialized.publication_date}\n      recordVersions={recordVersions}\n      currentRecordInResults={currentRecordInResults}\n      sectionIndex={sectionIndex}\n    />\n  );\n};\n\nRecordVersionsList.propTypes = {\n  record: PropTypes.object.isRequired,\n  isPreview: PropTypes.bool.isRequired,\n};\n\nexport { RecordVersionsList };\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { RecordVersionsList } from \"../components/RecordVersionList\";\nimport Overridable from \"react-overridable\";\n\nconst VersionsListSection = (props) => {\n  const { isPreview, record, showHeader = false } = props;\n  return (\n    <Overridable\n      id=\"InvenioModularDetailPage.VersionsListSection.layout\"\n      {...props}\n    >\n      <div id=\"record-versions\" className=\"sidebar-container\">\n        <h2 className=\"ui medium top attached header mt-0\">\n          {i18next.t(\"Versions\")}\n        </h2>\n        <div className=\"ui segment rdm-sidebar bottom attached pl-0 pr-0 pt-0\">\n          <div className=\"versions\">\n            <div\n              id=\"recordVersions\"\n              data-record={record}\n              data-preview={isPreview}\n            >\n              <RecordVersionsList record={record} isPreview={isPreview} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </Overridable>\n  );\n};\n\nconst VersionsDropdownSection = (props) => {\n  const { isPreview, record, sectionIndex } = props;\n  return (\n    <Overridable\n      id=\"InvenioModularDetailPage.VersionsDropdownSection.layout\"\n      {...props}\n    >\n      <div className=\"sidebar-container\" id=\"record-versions\">\n        <RecordVersionsList\n          record={record}\n          isPreview={isPreview}\n          widgetStyle=\"dropdown\"\n          sectionIndex={sectionIndex}\n        />\n      </div>\n    </Overridable>\n  );\n};\n\nexport { VersionsListSection, VersionsDropdownSection };\n","import { Analytics } from \"./components/Analytics\";\nimport { Citation } from \"./components/Citation\";\nimport { CitationSection } from \"./sections/DetailSidebarCitationSection\";\nimport { CommunitiesBanner } from \"./components/CommunitiesBanner\";\nimport { ContentWarning } from \"./components/ContentWarning\";\nimport { Creatibutors, CreatibutorsShortList } from \"./components/Creatibutors\";\nimport { Descriptions } from \"./components/Descriptions\";\nimport { DetailMainTabs } from \"./sections/DetailMainTabs\";\nimport { FileListBox } from \"./components/FileList\";\nimport { FilePreview } from \"./components/FilePreview\";\nimport { FilePreviewWrapper } from \"./sections/FilePreviewWrapper\";\nimport { MainSubjectsSection } from \"./sections/DetailMainSubjectsSection\";\nimport { PublishingDetails } from \"./components/PublishingDetails\";\nimport { RecordTitle } from \"./components/RecordTitle\";\nimport { SidebarContentWarningSection } from \"./sections/DetailSidebarContentWarningSection\";\nimport { SidebarDetailsSection } from \"./sections/DetailSidebarDetailsSection\";\nimport { SidebarDownloadSection } from \"./sections/DetailSidebarDownloadSection\";\nimport { SidebarExportSection } from \"./sections/DetailSidebarExportSection\";\nimport { SidebarRightsSection } from \"./sections/DetailSidebarRightsSection\";\nimport { SidebarSharingSection } from \"./sections/DetailSidebarSharingSection\";\nimport { SidebarSubjectsSection } from \"./sections/DetailSidebarSubjectsSection\";\nimport { VersionsDropdownSection, VersionsListSection } from \"./sections/DetailSidebarVersionsSection\";\n\n\nconst componentsMap = {\n    \"Analytics\": Analytics,\n    \"Citation\": Citation,\n    \"CitationSection\": CitationSection,\n    \"CommunitiesBanner\": CommunitiesBanner,\n    \"ContentWarning\": ContentWarning,\n    \"Creatibutors\": Creatibutors,\n    \"CreatibutorsShortList\": CreatibutorsShortList,\n    \"Descriptions\": Descriptions,\n    \"DetailMainTabs\": DetailMainTabs,\n    \"FileListBox\": FileListBox,\n    \"FilePreview\": FilePreview,\n    \"FilePreviewWrapper\": FilePreviewWrapper,\n    \"MainSubjectsSection\": MainSubjectsSection,\n    \"PublishingDetails\": PublishingDetails,\n    \"RecordTitle\": RecordTitle,\n    \"SidebarContentWarningSection\": SidebarContentWarningSection,\n    \"SidebarDetailsSection\": SidebarDetailsSection,\n    \"SidebarDownloadSection\": SidebarDownloadSection,\n    \"SidebarExportSection\": SidebarExportSection,\n    \"SidebarRightsSection\": SidebarRightsSection,\n    \"SidebarSharingSection\": SidebarSharingSection,\n    \"SidebarSubjectsSection\": SidebarSubjectsSection,\n    \"VersionsListSection\": VersionsListSection,\n    \"VersionsDropdownSection\": VersionsDropdownSection,\n};\n\nexport { componentsMap };","import React, { useState } from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { Button } from \"semantic-ui-react\";\n\nconst Descriptions = ({\n  description,\n  additional_descriptions,\n  hasFiles,\n  permissions,\n}) => {\n  const [open, setOpen] = useState(false);\n  return (\n    <>\n      {description && (\n        <>\n          <h2 id=\"description-heading\">{i18next.t(\"Description\")}</h2>\n          {description.length > 240 &&\n          hasFiles &&\n          permissions?.can_read_files ? (\n            <>\n              <p>\n                {open ? (\n                  description\n                ) : (\n                  <>\n                    {`${description.substring(0, 240)}`}&hellip;&nbsp;&nbsp;\n                    <a\n                      as=\"a\"\n                      onClick={() => setOpen(!open)}\n                      href=\"#description-heading\"\n                      size=\"tiny\"\n                      className=\"show-more\"\n                    >\n                      Show more\n                    </a>\n                  </>\n                )}\n              </p>\n            </>\n          ) : (\n            <p>{description}</p>\n          )}\n          {additional_descriptions &&\n            open &&\n            additional_descriptions.map((add_description, idx) => (\n              <section\n                id={`additional-description-${idx}`}\n                key={`additional-description-${idx}`}\n                className=\"rel-mt-2\"\n                aria-label={i18next.t(add_description.type.title_l10n)}\n              >\n                <h2>\n                  {i18next.t(add_description.type.title_l10n)}\n                  <span className=\"text-muted language\">\n                    {add_description.lang\n                      ? `(${add_description.lang.title_l10n})`\n                      : \"\"}\n                  </span>\n                </h2>\n                <p>{add_description.description}</p>\n              </section>\n            ))}\n          {open && (\n            <Button\n              onClick={() => setOpen(!open)}\n              size=\"tiny\"\n              className=\"show-less\"\n            >\n              Show less\n            </Button>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nexport { Descriptions };\n","import React from \"react\";\nimport { FilePreview } from \"../components/FilePreview\";\nimport Overridable from \"react-overridable\";\n\nconst FilePreviewWrapper = (props) => {\n  const {\n    activePreviewFile,\n    previewFileUrl,\n    files,\n    hasFiles,\n    hasPreviewableFiles,\n    isPreview,\n    permissions,\n    defaultPreviewFile,\n    record,\n    setActivePreviewFile,\n    totalFileSize,\n  } = props;\n  return (\n    <Overridable\n      id=\"InvenioModularDetailPage.FilePreviewWrapper.layout\"\n      {...props}\n    >\n      <FilePreview\n        activePreviewFile={activePreviewFile}\n        previewFileUrl={previewFileUrl}\n        files={files}\n        hasFiles={hasFiles}\n        hasPreviewableFiles={hasPreviewableFiles}\n        isPreview={isPreview}\n        permissions={permissions}\n        defaultPreviewFile={defaultPreviewFile}\n        record={record}\n        setActivePreviewFile={setActivePreviewFile}\n        totalFileSize={totalFileSize}\n        useDynamicPreview={false}\n      />\n    </Overridable>\n  );\n};\n\nexport { FilePreviewWrapper };\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { SubjectHeadings } from \"../components/Subjects\";\nimport Overridable from \"react-overridable\";\n\nfunction MainSubjectsSection(props) {\n  const { record, showKeywords = true, show } = props;\n  const subjects = record.metadata.subjects;\n\n  const subjectHeadings = subjects?.filter((subject) => !!subject.scheme);\n  const subjectLabels = subjectHeadings?.map(({ subject }) =>\n    subject.toLowerCase()\n  );\n\n  const keywords = subjects\n    ?.filter((subject) => !subject.scheme)\n    .map(({ subject }) => subject)\n    .concat(record.custom_fields[\"kcr:user_defined_tags\"])\n    .filter((keyword) => !subjectLabels.includes(keyword?.toLowerCase()));\n  // FIXME: restore optional grouping of subject headings\n  // const groupedSubjects = subjectHeadings?.reduce((groups, subject) => {\n  //   if (!groups[subject.scheme]) {\n  //     groups[subject.scheme] = [];\n  //   }\n  //   groups[subject.scheme].push(subject);\n  //   return groups;\n  // }, {});\n\n  return (\n    <Overridable\n      id=\"InvenioModularDetailPage.MainSubjectsSection.layout\"\n      {...props}\n    >\n      {subjectHeadings?.length ? (\n        <div\n          id=\"subjects\"\n          className={show}\n          aria-label={i18next.t(\"Record subject headings\")}\n        >\n          <h2 className=\"ui tiny header\">{i18next.t(\"Subjects\")}</h2>\n          <SubjectHeadings\n            passedClassNames=\"ui \"\n            subjectHeadings={subjectHeadings}\n            keywords={keywords}\n            showKeywords={showKeywords}\n          />\n        </div>\n      ) : (\n        \"\"\n      )}\n    </Overridable>\n  );\n}\n\nexport { MainSubjectsSection };\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\n\nconst RecordTitle = ({ title }) => {\n  return (\n    <section id=\"record-title-section\" aria-label={i18next.t(\"Record title\")}>\n      <h1 id=\"record-title\" className=\"wrap-overflowing-text\">\n        {title}\n      </h1>\n    </section>\n  );\n};\n\nexport { RecordTitle };\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport Overridable from \"react-overridable\";\nimport { ContentWarning } from \"../components/ContentWarning\";\n\nconst SidebarContentWarningSection = (props) => {\n  const { record, section } = props;\n  return (\n    <Overridable\n      id=\"InvenioModularDetailPage.SidebarContentWarningSection.layout\"\n      {...props}\n    >\n      {record.custom_fields[\"kcr:content_warnin\"] && (\n        <div id=\"content-warning-container\" className=\"sidebar-container\">\n          <h2\n            id=\"content-warning-header\"\n            className=\"ui medium top attached header mt-0\"\n          >\n            {section}\n          </h2>\n          <div\n            id=\"content-warning-content\"\n            className=\"ui segment bottom attached rdm-sidebar\"\n          >\n            <ContentWarning record={record} />\n          </div>\n        </div>\n      )}\n    </Overridable>\n  );\n};\n\nexport { SidebarContentWarningSection };\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { getDetailsComponents } from \"../components/PublishingDetails\";\nimport { Doi } from \"../components/Doi\";\nimport Overridable from \"react-overridable\";\n\nconst SidebarDetailsSection = (props) => {\n  const {\n    customFieldsUi,\n    doiBadgeUrl,\n    identifierSchemes,\n    landingUrls,\n    record,\n    subsections,\n    show,\n    show_heading,\n  } = props;\n  const detailOrder = subsections.map(({ section }) => section);\n  const idDoi = record.pids.doi ? record.pids.doi.identifier : null;\n\n  return (\n    <Overridable\n      id=\"InvenioModularDetailPage.SidebarDetailsSection.layout\"\n      {...props}\n    >\n      <div\n        id=\"publication-details\"\n        className={`sidebar-container ${show}`}\n        aria-label={i18next.t(\"Publication details\")}\n      >\n        {show_heading === true && (\n          <h2 className=\"ui medium top attached header mt-0\">\n            {i18next.t(\"Details\")}\n          </h2>\n        )}\n        <div id=\"record-details\" className=\"ui segment rdm-sidebar\">\n          <div className=\"badges-row\">\n            {record.ui.resource_type && (\n              <span\n                className=\"ui label horizontal small neutral mb-5\"\n                title={i18next.t(\"Resource type\")}\n              >\n                {record.ui.resource_type.title_l10n}\n              </span>\n            )}\n\n            <span\n              className={`ui label horizontal small access-status ${record.ui.access_status.id} mb-5`}\n              title={i18next.t(\"Access status\")}\n              data-tooltip={record.ui.access_status.description_l10n}\n              data-inverted=\"\"\n            >\n              {record.ui.access_status.icon && (\n                <i className={`icon ${record.ui.access_status.icon}`}></i>\n              )}\n              {record.ui.access_status.title_l10n}\n            </span>\n          </div>\n\n          <dl className=\"details-list mt-0\">\n            {getDetailsComponents({\n              customFieldsUi,\n              detailOrder,\n              doiBadgeUrl,\n              identifierSchemes,\n              landingUrls,\n              record,\n            })}\n          </dl>\n        </div>\n      </div>\n    </Overridable>\n  );\n};\n\nexport { SidebarDetailsSection };\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { Button, Icon } from \"semantic-ui-react\";\nimport { FileListDropdown } from \"../components/FileList\";\nimport Overridable from \"react-overridable\";\n\nconst SidebarDownloadSection = (props) => {\n  const {\n    defaultPreviewFile,\n    files,\n    fileTabIndex,\n    hasFiles,\n    isPreview,\n    permissions,\n    previewFileUrl,\n    previewTabIndex,\n    record,\n    sectionIndex,\n    setActiveTab,\n    show,\n    show_heading,\n    totalFileSize,\n  } = props;\n  const previewUrlFlag = isPreview ? \"&preview=1\" : \"\";\n  return hasFiles ? (\n    <Overridable\n      id=\"InvenioModularDetailPage.SidebarDownloadSection.layout\"\n      {...props}\n    >\n      <div\n        id=\"download\"\n        className={`sidebar-container ${show}`}\n        aria-label={i18next.t(\"File download\")}\n      >\n        {show_heading === true && (\n          <h2 className=\"ui medium top attached header mt-0\">\n            {i18next.t(\"Download\")}\n          </h2>\n        )}\n        <FileListDropdown\n          id=\"record-details-download\"\n          defaultPreviewFile={defaultPreviewFile}\n          files={files}\n          fileCountToShow={3}\n          fileTabIndex={fileTabIndex}\n          fullWordButtons={false}\n          withPreview={false}\n          isPreview={isPreview}\n          permissions={permissions}\n          previewFileUrl={previewFileUrl}\n          previewTabIndex={previewTabIndex}\n          record={record}\n          sectionIndex={sectionIndex}\n          setActiveTab={setActiveTab}\n          showChecksum={false}\n          showHeading={show_heading}\n          showTableHeader={false}\n          showTotalSize={false}\n          stackedRows={true}\n          totalFileSize={totalFileSize}\n        />\n      </div>\n    </Overridable>\n  ) : null;\n};\n\nexport { SidebarDownloadSection };\n","import React from \"react\";\nimport { ExportDropdown } from \"../components/ExportDropdown\";\nimport Overridable from \"react-overridable\";\n\nconst SidebarExportSection = (props) => {\n  const { isPreview, recordExporters, record, sectionIndex, show } = props;\n  return (\n    <Overridable\n      id=\"InvenioModularDetailPage.SidebarExportSection.layout\"\n      {...props}\n    >\n      <div className={`sidebar-container ${show}`} id=\"record-export\">\n        {/* <h2 className=\"ui medium top attached header mt-0\">Export</h2>\n      <div\n        id=\"export-record\"\n        className=\"ui segment bottom attached exports rdm-sidebar\"\n      > */}\n        <ExportDropdown\n          {...{ record, isPreview, recordExporters, sectionIndex }}\n        />\n        {/* </div> */}\n      </div>\n    </Overridable>\n  );\n};\n\nexport { SidebarExportSection };\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { Popup } from \"semantic-ui-react\";\nimport Overridable from \"react-overridable\";\n\nconst SidebarRightsSection = (props) => {\n  const { rights, section } = props;\n  const licenseLink = (license) => {\n    if (license.link) {\n      return (\n        <a\n          className=\"license-link\"\n          href={license.link}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          title={i18next.t(\"Opens in new tab\")}\n        >\n          Read more\n        </a>\n      );\n    } else if (license.props && license.props.url) {\n      return (\n        <a\n          className=\"license-link\"\n          href={license.props.url}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          title={i18next.t(\"Opens in new tab\")}\n        >\n          Read more\n        </a>\n      );\n    }\n  };\n\n  return !rights ? null : (\n    <Overridable\n      id=\"InvenioModularDetailPage.SidebarRightsSection.layout\"\n      {...props}\n    >\n      <div className=\"sidebar-container\">\n        <h2 id=\"licenses-header\" className=\"ui medium top attached header mt-0\">\n          {section}\n        </h2>\n        <div id=\"licenses\" className=\"ui segment bottom attached rdm-sidebar\">\n          <ul className=\"details-list m-0 p-0\">\n            {rights.map((license, index) => (\n              <li\n                id={`license-${license.id}-${index}`}\n                className=\"has-popup\"\n                key={index}\n              >\n                <Popup\n                  id={`description-${license.id}-${index}`}\n                  className=\"licenses-description ui flowing popup transition hidden\"\n                  role=\"dialog\"\n                  aria-labelledby={`title-${license.id}-${index}`}\n                  tabIndex=\"0\"\n                  aria-haspopup=\"dialog\"\n                  aria-expanded=\"false\"\n                  aria-label={license.title_l10n}\n                  trigger={\n                    <div\n                      id={`title-${license.id}-${index}`}\n                      className=\"license clickable\"\n                      role=\"button\"\n                    >\n                      {license.icon && (\n                        <span className=\"icon-wrap\">\n                          <img\n                            className=\"icon\"\n                            src={`/static/icons/licenses/${license.icon}.svg`}\n                            alt={`${license.id} icon`}\n                          />\n                        </span>\n                      )}\n                      <span className=\"title-text\">{license.title_l10n}</span>\n                    </div>\n                  }\n                  on=\"click\"\n                >\n                  <Popup.Content\n                    id={`license-description-${index}`}\n                    className=\"description\"\n                  >\n                    {license.description_l10n && (\n                      <span className=\"text-muted\">\n                        {license.description_l10n}{\" \"}\n                      </span>\n                    )}\n                    {licenseLink(license)}\n                  </Popup.Content>\n                </Popup>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </Overridable>\n  );\n};\n\nexport { SidebarRightsSection };\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { Keywords } from \"../components/Keywords\";\nimport { SubjectHeadings } from \"../components/Subjects\";\nimport Overridable from \"react-overridable\";\n\nfunction SidebarSubjectsSection({ record, showKeywords = true, show }) {\n  const subjects = record.metadata.subjects;\n\n  const subjectHeadings = subjects?.filter((subject) => !!subject.scheme);\n  const subjectLabels = subjectHeadings?.map(({ subject }) =>\n    subject.toLowerCase()\n  );\n\n  const keywords = subjects\n    ?.filter((subject) => !subject.scheme)\n    ?.map(({ subject }) => subject)\n    ?.concat(record.custom_fields[\"kcr:user_defined_tags\"])\n    ?.filter((keyword) => !subjectLabels.includes(keyword?.toLowerCase()));\n\n  //FIXME: restore optional grouping of subject headings\n  // const groupedSubjects = subjectHeadings?.reduce((groups, subject) => {\n  //   if (!groups[subject.scheme]) {\n  //     groups[subject.scheme] = [];\n  //   }\n  //   groups[subject.scheme].push(subject);\n  //   return groups;\n  // }, {});\n\n  return (\n    <Overridable id=\"InvenioModularDetailPage.SidebarSubjectsSection.layout\">\n      {subjectHeadings?.length ? (\n        <div\n          id=\"subjects\"\n          className={`sidebar-container ${show}`}\n          aria-label={i18next.t(\"Record subject headings\")}\n        >\n          <h2 className=\"ui medium top attached header mt-0\">\n            {i18next.t(\"Subjects\")}\n          </h2>\n          <SubjectHeadings\n            passedClassNames=\"ui bottom attached segment rdm-sidebar pr-0 pt-0\"\n            subjectHeadings={subjectHeadings}\n            keywords={keywords}\n            showKeywords={showKeywords}\n          />\n        </div>\n      ) : (\n        \"\"\n      )}\n    </Overridable>\n  );\n}\n\nexport { SidebarSubjectsSection };\n","// This file is part of InvenioRDM\n// Copyright (C) 2021 Northwestern University.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { useEffect, useState } from \"react\";\nimport {\n  Dropdown,\n  Icon,\n  Input,\n  Button,\n  Message,\n  Modal,\n  Popup,\n} from \"semantic-ui-react\";\nimport axios from \"axios\";\nimport { Trans } from \"react-i18next\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { http } from \"react-invenio-forms\";\nimport PropTypes from \"prop-types\";\n\nconst ShareModal = ({ recid, open, handleClose }) => {\n  const [accessLinkObj, setAccessLinkObj] = useState();\n  const [linkCreated, setLinkCreated] = useState(false);\n  const [shareMode, setShareMode] = useState(\"view\");\n  const [copied, setCopied] = useState(false);\n\n  const dropdownOptions = [\n    { key: \"view\", text: i18next.t(\"Can view\"), value: \"view\" },\n    { key: \"preview\", text: i18next.t(\"Can preview\"), value: \"preview\" },\n    { key: \"edit\", text: i18next.t(\"Can edit\"), value: \"edit\" },\n  ];\n\n  const message = {\n    view: (\n      <span>\n        <Trans>\n          Anyone with this link <strong>can view all versions</strong> of this\n          record & files.\n        </Trans>\n      </span>\n    ),\n    preview: (\n      <span>\n        <Trans>\n          Anyone with this link{\" \"}\n          <strong>can view all published and unpublished versions</strong> of\n          this record & files.\n        </Trans>\n      </span>\n    ),\n    edit: (\n      <span>\n        <Trans>\n          Anyone with an account and this link{\" \"}\n          <strong>can edit all versions</strong> of this record & files.\n        </Trans>\n      </span>\n    ),\n  };\n\n  const copyButtonRef = React.createRef();\n\n  const getAccessLink = (linkObj) => {\n    const extraParam = shareMode === \"preview\" ? \"preview=1&\" : \"\";\n    return linkObj\n      ? `${window.location}?${extraParam}token=${linkObj.token}`\n      : \"\";\n  };\n\n  const createAccessLink = async () => {\n    await http\n      .post(\n        `/api/records/${recid}/access/links`,\n        { permission: shareMode },\n        {\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n          },\n          withCredentials: true,\n        }\n      )\n      .then((resp) => {\n        setAccessLinkObj(resp.data);\n        setLinkCreated(true);\n      });\n  };\n\n  const copyAccessLink = () => {\n    const copyText = document.querySelector(\"#input\");\n    copyText.select();\n    let copySuccess = document.execCommand(\"copy\");\n    setCopied(copySuccess);\n  };\n\n  const handleChangeMode = (e, { value }) => setShareMode(value);\n\n  const handleDelete = async () => {\n    await http\n      .delete(`/api/records/${recid}/access/links/${accessLinkObj.id}`, {\n        headers: {\n          Accept: \"application/json\",\n        },\n        withCredentials: true,\n      })\n      .then(() => {\n        setAccessLinkObj();\n        setLinkCreated(false);\n      });\n  };\n\n  useEffect(() => {\n    linkCreated && copyAccessLink();\n  }, [linkCreated]);\n\n  useEffect(() => {\n    // Update access link according to share mode\n    let source = axios.CancelToken.source();\n\n    if (accessLinkObj) {\n      (async () => {\n        await http.patch(\n          `/api/records/${recid}/access/links/${accessLinkObj.id}`,\n          { permission: shareMode },\n          {\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            withCredentials: true,\n            cancelToken: source.token,\n          }\n        );\n      })();\n    }\n    return () => {\n      source.cancel();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [shareMode]);\n\n  useEffect(() => {\n    if (accessLinkObj) {\n      setShareMode(accessLinkObj.permission);\n    }\n  }, [accessLinkObj]);\n\n  useEffect(() => {\n    // Fetch existing access link\n    let source = axios.CancelToken.source();\n\n    (async () => {\n      const result = await axios(`/api/records/${recid}/access/links`, {\n        headers: {\n          Accept: \"application/json\",\n        },\n        withCredentials: true,\n        cancelToken: source.token,\n      });\n      const { hits, total } = result.data.hits;\n      if (total > 0) {\n        // Only accessing first access link for MVP.\n        setAccessLinkObj(hits[0]);\n      }\n    })();\n\n    return () => {\n      source.cancel();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    copyButtonRef.current?.focus(); // Accessiblity: focus the copy-button when modal opens\n  }, [copyButtonRef]);\n\n  useEffect(() => {\n    let popupTimeout = setTimeout(() => {\n      setCopied(false);\n    }, 1500);\n\n    return () => {\n      clearTimeout(popupTimeout);\n    };\n  }, [copied]);\n\n  return (\n    <Modal\n      open={open}\n      onClose={handleClose}\n      className=\"share-modal\"\n      role=\"dialog\"\n      aria-labelledby=\"access-link-modal-header\"\n      aria-modal=\"true\"\n      tab-index=\"-1\"\n      closeOnDocumentClick={false}\n    >\n      <Modal.Header id=\"access-link-modal-header\">\n        <Icon name=\"share alternate\" />\n        {i18next.t(\"Get a link\")}\n      </Modal.Header>\n\n      <Modal.Content className=\"ui grid\">\n        <div className=\"share-content row\">\n          <Input\n            id=\"input\"\n            className=\"sixteen wide mobile column\"\n            value={getAccessLink(accessLinkObj)}\n            readOnly\n          />\n          <div className=\"ui sixteen wide mobile column share-content-buttons\">\n            <Dropdown\n              className=\"ui small share-link-dropdown\"\n              size=\"small\"\n              selectOnNavigation={false}\n              button\n              options={dropdownOptions}\n              defaultValue={shareMode}\n              onChange={handleChangeMode}\n            />\n            <Popup\n              position=\"top center\"\n              content={i18next.t(\"Copied!\")}\n              inverted\n              open={copied}\n              on=\"click\"\n              size=\"small\"\n              trigger={\n                <Button\n                  ref={copyButtonRef}\n                  size=\"small\"\n                  positive={accessLinkObj ? true : false}\n                  color={!accessLinkObj ? \"blue\" : \"\"}\n                  onClick={\n                    (accessLinkObj && copyAccessLink) || createAccessLink\n                  }\n                  aria-label={\n                    accessLinkObj\n                      ? i18next.t(\"Copy link\")\n                      : i18next.t(\"Get a link\")\n                  }\n                >\n                  <Icon name=\"copy outline\" />\n                  {accessLinkObj\n                    ? i18next.t(\"Copy link\")\n                    : i18next.t(\"Get a link\")}\n                </Button>\n              }\n              className=\"\"\n            />\n            <div role=\"alert\" style={{ position: \"absolute\", opacity: 0 }}>\n              <p>{copied && i18next.t(\"Copied\")}</p>\n            </div>\n          </div>\n\n          <Modal.Description>\n            <Message className=\"share-description info\">\n              <Icon name=\"warning circle\" size=\"large\" />\n              {!accessLinkObj\n                ? i18next.t(\n                    \"No link has been created. Click on 'Get a Link' to make a new link.\"\n                  )\n                : message[shareMode]}\n            </Message>\n          </Modal.Description>\n        </div>\n      </Modal.Content>\n\n      <Modal.Actions>\n        {!!accessLinkObj && (\n          <Button\n            size=\"small\"\n            negative\n            floated=\"left\"\n            onClick={handleDelete}\n            icon\n          >\n            <Icon name=\"trash alternate outline\" />\n            {i18next.t(\"Delete link\")}\n          </Button>\n        )}\n        <Button size=\"small\" onClick={handleClose}>\n          {i18next.t(\"Done\")}\n        </Button>\n      </Modal.Actions>\n    </Modal>\n  );\n};\n\nShareModal.propTypes = {\n  recid: PropTypes.string.isRequired,\n  open: PropTypes.bool.isRequired,\n  handleClose: PropTypes.func.isRequired,\n};\n\nexport { ShareModal };\n","import React, { useState } from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { Button, Icon, Grid, Popup } from \"semantic-ui-react\";\nimport PropTypes from \"prop-types\";\nimport Overridable from \"react-overridable\";\nimport { NewVersionButton } from \"@js/invenio_rdm_records/\";\nimport { http } from \"react-invenio-forms\";\nimport { ShareModal } from \"./ShareModal\";\n\nconst ShareButton = ({\n  disabled,\n  recid,\n  handleShareModalOpen,\n  handleParentPopupClose,\n  tabIndex,\n}) => {\n  const handleClick = () => {\n    handleShareModalOpen();\n    handleParentPopupClose();\n  };\n  return (\n    <Popup\n      content={i18next.t(\"You don't have permissions to share this record.\")}\n      disabled={!disabled}\n      trigger={\n        <Button\n          fluid\n          onClick={handleClick}\n          disabled={disabled}\n          primary\n          size=\"medium\"\n          aria-haspopup=\"dialog\"\n          icon\n          labelPosition=\"left\"\n          tabIndex={tabIndex}\n        >\n          <Icon name=\"share square\" />\n          {i18next.t(\"Share\")}\n        </Button>\n      }\n    />\n  );\n};\n\nShareButton.propTypes = {\n  disabled: PropTypes.bool,\n  recid: PropTypes.string.isRequired,\n};\n\nShareButton.defaultProps = {\n  disabled: false,\n};\n\nexport const EditButton = ({ recid, onError, tabIndex }) => {\n  const [loading, setLoading] = useState(false);\n\n  const handleClick = async () => {\n    setLoading(true);\n    try {\n      await http.post(`/api/records/${recid}/draft`);\n      window.location = `/uploads/${recid}`;\n    } catch (error) {\n      setLoading(false);\n      onError(error.response.data.message);\n    }\n  };\n\n  return (\n    <Button\n      fluid\n      className=\"warning\"\n      size=\"medium\"\n      onClick={handleClick}\n      loading={loading}\n      icon\n      labelPosition=\"left\"\n      tabIndex={tabIndex}\n    >\n      <Icon name=\"edit\" />\n      {i18next.t(\"Edit\")}\n    </Button>\n  );\n};\n\nfunction RecordManagementMenuMobile({\n  record,\n  permissions,\n  isDraft,\n  isPreviewSubmissionRequest,\n  currentUserId,\n}) {\n  return (\n    <section\n      id=\"mobile-record-management\"\n      className=\"ui grid tablet only mobile only\"\n    >\n      <div className=\"sixteen wide column right aligned\">\n        <button\n          id=\"manage-record-btn\"\n          className=\"ui small basic icon button m-0\"\n          aria-haspopup=\"dialog\"\n          aria-expanded=\"false\"\n        >\n          <i className=\"cog icon\"></i> Manage record\n        </button>\n      </div>\n\n      <div\n        id=\"recordManagementMobile\"\n        role=\"dialog\"\n        className=\"ui flowing popup transition hidden\"\n      >\n        <RecordManagementMenu\n          record={record}\n          permissions={permissions}\n          isDraft={isDraft}\n          isPreviewSubmissionRequest={isPreviewSubmissionRequest}\n          currentUserId={currentUserId}\n        />\n      </div>\n    </section>\n  );\n}\n\nconst RecordManagementMenu = ({\n  record,\n  permissions,\n  isDraft,\n  isPreviewSubmissionRequest,\n  currentUserId,\n  handleShareModalOpen,\n  handleParentPopupClose,\n  tabIndex,\n}) => {\n  const [error, setError] = useState(null);\n  const recid = record.id;\n\n  const handleError = (errorMessage) => {\n    console.error(errorMessage);\n    setError(errorMessage);\n  };\n\n  return (\n    <section\n      id=\"record-manage-menu\"\n      aria-label={i18next.t(\"Record management\")}\n      class=\"ui\"\n    >\n      <Grid columns={1} className=\"record-management\" id=\"recordManagement\">\n        {permissions.can_edit && !isDraft && (\n          <Grid.Column className=\"pb-5\">\n            <EditButton\n              recid={recid}\n              onError={handleError}\n              tabIndex={tabIndex + 2}\n            />\n          </Grid.Column>\n        )}\n        {isPreviewSubmissionRequest && isDraft && (\n          <Grid.Column className=\"pb-20\">\n            <Button\n              fluid\n              className=\"warning\"\n              size=\"medium\"\n              onClick={() => (window.location = `/uploads/${recid}`)}\n              icon\n              labelPosition=\"left\"\n              tabIndex={tabIndex + 4}\n            >\n              <Icon name=\"edit\" />\n              {i18next.t(\"Edit\")}\n            </Button>\n          </Grid.Column>\n        )}\n        {!isPreviewSubmissionRequest && (\n          <>\n            <Grid.Column className=\"pt-5 pb-5\">\n              <NewVersionButton\n                fluid\n                size=\"medium\"\n                record={record}\n                onError={handleError}\n                disabled={!permissions.can_new_version}\n                tabIndex={tabIndex + 6}\n              />\n            </Grid.Column>\n\n            <Grid.Column className=\"pt-5\">\n              {permissions.can_manage && (\n                <ShareButton\n                  disabled={!permissions.can_update_draft}\n                  recid={recid}\n                  handleShareModalOpen={handleShareModalOpen}\n                  handleParentPopupClose={handleParentPopupClose}\n                  tabIndex={tabIndex + 8}\n                />\n              )}\n            </Grid.Column>\n          </>\n        )}\n        <Overridable\n          id=\"InvenioAppRdm.RecordLandingPage.RecordManagement.container\"\n          isPreviewSubmissionRequest={isPreviewSubmissionRequest}\n          record={record}\n          currentUserId={currentUserId}\n        />\n        {error && (\n          <Grid.Row className=\"record-management\">\n            <Grid.Column>\n              <Message negative>{error}</Message>\n            </Grid.Column>\n          </Grid.Row>\n        )}\n      </Grid>\n    </section>\n  );\n};\n\nconst RecordManagementPopup = ({\n  currentUserId,\n  handleShareModalOpen,\n  isDraft,\n  isPreviewSubmissionRequest,\n  record,\n  permissions,\n}) => {\n  const [open, setOpen] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  return (\n    <Popup\n      id=\"record-management-popup\"\n      open={open}\n      onOpen={handleOpen}\n      onClose={handleClose}\n      inline\n      trigger={\n        <Button\n          fluid\n          labelPosition=\"right\"\n          icon=\"cog\"\n          content=\"Manage this work\"\n          basic\n          tabIndex={40}\n        />\n      }\n      on=\"click\"\n      flowing\n      content={\n        <RecordManagementMenu\n          record={record}\n          permissions={permissions}\n          isDraft={isDraft}\n          isPreviewSubmissionRequest={isPreviewSubmissionRequest}\n          currentUserId={currentUserId}\n          handleShareModalOpen={handleShareModalOpen}\n          handleParentPopupClose={handleClose}\n          tabIndex={40}\n        />\n      }\n    />\n  );\n};\n\nexport {\n  RecordManagementMenu,\n  RecordManagementMenuMobile,\n  RecordManagementPopup,\n};\n","import React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\n\nconst DraftBackButton = ({\n  backPage,\n  isPreview,\n  isDraft,\n  canManage,\n  isPreviewSubmissionRequest,\n  show,\n}) => {\n  return isPreview && !isPreviewSubmissionRequest && canManage && isDraft ? (\n    <nav\n      className={`back-navigation rel-pb-2 pl-0 ${show}`}\n      aria-label={i18next.t(\"Back-navigation\")}\n    >\n      <a className=\"ui button labeled icon basic orange\" href={backPage}>\n        <i className=\"ui icon angle left\"></i> {i18next.t(\"Back to edit\")}\n      </a>\n    </nav>\n  ) : (\n    \"\"\n  );\n};\n\nexport { DraftBackButton };\n","import React from \"react\";\n\nconst FlagNewerVersion = ({ isPublished, isLatest, latestHtml }) => {\n  if (isPublished && !isLatest) {\n    return (\n      <Message warning icon>\n        <Icon name=\"exclamation circle\" size=\"large\" />\n        <Message.Content>\n          There is a{\" \"}\n          <a href={latestHtml}>\n            <b>newer version</b>\n          </a>{\" \"}\n          of this work.\n        </Message.Content>\n      </Message>\n    );\n  } else {\n    return null;\n  }\n};\n\nexport { FlagNewerVersion };\n","// This file is part of Knowledge Commons Repository\n// Copyright (C) 2023 MESH Research\n//\n// It is modified from files provided in InvenioRDM (Invenio-App-RDM)\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Graz University of Technology.\n// Copyright (C) 2021 TU Wien\n//\n// Knowledge Commons Repository and InvenioRDM are both free software;\n// you can redistribute them and/or modify them under the terms of the MIT\n// License; see LICENSE file for more details.\n\nimport React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { Icon, Message } from \"semantic-ui-react\";\nimport Overridable from \"react-overridable\";\nimport { componentsMap } from \"../componentsMap\";\nimport { filterPropsToPass } from \"../util\";\nimport {\n  RecordManagementMenuPopup,\n  RecordManagementPopup,\n} from \"../components/RecordManagementMenu\";\nimport { ShareModal } from \"../components/ShareModal\";\nimport { DraftBackButton } from \"../components/DraftBackButton\";\nimport { FlagNewerVersion } from \"../components/FlagNewerVersion\";\n\n/** Component for the right sidebar of the detail page.\n *\n * @param {object} props\n *\n * Expects the following props:\n * - sidebarSections: list of sidebar sections to display\n * - record: record to display\n * - citationStyles: list of citation styles\n * - citationStyleDefault: default citation style\n * - doiBadgeUrl: URL of the DOI badge image\n * - isPreview: whether the record is in preview mode\n * - community: community of the record\n *\n */\nconst DetailRightSidebar = (topLevelProps) => {\n  const [shareModalOpen, setShareModalOpen] = React.useState(false);\n  const handleShareModalClose = () => setShareModalOpen(false);\n  const handleShareModalOpen = () => setShareModalOpen(true);\n  let activeSidebarSections = topLevelProps.sidebarSectionsRight.filter(\n    ({ component_name }) => {\n      return (\n        component_name !== undefined &&\n        componentsMap[component_name] !== undefined\n      );\n    }\n  );\n  return (\n    <Overridable\n      id=\"InvenioModularDetailPage.DetailRightSidebar.layout\"\n      {...{\n        ...topLevelProps,\n        handleShareModalOpen,\n        handleShareModalClose,\n        shareModalOpen,\n        activeSidebarSections,\n      }}\n    >\n      <aside className=\"sixteen wide tablet five wide computer column right-sidebar\">\n        <DraftBackButton\n          backPage={topLevelProps.backPage}\n          isPreview={topLevelProps.isPreview}\n          isDraft={topLevelProps.isDraft}\n          canManage={topLevelProps.canManage}\n          isPreviewSubmissionRequest={topLevelProps.isPreviewSubmissionRequest}\n          show={\"computer large monitor widescreen only\"}\n        />\n        <FlagNewerVersion\n          isLatest={topLevelProps.record.versions.is_latest}\n          isPublished={topLevelProps.record.is_published}\n          latestHtml={topLevelProps.record.links.latest_html}\n          show={\"computer large monitor widescreen only\"}\n        />\n        {topLevelProps.showRecordManagementMenu ? (\n          <div\n            className={`sidebar-container computer large monitor widescreen only`}\n            id=\"record-management\"\n          >\n            <RecordManagementPopup\n              record={topLevelProps.record}\n              permissions={topLevelProps.permissions}\n              isDraft={topLevelProps.isDraft}\n              isPreviewSubmissionRequest={\n                topLevelProps.isPreviewSubmissionRequest\n              }\n              currentUserId={topLevelProps.currentUserId}\n              handleShareModalOpen={handleShareModalOpen}\n            />\n            {/* here to avoid the modal being closed on popup close */}\n            <ShareModal\n              recid={topLevelProps.record.id}\n              open={shareModalOpen}\n              handleClose={handleShareModalClose}\n            />\n          </div>\n        ) : null}\n        {activeSidebarSections.map(\n          (\n            { section, component_name, props, subsections, show_heading, show },\n            idx\n          ) => {\n            const SidebarSectionComponent = componentsMap[component_name];\n            const SidebarSectionProps = filterPropsToPass(topLevelProps, props);\n            return (\n              <SidebarSectionComponent\n                {...SidebarSectionProps}\n                section={section}\n                subsections={subsections}\n                key={section}\n                show_heading={show_heading}\n                show={show}\n                sectionIndex={\n                  40 + idx + idx + idx + idx + idx + idx + idx + idx + idx + idx\n                }\n              />\n            );\n          }\n        )}\n      </aside>\n    </Overridable>\n  );\n};\n\nexport { DetailRightSidebar };\n","import React from \"react\";\nimport Overridable from \"react-overridable\";\n\nconst DetailLeftSidebar = (props) => {\n  return (\n    <Overridable\n      id=\"InvenioModularDetailPage.DetailLeftSidebar.layout\"\n      {...props}\n    >\n      <aside className=\"sixteen wide tablet five wide computer column left-sidebar\"></aside>\n    </Overridable>\n  );\n};\n\nexport { DetailLeftSidebar };\n","import React, { useState } from \"react\";\nimport { Icon, Menu, Popup } from \"semantic-ui-react\";\nimport { CitationModal } from \"./DetailSidebarCitationSection\";\nimport { ExportDropdown } from \"../components/ExportDropdown\";\nimport { FileListItemDropdown } from \"../components/FileList\";\nimport { RecordManagementMenu } from \"../components/RecordManagementMenu\";\nimport { ShareModal } from \"../components/ShareModal\";\nimport { SidebarSharingSection } from \"./DetailSidebarSharingSection\";\nimport Overridable from \"react-overridable\";\n\nconst MobileActionMenu = (props) => {\n  const {\n    canManage,\n    citationStyles,\n    citationStyleDefault,\n    currentUserId,\n    defaultPreviewFile,\n    files,\n    fileCountToShow,\n    fileTabIndex,\n    isPreview,\n    isDraft,\n    isPreviewSubmissionRequest,\n    permissions,\n    previewFileUrl,\n    record,\n    recordExporters,\n    setActiveTab,\n    totalFileSize,\n  } = props;\n  const [activeItem, setActiveItem] = useState(null);\n  const [manageOpen, setManageOpen] = useState(false);\n  const [shareModalOpen, setShareModalOpen] = React.useState(false);\n  const handleManageOpen = () => setManageOpen(true);\n  const handleManageClose = () => setManageOpen(false);\n  const handleShareModalOpen = () => setShareModalOpen(true);\n  const handleShareModalClose = () => setShareModalOpen(false);\n  const handleMobileMenuClick = (e, { name }) => {\n    activeItem === name ? setActiveItem(null) : setActiveItem(name);\n  };\n  return (\n    <Overridable\n      id=\"InvenioModularDetailPage.MobileActionMenu.layout\"\n      {...props}\n    >\n      <Menu\n        className=\"mobile tablet only sixteen wide sticky bottom\"\n        compact\n        icon=\"labeled\"\n        size=\"mini\"\n        inverted\n      >\n        {canManage && (\n          <>\n            {/* here to avoid the modal being closed on popup close */}\n            <ShareModal\n              recid={record.id}\n              open={shareModalOpen}\n              handleClose={handleShareModalClose}\n            />\n            <Popup\n              content={\n                <RecordManagementMenu\n                  record={record}\n                  permissions={permissions}\n                  isDraft={isDraft}\n                  isPreviewSubmissionRequest={isPreviewSubmissionRequest}\n                  currentUserId={currentUserId}\n                  handleShareModalOpen={handleShareModalOpen}\n                  handleParentPopupClose={handleManageClose}\n                />\n              }\n              trigger={\n                <Menu.Item\n                  name=\"manage\"\n                  active={activeItem === \"manage\"}\n                  onClick={handleMobileMenuClick}\n                >\n                  <Icon name=\"cog\" />\n                  Manage\n                </Menu.Item>\n              }\n              onClose={() => setActiveItem(null) && handleManageClose()}\n              on=\"click\"\n              open={manageOpen}\n              onOpen={handleManageOpen}\n            />\n          </>\n        )}\n        <ExportDropdown\n          id=\"record-details-export\"\n          {...{\n            asItem: true,\n            asButton: false,\n            asFluid: false,\n            icon: null,\n            record,\n            text: (\n              <>\n                <Icon name=\"share\" />\n                Export\n              </>\n            ),\n            isPreview,\n            recordExporters,\n            classNames: \"pointing\",\n          }}\n        />\n\n        <CitationModal\n          record={record}\n          trigger={\n            <Menu.Item\n              name=\"cite\"\n              active={activeItem === \"cite\"}\n              onClick={handleMobileMenuClick}\n            >\n              <Icon name=\"quote right\" />\n              Cite\n            </Menu.Item>\n          }\n          citationStyles={citationStyles}\n          citationStyleDefault={citationStyleDefault}\n          onCloseHandler={() => setActiveItem(null)}\n        />\n\n        <Popup\n          content={<SidebarSharingSection record={record} />}\n          trigger={\n            <Menu.Item\n              name=\"share\"\n              active={activeItem === \"share\"}\n              onClick={handleMobileMenuClick}\n            >\n              <Icon name=\"paper plane\" />\n              Share\n            </Menu.Item>\n          }\n          onClose={() => setActiveItem(null)}\n          on=\"click\"\n        />\n\n        <FileListItemDropdown\n          asItem={true}\n          id=\"record-details-download\"\n          defaultPreviewFile={defaultPreviewFile}\n          files={files}\n          fileCountToShow={3}\n          fileTabIndex={fileTabIndex}\n          isPreview={isPreview}\n          permissions={permissions}\n          previewFileUrl={previewFileUrl}\n          record={record}\n          setActiveTab={setActiveTab}\n          totalFileSize={totalFileSize}\n        />\n      </Menu>\n    </Overridable>\n  );\n};\n\nexport { MobileActionMenu };\n","import React, { useState } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { componentsMap } from \"../componentsMap\";\nimport { DetailRightSidebar } from \"./DetailRightSidebar\";\nimport { DetailLeftSidebar } from \"./DetailLeftSidebar\";\nimport { MobileActionMenu } from \"./DetailMobileActionMenu\";\nimport { DetailMainTabs } from \"./DetailMainTabs\";\nimport { FlagNewerVersion } from \"../components/FlagNewerVersion\";\nimport { DraftBackButton } from \"../components/DraftBackButton\";\nimport { CommunitiesBanner } from \"../components/CommunitiesBanner\";\nimport { addPropsFromChildren, filterPropsToPass } from \"../util\";\n\n// React component for the main content of the detail page.\n// This is the main content of the detail page, which includes a central\n// column with the main record information, and optional left and right\n// sidebars.\n//\n// The main column is divided into sections, which are either tabs or\n// untabbed sections. These are defined in the mainSections prop which\n// passes the object defined in the InvenioRDM config variable\n// APP_RDM_DETAIL_MAIN_SECTIONS. Sections are displayed as tabs if they\n// have a \"tab\" property defined with a true value.\n//\n// The left and right sidebars are defined in the sidebarSectionsLeft\n// and sidebarSectionsRight props, which pass the objects defined in\n// the InvenioRDM config variables APP_RDM_DETAIL_SIDEBAR_SECTIONS_LEFT\n// and APP_RDM_DETAIL_SIDEBAR_SECTIONS_RIGHT.\n//\n// The config for each section includes a string with the name of the\n// React component to use for the section, and a list of subsections to\n// display in the section. The mapping of strings to components is\n// defined in the componentsMap object in ../componentsMap.js.\n//\n// The props passed to each component are defined in the \"props\"\n// property of the section config.\n// Available props are:\n// - backPage: URL of the previous (editing) page when previewing a draft\n// - citationStyles: list of citation styles\n// - citationStyleDefault: default citation style\n// - community: community of the record\n// - customFieldsUi: custom fields UI\n// - doiBadgeUrl: URL of the DOI badge image\n// - externalResources: list of external resources\n// - files: list of files\n// - hasPreviewableFiles: whether the record has previewable files\n// - iconsRor: path to the ROR icon\n// - iconsGnd: path to the GND icon\n// - iconsHcUsername: path to the Humanities Commons username icon\n// - iconsOrcid: path to the ORCID icon\n// - isDraft: whether the record is in draft mode\n// - isPreview: whether the record is in preview mode\n// - isPreviewSubmissionRequest: whether the record is in preview mode\n// - landingUrls: list of URLs for landing pages for various third\n//     party services\n// - mainSections: list of main sections to display\n// - permissions: permissions for the record\n// - previewFile: object with information about the default preview file\n// - previewFileUrl: URL of the endpoint for file previews\n// - record: record to display\n// - sidebarSectionsLeft: list of left sidebar sections to display\n// - sidebarSectionsRight: list of right sidebar sections to display\n// - totalFileSize: total size of the files\n//\n// In addition, the following values are added to `props` in this component\n// and are available to all components:\n// - additional_descriptions: additional descriptions for the record\n// - description: description of the record\n// - hasFiles: whether the record has files\n// - title: title of the record\n// - creators: list of creators\n// - contributors: list of contributors\n// - canManage: whether the user can manage the record\n// - showRecordManagementMenu: whether to show the record management menu\n//\nconst DetailContent = (rawProps) => {\n  const [activePreviewFile, setActivePreviewFile] = useState(\n    rawProps.defaultPreviewFile\n  );\n  const [activeTab, setActiveTab] = useState(0);\n\n  const tabbedSections = rawProps.mainSections.filter(\n    ({ component_name }) => component_name === \"DetailMainTabs\"\n  )[0].subsections;\n  const record = rawProps.record;\n  const canManageFlag =\n    rawProps.permissions !== undefined &&\n    (rawProps.permissions.can_edit || rawProps.permissions.can_review);\n\n  const extraProps = {\n    activePreviewFile: activePreviewFile,\n    additionalDescriptions: record.ui.additional_descriptions\n      ? record.ui.additional_descriptions\n      : null,\n    creators: record.ui.creators,\n    contributors: record.ui.contributors,\n    canManage: canManageFlag,\n    description: record.metadata.description,\n    fileTabIndex: tabbedSections.findIndex(\n      ({ section }) => section === \"Files\"\n    ),\n    hasFiles: record.files.enabled,\n    previewTabIndex: tabbedSections.findIndex(({ subsections }) =>\n      subsections\n        .map(({ component_name }) => component_name)\n        .includes(\"FilePreview\")\n    ),\n    rights: record.ui.rights,\n    showRecordManagementMenu:\n      canManageFlag &&\n      (!rawProps.isPreview || rawProps.isPreviewSubmissionRequest),\n    setActivePreviewFile: setActivePreviewFile,\n    setActiveTab: setActiveTab,\n    title: record.metadata.title,\n  };\n  const topLevelProps = { ...rawProps, ...extraProps };\n  console.log(\"DetailContent\", topLevelProps);\n\n  return (\n    <Overridable\n      id=\"InvenioModularDetailPage.DetailContent.layout\"\n      {...rawProps}\n    >\n      <div className=\"two column row top-padded\">\n        <article className=\"sixteen wide tablet eleven wide computer column main-record-content\">\n          <DraftBackButton\n            backPage={topLevelProps.backPage}\n            isPreview={topLevelProps.isPreview}\n            isDraft={topLevelProps.isDraft}\n            canManage={topLevelProps.canManage}\n            currentUserId={topLevelProps.currentUserId}\n            isPreviewSubmissionRequest={\n              topLevelProps.isPreviewSubmissionRequest\n            }\n            show={\"mobile tablet only\"}\n          />\n          <FlagNewerVersion\n            isLatest={topLevelProps.record.versions.is_latest}\n            isPublished={topLevelProps.record.is_published}\n            latestHtml={topLevelProps.record.links.latest_html}\n            show={\"mobile tablet only\"}\n          />\n          <CommunitiesBanner\n            community={topLevelProps.community}\n            isPreviewSubmissionRequest={\n              topLevelProps.isPreviewSubmissionRequest\n            }\n            show={\"mobile tablet only\"}\n          />\n          {rawProps.mainSections.map(\n            ({ section, component_name, subsections, props, show }) => {\n              const SectionComponent =\n                component_name === \"DetailMainTabs\"\n                  ? DetailMainTabs\n                  : componentsMap[component_name];\n              let passedProps;\n              if (component_name === \"DetailMainTabs\") {\n                passedProps = topLevelProps;\n              } else {\n                props = addPropsFromChildren(subsections, props);\n                passedProps =\n                  !!props && props.length\n                    ? filterPropsToPass(topLevelProps, props)\n                    : {};\n              }\n              passedProps = {\n                ...passedProps,\n                activePreviewFile: activePreviewFile,\n                activeTab: activeTab,\n                setActivePreviewFile: setActivePreviewFile,\n                setActiveTab: setActiveTab,\n                section: section,\n                show: show,\n                tabbedSections: tabbedSections,\n                subsections: subsections,\n              };\n              return <SectionComponent {...passedProps} key={section} />;\n            }\n          )}\n        </article>\n        <DetailRightSidebar\n          activeTab={activeTab}\n          activePreviewFile={activePreviewFile}\n          {...topLevelProps}\n        />\n        <DetailLeftSidebar\n          activeTab={activeTab}\n          activePreviewFile={activePreviewFile}\n          {...topLevelProps}\n        />{\" \"}\n        <MobileActionMenu\n          canManage={topLevelProps.canManage}\n          citationStyleDefault={topLevelProps.citationStyleDefault}\n          citationStyles={topLevelProps.citationStyles}\n          defaultPreviewFile={topLevelProps.defaultPreviewFile}\n          files={topLevelProps.files}\n          fileCountToShow={topLevelProps.fileCountToShow}\n          fileTabIndex={topLevelProps.fileTabIndex}\n          isPreview={topLevelProps.isPreview}\n          isDraft={topLevelProps.isDraft}\n          isPreviewSubmissionRequest={topLevelProps.isPreviewSubmissionRequest}\n          permissions={topLevelProps.permissions}\n          previewFileUrl={topLevelProps.previewFileUrl}\n          record={topLevelProps.record}\n          recordExporters={topLevelProps.recordExporters}\n          setActiveTab={topLevelProps.setActiveTab}\n          totalFileSize={topLevelProps.totalFileSize}\n        />\n      </div>\n    </Overridable>\n  );\n};\n\nexport { DetailContent, DetailMainTabs, filterPropsToPass };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { DetailContent } from \"./sections/DetailContent\";\n\nconst detailMainDiv = document.getElementById(\"detail-main-content\");\n\nReactDOM.render(\n  <DetailContent\n    backPage={detailMainDiv.dataset.backPage}\n    community={JSON.parse(detailMainDiv.dataset.community)}\n    citationStyles={JSON.parse(detailMainDiv.dataset.citationStyles)}\n    citationStyleDefault={detailMainDiv.dataset.citationStyleDefault}\n    currentUserId={detailMainDiv.dataset.currentUserId}\n    customFieldsUi={JSON.parse(detailMainDiv.dataset.customFieldsUi)}\n    doiBadgeUrl={detailMainDiv.dataset.doiBadgeUrl}\n    externalResources={JSON.parse(detailMainDiv.dataset.externalResources)}\n    files={JSON.parse(detailMainDiv.dataset.files)}\n    isDraft={JSON.parse(detailMainDiv.dataset.isDraft)}\n    isPreview={JSON.parse(detailMainDiv.dataset.isPreview)}\n    hasPreviewableFiles={\n      JSON.parse(detailMainDiv.dataset.hasPreviewableFiles) === \"true\"\n        ? true\n        : false\n    }\n    iconsRor={detailMainDiv.dataset.iconsRor}\n    iconsOrcid={detailMainDiv.dataset.iconsOrcid}\n    iconsGnd={detailMainDiv.dataset.iconsGnd}\n    iconsHcUsername={detailMainDiv.dataset.iconsHcUsername}\n    iconsIsni={detailMainDiv.dataset.iconsIsni}\n    identifierSchemes={JSON.parse(detailMainDiv.dataset.identifierSchemes)}\n    isPreviewSubmissionRequest={JSON.parse(\n      detailMainDiv.dataset.isPreviewSubmissionRequest\n    )}\n    landingUrls={JSON.parse(detailMainDiv.dataset.landingUrls)}\n    localizedStats={JSON.parse(detailMainDiv.dataset.localizedStats)}\n    mainSections={JSON.parse(detailMainDiv.dataset.mainSections)}\n    permissions={JSON.parse(detailMainDiv.dataset.permissions)}\n    defaultPreviewFile={JSON.parse(detailMainDiv.dataset.defaultPreviewFile)}\n    previewFileUrl={detailMainDiv.dataset.previewFileUrl}\n    record={JSON.parse(detailMainDiv.dataset.record)}\n    recordExporters={JSON.parse(detailMainDiv.dataset.recordExporters)}\n    showDecimalSizes={JSON.parse(detailMainDiv.dataset.showDecimalSizes)}\n    showRecordManagementMenu={JSON.parse(\n      detailMainDiv.dataset.showRecordManagementMenu\n    )}\n    sidebarSectionsLeft={JSON.parse(detailMainDiv.dataset.sidebarSectionsLeft)}\n    sidebarSectionsRight={JSON.parse(\n      detailMainDiv.dataset.sidebarSectionsRight\n    )}\n    totalFileSize={detailMainDiv.dataset.totalFileSize}\n    // badge_png\n    // badge_svg\n    // breadcrumbs\n    // current_theme_icons\n    // currentMenu={JSON.parse(detailMainDiv.dataset.currentMenu)}\n    // currentUser={JSON.parse(detailMainDiv.dataset.currentUser)}\n    // currentUserprofile={JSON.parse(detailMainDiv.dataset.currentUserprofile)}\n    // g={JSON.parse(detailMainDiv.dataset.g)}\n    // jwt\n    // jwt_token\n    // request={JSON.parse(detailMainDiv.dataset.request)}\n    // search_app_communities_config\n    // search_app_communities_invitations_config\n    // search_app_communities_members_config\n    // search_app_communities_records_config\n    // search_app_communities_requests_config\n  />,\n  detailMainDiv\n);\n","var baseRest = require('./_baseRest'),\n    eq = require('./eq'),\n    isIterateeCall = require('./_isIterateeCall'),\n    keysIn = require('./keysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(object, sources) {\n  object = Object(object);\n\n  var index = -1;\n  var length = sources.length;\n  var guard = length > 2 ? sources[2] : undefined;\n\n  if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n    length = 1;\n  }\n\n  while (++index < length) {\n    var source = sources[index];\n    var props = keysIn(source);\n    var propsIndex = -1;\n    var propsLength = props.length;\n\n    while (++propsIndex < propsLength) {\n      var key = props[propsIndex];\n      var value = object[key];\n\n      if (value === undefined ||\n          (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        object[key] = source[key];\n      }\n    }\n  }\n\n  return object;\n});\n\nmodule.exports = defaults;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeJoin = arrayProto.join;\n\n/**\n * Converts all elements in `array` into a string separated by `separator`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to convert.\n * @param {string} [separator=','] The element separator.\n * @returns {string} Returns the joined string.\n * @example\n *\n * _.join(['a', 'b', 'c'], '~');\n * // => 'a~b~c'\n */\nfunction join(array, separator) {\n  return array == null ? '' : nativeJoin.call(array, separator);\n}\n\nmodule.exports = join;\n","var baseFlatten = require('./_baseFlatten'),\n    baseIteratee = require('./_baseIteratee'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    last = require('./last');\n\n/**\n * This method is like `_.union` except that it accepts `iteratee` which is\n * invoked for each element of each `arrays` to generate the criterion by\n * which uniqueness is computed. Result values are chosen from the first\n * array in which the value occurs. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nvar unionBy = baseRest(function(arrays) {\n  var iteratee = last(arrays);\n  if (isArrayLikeObject(iteratee)) {\n    iteratee = undefined;\n  }\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), baseIteratee(iteratee, 2));\n});\n\nmodule.exports = unionBy;\n","import { createElement, useMemo } from 'react';\nimport { I18nContext } from './context';\nexport function I18nextProvider(_ref) {\n  var i18n = _ref.i18n,\n      defaultNS = _ref.defaultNS,\n      children = _ref.children;\n  var value = useMemo(function () {\n    return {\n      i18n: i18n,\n      defaultNS: defaultNS\n    };\n  }, [i18n, defaultNS]);\n  return createElement(I18nContext.Provider, {\n    value: value\n  }, children);\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["SimpleCopyButton","_React$Component","_classCallCheck","_callSuper","arguments","_inherits","_createClass","key","value","_this$props","this","props","text","onCopy","hoverState","React","CopyToClipboard","Button","className","basic","icon","i18next","t","onMouseEnter","onMouseLeave","propTypes","PropTypes","isRequired","defaultProps","CopyButton","_Component","_this","_defineProperty","setState","confirmationPopupIsOpen","confirmationPopupMsg","delayClosePopup","stateReset","setTimeout","INITIAL_STATE","event","persist","type","hoverPopupIsOpen","state","clearTimeout","_this$props2","popUpPosition","_this$state","Popup","role","open","content","inverted","position","size","trigger","hoverStateHandler","Component","filterPropsToPass","topLevelProps","propList","Object","keys","filter","includes","reduce","obj","addPropsFromChildren","children","acc","subsection","concat","_toConsumableArray","prop","push","formatBytes","bytes","decimals","length","undefined","dm","i","Math","floor","log","parseFloat","pow","toFixed","toPidUrl","pid","scheme","landingUrls","hasOwnProperty","startsWith","slice","toLowerCase","split","getFileTypeIconName","filename","pop","groupObjectsBy","objectList","keyGetter","StatsPopup","_ref","number","flowing","Analytics","_record$stats","_record$stats2","hasFiles","localizedStats","record","show","showDecimalSizes","all_versions","stats","this_version","_ref2","all_versions_unique_downloads","this_version_unique_downloads","all_versions_unique_views","this_version_unique_views","formattedDataVolumeAll","all_versions_data_volume","this_version_data_volume","data_volume","_ref4","_ref5","_slicedToArray","formattedDataVolumeNum","formattedDataVolumeUnits","Overridable","_extends","id","Statistic","Group","Value","Label","Icon","name","Table","definition","fluid","Header","Row","HeaderCell","textAlign","Body","Cell","collapsing","href","Message","Citation","citationStyles","citationStyleDefault","passedClassNames","_useState","useState","_useState2","loading","setLoading","_useState3","_useState4","citation","setCitation","_useState5","_useState6","error","setError","cancellableFetchCitation","useEffect","getCitation","_cancellableFetchCita","cancel","message","fetchCitation","_asyncToGenerator","_regeneratorRuntime","_callee","style","_context","prev","next","axios","links","self","navigator","language","headers","Accept","abrupt","sent","stop","_x","_x2","apply","_ref3","_callee2","response","_context2","withCancel","promise","data","t0","_x3","_x4","citationOptions","map","Grid","verticalAlign","Column","computer","Placeholder","Paragraph","Line","mobile","tablet","Dropdown","label","defaultValue","options","selection","onChange","_debounce","negative","CitationModal","onCloseHandler","setOpen","window","document","querySelector","focus","handleOnClose","Modal","closeIcon","onOpen","onClose","Content","floated","onClick","CitationSection","sectionIndex","labelPosition","tabIndex","CommunitiesBanner","community","isPreviewSubmissionRequest","isCommunityRestricted","access","visibility","width","slug","metadata","title","logo","ContentWarning","section","_React$useState","_React$useState2","visible","setVisible","contentWarning","custom_fields","warning","onDismiss","header","IdentifiersList","ids","x","y","values","idlist","makeSchemeStrings","iconsGnd","iconsHcUsername","iconsIsni","iconsOrcid","iconsRor","orcid","ror","gnd","hc_username","replace","hcommons_username","isni","CreatibutorIcon","creatibutor","person_or_org","identifiers","schemeStrings","identifier","src","alt","Creatibutor","_creatibutor$person_o","show_affiliations","_ref3$show_ids","show_ids","show_roles","itemIndex","listLength","extra_props","affiliations","a","join","List","as","family_name","given_name","Creatibutors","_creators$creators2","creators","contributors","subsections","creatibutors","creator","_ids$creator$person_o","Card","Meta","Description","extra","_ref6","DetailMainTab","idx","component_name","SubSectionComponent","componentsMap","DetailMainTabs","panes","tabbedSections","TabComponent","passedProps","_objectSpread","menuItem","Menu","Item","render","Tab","Pane","menu","secondary","pointing","activeIndex","activeTab","onTabChange","e","setActiveTab","EmbargoMessage","ui","access_status","message_class","title_l10n","description_l10n","embargo","reason","FileListTableRow","file","fullWordButtons","fileTabIndex","isPreview","previewFileUrl","setActivePreviewFile","previewTabIndex","showChecksum","stackedRows","withPreview","previewUrlFlag","downloadUrl","handlePreviewChange","target","compact","checksum","FileListTable","activePreviewFile","fileCountToShow","files","showTableHeader","showTotalSize","totalFileSize","displayFiles","archive","FileListDropdownMenu","_ref3$asButton","asButton","_ref3$asLabeled","asLabeled","_ref3$asFluid","asFluid","_ref3$asItem","asItem","_ref3$classNames","classNames","_ref3$icon","_ref3$text","button","labeled","item","openOnFocus","closeOnBlur","Divider","description","FileListItemDropdown","defaultPreviewFile","handleMobileMenuClick","permissions","showEmbargoMessage","can_read_files","enabled","FileListDropdown","_ref6$showEmbargoMess","positive","FilePreview","_fileToShow$key","hasPreviewableFiles","_ref$useDynamicPrevie","useDynamicPreview","fileToShow","fileExtension","iFrameRef","useRef","current","_iFrameRef$current","addEventListener","_iFrameRef$current2","removeEventListener","Array","ref","Keywords","keywords","keyword","SubjectHeadings","subjectHeadings","showKeywords","subject","BadgesFormatsList","imageFilename","_ref$alternative","alternative","Doi","idDoi","doiBadgeUrl","doiLink","cursor","References","_ref9","references","identifierSchemes","_ref10","index","reference","AdditionalDates","_ref11","dates","_ref12","dateValue","date","FundingItem","_ref13","award","funder","class","rel","Funding","_ref14","funding","IdentifiersForGroup","_ref15","_ref16","resource_type","RelatedIdentifiers","_ref17","relatedIdentifiers","groups","_ref18","relation_type","entries","_ref19","_ref20","relationType","DOITextLink","_ref21","doi","_","URLs","_ref22","_ref23","_ref24","AlternateIdentifiers","_ref25","alternateIdentifiers","console","_ref26","_ref27","TitleDetail","_ref28","titleType","titleLang","AdditionalTitles","_ref29","addTitles","_ref30","lang","Volumes","_ref31","volumes","volString","this_vol","vols","getDetailsComponents","_ref32","customFieldsUi","_record$metadata$iden","_record$metadata$iden2","detailOrder","pids","detailsComponentArray","additional_titles","publishing_information","thesis","conference","ConferenceDetailSection","imprint","formats","languages","_ref33","publication_date_l10n_long","publisher","journal","related_identifiers","sizes","version","_ref34","toSorted","b","indexOf","_ref35","DetailItem","_ref36","trueLabel","falseLabel","isVocabulary","valueComponent","dangerouslySetInnerHTML","__html","isArray","_ref37","conferencePieces","url","place","session","session_part","piece","ExportDropdown","_props$asButton","_props$asFluid","_props$asItem","_props$icon","_props$id","_props$text","_props$classNames","recordExporters","_i","_Object$entries","_Object$entries$_i","fmt","exportUrl","format","PopupInput","inputRef","remember","setRemember","domain","setDomain","messageText","setMessageText","storedDomain","localStorage","getItem","Form","Field","Input","Checkbox","checked","setItem","removeItem","toggle","rows","PopupButton","on","SharingIconLink","iconName","viewBox","xlinkHref","SidebarSharingSection","pageLink","encodeURIComponent","self_html","socialMediaLinks","deserializeRecord","parent_id","parent","publication_date","publication_date_l10n_medium","RecordVersionItem","activeVersion","_get","PreviewMessage","info","VersionsContentDropdown","_recordVersions$hits","currentRecordInResults","recid","recordDeserialized","recordPublicationDate","recordVersions","versionOptions","hits","opt","pubdate","total","direction","VersionsContentList","divided","horizontal","centered","count","RecordVersionsList","_ref4$widgetStyle","widgetStyle","setCurrentRecordInResults","_useState7","_useState8","setRecordVersions","_fetchVersions","result","_result$data$hits","versions","withCredentials","some","fetchVersions","_creators$creators","additional_descriptions","substring","add_description","_ref7","_ref7$fileCountToShow","_ref7$fullWordButtons","_ref7$showChecksum","_ref7$showEmbargoMess","_ref7$showTableHeader","_ref7$showTotalSize","_ref7$stackedRows","_props$showKeywords","subjects","subjectLabels","_ref38","_ref38$showAccordionI","showAccordionIcons","accordionSections","setActiveIndex","customFieldSectionNames","_ref39","sectionsArray","_ref40","sectionTitle","sectionCustomFields","find","_ref41","fieldContent","sectionFields","customFields","fieldCfg","field","fieldValue","_typeof","_detailOrder$find","orderSubsections","match","_ref8","getCustomFieldComponents","fields","_ref42","Accordion","exclusive","defaultActiveIndex","_ref43","Title","active","newIndex","handleHeaderClick","tabindex","component","show_heading","showHeading","rights","license","link","licenseLink","_subjects$filter","_ref$showKeywords","showHeader","ShareModal","handleClose","accessLinkObj","setAccessLinkObj","linkCreated","setLinkCreated","shareMode","setShareMode","copied","setCopied","dropdownOptions","view","Trans","preview","edit","copyButtonRef","createAccessLink","http","post","permission","then","resp","copyAccessLink","select","copySuccess","execCommand","handleDelete","source","_callee3","_context3","patch","cancelToken","token","_callee4","_context4","_copyButtonRef$curren","popupTimeout","closeOnDocumentClick","linkObj","extraParam","location","getAccessLink","readOnly","selectOnNavigation","color","opacity","Actions","ShareButton","disabled","handleShareModalOpen","handleParentPopupClose","primary","EditButton","onError","handleClick","RecordManagementMenu","isDraft","currentUserId","handleError","errorMessage","columns","can_edit","NewVersionButton","can_new_version","can_manage","can_update_draft","RecordManagementPopup","inline","DraftBackButton","backPage","canManage","FlagNewerVersion","isPublished","isLatest","latestHtml","DetailRightSidebar","shareModalOpen","setShareModalOpen","handleShareModalClose","activeSidebarSections","sidebarSectionsRight","is_latest","is_published","latest_html","showRecordManagementMenu","SidebarSectionComponent","SidebarSectionProps","DetailLeftSidebar","MobileActionMenu","activeItem","setActiveItem","manageOpen","setManageOpen","handleManageClose","DetailContent","rawProps","mainSections","canManageFlag","can_review","extraProps","additionalDescriptions","findIndex","SectionComponent","detailMainDiv","getElementById","ReactDOM","dataset","JSON","parse","externalResources","sidebarSectionsLeft","baseRest","eq","isIterateeCall","keysIn","objectProto","prototype","defaults","object","sources","guard","propsIndex","propsLength","call","module","exports","baseIsEqual","other","nativeJoin","array","separator","baseFlatten","baseIteratee","baseUniq","isArrayLikeObject","last","unionBy","arrays","iteratee","I18nextProvider","i18n","defaultNS","useMemo","createElement","Provider","arr","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"sourceRoot":""}