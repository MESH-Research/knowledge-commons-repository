"use strict";(self.webpackChunkinvenio_assets=self.webpackChunkinvenio_assets||[]).push([[1607],{64483:(e,t,n)=>{n.d(t,{U9:()=>l,Ws:()=>a,to:()=>o});var r=n(80296),o=function(e){var t;return(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||(null===e||void 0===e?void 0:e.message)},l=function(e){var t,n,r;return{message:null===e||void 0===e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message,errors:null===e||void 0===e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.errors,status:null===e||void 0===e||null===(r=e.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.status}},a=function(e){return Object.entries(e).map((function(e){var t=(0,r.A)(e,2),n=(t[0],t[1]);return{id:n.id,type:n.type}}))}},29889:(e,t,n)=>{n.d(t,{K:()=>f});var r=n(23029),o=n(92901),l=n(56822),a=n(53954),c=n(85501),u=n(96540),i=n(5556),s=n.n(i),m=n(87395),d=n(64483);function p(e,t,n){return t=(0,a.A)(t),(0,l.A)(e,A()?Reflect.construct(t,n||[],(0,a.A)(e).constructor):t.apply(e,n))}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(A=function(){return!!e})()}var f=function(e){function t(){return(0,r.A)(this,t),p(this,t,arguments)}return(0,c.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){var e=this.props.error,t=(0,d.U9)(e),n=t.errors,r=t.message;return r||(r=e.message),u.createElement(m.A,{className:"ml-20 mr-20",negative:!0},u.createElement(m.A.Header,null,r),n&&u.createElement(m.A.List,null,n.map((function(e){return u.createElement(m.A.Item,{key:e},"_schema"!==e.field&&u.createElement("strong",null,e.field,": "),1===e.messages.length?e.messages[0]:u.createElement(m.A.List,null,e.messages.map((function(e){return u.createElement(m.A.Item,{key:e},e)}))))}))))}}])}(u.Component);f.propTypes={error:s().object.isRequired}},15094:(e,t,n)=>{n.d(t,{t:()=>c});var r=n(58168),o=n(96540),l=n(92257),a=n(38102),c=(0,n(98871).Q2)((function(e){var t=e.placeholder,n=e.queryString,c=e.onInputChange,u=e.updateQueryState,i=e.uiProps,s=t||a.M.t("Search in members ...");return o.createElement(l.A,(0,r.A)({action:{icon:"search",onClick:function(){u({queryString:n})},className:"search",title:a.M.t("Search")},fluid:!0,placeholder:s,onChange:function(e,t){var n=t.value;c(n)},value:n,onKeyPress:function(e){"Enter"===e.key&&u({queryString:n})}},i))}))},45373:(e,t,n)=>{n.d(t,{A:()=>R,_:()=>g});var r=n(10467),o=n(23029),l=n(92901),a=n(56822),c=n(53954),u=n(85501),i=n(64467),s=n(54756),m=n.n(s),d=n(38102),p=n(96540),A=n(53196),f=n(48423),v=n(3487),h=n(29889),y=n(16311);function E(e,t,n){return t=(0,c.A)(t),(0,a.A)(e,b()?Reflect.construct(t,n||[],(0,c.A)(e).constructor):t.apply(e,n))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}var g={leave:1,remove:2},M=function(e){function t(e){var n;return(0,o.A)(this,t),n=E(this,t,[e]),(0,i.A)(n,"onActionHandler",(0,r.A)(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.context.modalAction,n.setState({loading:!0}),e.prev=2,e.next=5,t();case 5:n.onCloseHandler(),window.location.reload(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n.setState({error:e.t0,loading:!1});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))),(0,i.A)(n,"onCloseHandler",(function(){var e=n.context.closeModal;n.setState({error:"",loading:!1},(function(){return e()}))})),n.state={error:"",loading:!1},n.contentMap=(0,i.A)((0,i.A)({},g.leave,{headerText:d.M.t("Leave community"),bodyText:d.M.t("You are about to leave this community."),buttonText:d.M.t("Leave"),buttonIcon:"log out"}),g.remove,{headerText:d.M.t("Remove user"),bodyText:d.M.t("You are about to remove this user from this community."),buttonText:d.M.t("Remove"),buttonIcon:"user delete"}),n}return(0,u.A)(t,e),(0,l.A)(t,[{key:"render",value:function(){var e=this.state,t=e.loading,n=e.error,r=this.context,o=r.modalOpen,l=r.modalMode,a=this.contentMap[l];return p.createElement(A.default,{id:"InvenioCommunities.RemoveMemberModal.layout",modalOpen:o,modalMode:l,modalAction:this.onActionHandler,closeModal:this.onCloseHandler,contentMap:this.contentMap},p.createElement(f.A,{open:o,role:"dialog","aria-label":d.M.t("Remove user")},p.createElement(f.A.Header,null,null===a||void 0===a?void 0:a.headerText),p.createElement(f.A.Content,null,null===a||void 0===a?void 0:a.bodyText," ",p.createElement("br",null),p.createElement("b",null,d.M.t("This action cannot be undone.")),n&&p.createElement(h.K,{error:n})),p.createElement(f.A.Actions,null,p.createElement(v.A,{content:d.M.t("Cancel"),loading:t,onClick:this.onCloseHandler,floated:"left",icon:"cancel",labelPosition:"left"}),p.createElement(v.A,{negative:!0,content:null===a||void 0===a?void 0:a.buttonText,loading:t,onClick:this.onActionHandler,icon:null===a||void 0===a?void 0:a.buttonIcon,labelPosition:"left"}))))}}])}(p.Component);(0,i.A)(M,"contextType",y.V);const R=A.default.component("RemoveMemberModal",M)},16311:(e,t,n)=>{n.d(t,{V:()=>o,i:()=>f});var r=n(96540),o=r.createContext({closeModal:function(){},openModal:function(){},modalMode:null,modalAction:null,modalOpen:!1}),l=n(23029),a=n(92901),c=n(56822),u=n(53954),i=n(85501),s=n(64467),m=n(5556),d=n.n(m);function p(e,t,n){return t=(0,u.A)(t),(0,c.A)(e,A()?Reflect.construct(t,n||[],(0,u.A)(e).constructor):t.apply(e,n))}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(A=function(){return!!e})()}var f=function(e){function t(e){var n;return(0,l.A)(this,t),n=p(this,t,[e]),(0,s.A)(n,"openModal",(function(e){var t=e.modalAction,r=e.modalMode;n.setState({modalOpen:!0,modalAction:t,modalMode:r})})),(0,s.A)(n,"closeModal",(function(){n.setState({modalOpen:!1})})),n.state={modalMode:null,modalAction:null,modalOpen:!1},n}return(0,i.A)(t,e),(0,a.A)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.modalMode,l=t.modalAction,a=t.modalOpen;return r.createElement(o.Provider,{value:{closeModal:this.closeModal,openModal:this.openModal,modalMode:n,modalAction:l,modalOpen:a}},e)}}])}(r.Component);f.propTypes={children:d().node.isRequired}},62660:(e,t,n)=>{n.d(t,{E:()=>d});var r=n(96540),o=n(1489),l=n(98871),a=n(38102),c=n(16311),u=n(45373),i=n(5556),s=n.n(i),m=n(52822),d=function(e){var t=e.paginationOptions,n=e.currentResultsState.data.total;return n&&r.createElement(o.A,null,r.createElement(o.A.Row,null,r.createElement(o.A.Column,{width:16},r.createElement(o.A,null,r.createElement(o.A.Row,null,r.createElement(o.A.Column,null,r.createElement(c.i,null,r.createElement(l.dy,null),r.createElement(u.A,null))))))),r.createElement(o.A.Row,{verticalAlign:"middle"},r.createElement(o.A.Column,{width:4},r.createElement(l.y_,{label:function(){return r.createElement(r.Fragment,null,n," ",a.M.t("result(s) found"))}})),r.createElement(o.A.Column,{width:8,textAlign:"center"},r.createElement(l.dK,{options:{size:"mini",showFirst:!1,showLast:!1}})),r.createElement(o.A.Column,{textAlign:"right",width:4},r.createElement(l.RZ,{values:t.resultsPerPage,label:function(e){return r.createElement(m.x,{key:"communitiesMembersResult",count:e},e," results per page")}}))))};d.propTypes={paginationOptions:s().object.isRequired,currentResultsState:s().object.isRequired}},12152:(e,t,n)=>{n.d(t,{L:()=>c});var r=n(96540),o=n(83794),l=n(5556),a=n.n(l);function c(e){var t=e.result;return r.createElement(o.A,{fluid:!0,href:"/members/".concat(t.id)},r.createElement(o.A.Content,null,r.createElement(o.A.Header,null,t.member.name),r.createElement(o.A.Description,null,r.createElement("div",{className:"truncate-lines-1"},t.member.description))))}c.propTypes={result:a().object.isRequired}},25468:(e,t,n)=>{var r=n(64467),o=n(86763),l=n(5905),a=n(53196),c=n(23029),u=n(92901),i=n(56822),s=n(53954),m=n(85501),d=n(38102),p=n(5556),A=n.n(p),f=n(96540),v=n(81057),h=n(53959),y=n(1489),E=n(23848),b=n(28085);function g(e,t,n){return t=(0,s.A)(t),(0,i.A)(e,M()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M=function(){return!!e})()}var R=function(e){function t(){return(0,c.A)(this,t),g(this,t,arguments)}return(0,m.A)(t,e),(0,u.A)(t,[{key:"render",value:function(){var e=this.props.result,t=e.member.avatar;return f.createElement(h.A.Row,null,f.createElement(h.A.Cell,null,f.createElement(y.A,{textAlign:"left",verticalAlign:"middle"},f.createElement(y.A.Column,null,f.createElement(E.A,{className:"flex",key:e.id},f.createElement(v.Image,{src:t,avatar:!0,fallbackSrc:"/static/images/square-placeholder.png"}),f.createElement(E.A.Content,{className:"ml-10"},f.createElement(E.A.Header,{className:e.member.description?"":"mt-5"},f.createElement("b",null,e.member.name),"group"===e.member.type&&f.createElement(b.A,{className:"ml-10"},d.M.t("Group"))),e.member.description&&f.createElement(E.A.Meta,null,f.createElement("div",{className:"truncate-lines-1"},e.member.description))))))))}}])}(f.Component);function C(e){var t=e.result;return f.createElement(R,{result:t})}R.propTypes={result:A().object.isRequired},C.propTypes={result:A().object.isRequired};var O=n(15094),S=n(62660),x=n(12152),w=function(e){var t=e.results;return f.createElement(h.A,null,f.createElement(h.A.Header,null,f.createElement(h.A.Row,null,f.createElement(h.A.HeaderCell,null,d.M.t("Members")))),f.createElement(h.A.Body,null,t))};w.propTypes={results:A().array.isRequired};var k=n(98871);function j(e,t,n){return t=(0,s.A)(t),(0,i.A)(e,T()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}var q=function(){return f.createElement(y.A,null,f.createElement(y.A.Row,{columns:2},f.createElement(y.A.Column,{width:16},f.createElement(k.IW,{placeholder:d.M.t("Search members...")}))))},P=function(e){function t(){return(0,c.A)(this,t),j(this,t,arguments)}return(0,m.A)(t,e),(0,u.A)(t,[{key:"render",value:function(){var e=this.props,t=e.config,n=e.appName;return f.createElement(f.Fragment,null,f.createElement(q,null),f.createElement(l.s9,{layoutOptions:t.layoutOptions,appName:n}))}}])}(f.Component);P.propTypes={config:A().object.isRequired,appName:A().string},P.defaultProps={appName:""};var B=n(2685),N=n(27041),H=n(76217),I=n(3487);function L(e,t,n){return t=(0,s.A)(t),(0,i.A)(e,Q()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Q=function(){return!!e})()}var D=function(e){function t(){return(0,c.A)(this,t),L(this,t,arguments)}return(0,m.A)(t,e),(0,u.A)(t,[{key:"render",value:function(){var e=this.props,t=e.resetQuery,n=e.extraContent,r=e.queryString,o=e.currentQueryState,l=e.currentResultsState,a=o.page<0,c=1===o.page&&0===l.data.total;return f.createElement(B.A,{placeholder:!0,textAlign:"center"},f.createElement(N.A,{icon:!0},f.createElement(H.A,{name:c?"users":"search"}),c&&d.M.t("This community has no public members."),a&&d.M.t("No matching members found.")),r&&f.createElement("p",null,f.createElement("em",null,d.M.t("Current search"),' "',r,'"')),a&&f.createElement(I.A,{primary:!0,onClick:function(){return t()}},d.M.t("Clear query")),n)}}])}(f.Component);D.propTypes={resetQuery:A().func.isRequired,queryString:A().string.isRequired,currentQueryState:A().object.isRequired,currentResultsState:A().object.isRequired,extraContent:A().node},D.defaultProps={extraContent:null};const U=(0,k.Q2)(D);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F="InvenioCommunities.PublicSearch",z=(0,a.parametrize)(P,{appName:F}),G=(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({},"".concat(F,".ResultsList.item"),C),"".concat(F,".ResultsGrid.item"),x.L),"".concat(F,".SearchApp.layout"),z),"".concat(F,".SearchBar.element"),O.t),"".concat(F,".SearchApp.results"),S.E),"".concat(F,".ResultsList.container"),w),"".concat(F,".EmptyResults.element"),U),"".concat(F,".Sort.element"),l.ee),V=a.overrideStore.getAll();(0,o.U)(K(K({},G),V),!0,"invenio-search-config",!0)},86763:(e,t,n)=>{n.d(t,{U:()=>r.U});n(88802);var r=n(71790)}},e=>{e.O(0,[402,1057,7655,5373,6267,9777,5941,7501,4218,8010,8102,742,6528,3532,1751,226,5580],(()=>{return t=25468,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=invenio-communities-members-public.da6a9c318a4b20947536.js.map