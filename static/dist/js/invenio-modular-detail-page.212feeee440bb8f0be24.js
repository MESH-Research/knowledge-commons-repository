(self.webpackChunkinvenio_assets=self.webpackChunkinvenio_assets||[]).push([[9550],{62513:(e,t,n)=>{"use strict";n.d(t,{i:()=>g});var a=n(64467),i=n(23029),r=n(92901),l=n(56822),o=n(53954),c=n(85501),s=n(96540),u=n(5556),d=n.n(u),m=n(3487),p=n(93682),f=n(59399),v=n(70742);function E(e,t,n){return t=(0,o.A)(t),(0,l.A)(e,h()?Reflect.construct(t,n||[],(0,o.A)(e).constructor):t.apply(e,n))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}var b=function(e){function t(){return(0,i.A)(this,t),E(this,t,arguments)}return(0,c.A)(t,e),(0,r.A)(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.onCopy,a=e.hoverState;return s.createElement(f.CopyToClipboard,{text:t,onCopy:function(){n(t)}},s.createElement(m.A,{className:"copy",basic:!0,icon:"copy","aria-label":v.M.t("Copy to clipboard"),onMouseEnter:a,onMouseLeave:a}))}}])}(s.Component);b.propTypes={text:d().string.isRequired,onCopy:d().func.isRequired,hoverState:d().func},b.defaultProps={hoverState:null};var g=function(e){function t(e){var n;return(0,i.A)(this,t),n=E(this,t,[e]),(0,a.A)(n,"onCopy",(function(){n.setState((function(){return{confirmationPopupIsOpen:!0,confirmationPopupMsg:v.M.t("Copied!")}})),n.delayClosePopup()})),(0,a.A)(n,"delayClosePopup",(function(){var e=setTimeout((function(){n.setState(n.INITIAL_STATE)}),1500);n.setState({stateReset:e})})),(0,a.A)(n,"hoverStateHandler",(function(e){e.persist(),"mouseenter"===e.type&&n.setState({hoverPopupIsOpen:!0}),"mouseleave"===e.type&&n.setState({hoverPopupIsOpen:!1})})),n.INITIAL_STATE={confirmationPopupIsOpen:!1,confirmationPopupMsg:"",hoverPopupIsOpen:!1,stateReset:null},n.state=n.INITIAL_STATE,n}return(0,c.A)(t,e),(0,r.A)(t,[{key:"componentWillUnmount",value:function(){var e=this.state.stateReset;e&&clearTimeout(e)}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.popUpPosition,a=this.state,i=a.confirmationPopupMsg,r=a.confirmationPopupIsOpen,l=a.hoverPopupIsOpen;return t&&s.createElement(p.A,{role:"alert",open:l||r,content:i||v.M.t("Copy to clipboard"),inverted:!!i,position:n,size:"mini",trigger:s.createElement(b,{text:t,onCopy:this.onCopy,hoverState:this.hoverStateHandler})})}}])}(s.Component);g.propTypes={popUpPosition:d().string,text:d().string},g.defaultProps={popUpPosition:"right center",text:""}},15794:(e,t,n)=>{"use strict";var a=n(96540),i=n(40961),r=n(58168),l=n(64467),o=n(80296),c=n(53196),s=n(70742),u=n(93682),d=n(87395),m=n(66704),p=n(76217),f=n(53959),v=n(45458),E=function(e,t){return Object.keys(e).filter((function(e){return t.includes(e)})).reduce((function(t,n){return t[n]=e[n],t}),{})},h=function(e,t){return t=t||[],e&&(t=(t=e.reduce((function(e,t){return e=t.props?[].concat((0,v.A)(e),(0,v.A)(t.props)):e}),t)).reduce((function(e,t){return e.includes(t)||e.push(t),e}),[])),t},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!+e)return"0 Bytes";var n=t<0?0:t,a=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,a)).toFixed(n))," ").concat(["Bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"][a])};function g(e,t,n){return n.hasOwnProperty(t)?("gnd"===t&&e.startsWith("gnd:")&&(e=e.slice(4)),"urn"!==t||e.toLowerCase().startsWith("urn:nbn:")?("ascl"===t&&(e=e.split(":")[1]),"viaf"===t&&e.startsWith("viaf:")&&(e=e.slice(5)),"".concat(n[t]).concat(e)):""):["purl","url"].includes(t)?e:""}function w(e){switch(e.split(".").pop().toLowerCase()){case"pdf":return"file pdf outline";case"doc":case"docx":return"file word outline";case"xls":case"xlsx":return"file excel outline";case"ppt":case"pptx":return"file powerpoint outline";case"jpg":case"jpeg":case"png":case"gif":return"file image outline";case"mp3":case"wav":return"file audio outline";case"mp4":case"avi":case"mov":return"file video outline";case"txt":return"file text outline";default:return"file outline"}}function A(e,t){return e?e.reduce((function(e,n){var a=t(n);return e[a]||(e[a]=[]),e[a].push(n),e}),{}):{}}function y(e){var t=e.number;return t[0]!=t[1]?a.createElement(u.A,{trigger:a.createElement("span",{className:"compact-number","aria-label":s.M.t("See the full number")},t[0]),content:t[1],position:"top center",size:"mini",flowing:!0}):t[0]}function S(e){var t,n,i=e.hasFiles,v=e.localizedStats,E=e.record,h=(e.showDecimalSizes,e.show),g=null===E||void 0===E||null===(t=E.stats)||void 0===t?void 0:t.all_versions,w=null===E||void 0===E||null===(n=E.stats)||void 0===n?void 0:n.this_version,A=E.stats?v:(0,l.A)((0,l.A)((0,l.A)((0,l.A)((0,l.A)({undefined:void 0},"undefined",void 0),"undefined",void 0),"undefined",void 0),"undefined",void 0),"undefined",void 0),S=A.all_versions_unique_downloads,k=A.this_version_unique_downloads,_=A.all_versions_unique_views,M=A.this_version_unique_views,N=(A.all_versions_data_volume,A.this_version_data_volume,g?b(g.data_volume):void 0),P=N?N.split(" "):["",""],x=(0,o.A)(P,2),I=x[0],F=x[1];return a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.Analytics.layout"},e),a.createElement("div",{className:h},E.stats?a.createElement(a.Fragment,null,a.createElement(m.A.Group,{size:"small"},a.createElement(m.A,null,a.createElement(m.A.Value,null,_[1]),a.createElement(m.A.Label,null,a.createElement(p.A,{name:"eye"}),s.M.t("Views"))),i&&a.createElement(a.Fragment,null,a.createElement(m.A,null,a.createElement(m.A.Value,null,S[1]),a.createElement(m.A.Label,null,a.createElement(p.A,{name:"download"}),s.M.t("Downloads"))),a.createElement(m.A,null,a.createElement(m.A.Value,null,I),a.createElement(m.A.Label,null,a.createElement(p.A,{name:"database"}),a.createElement("span",{className:"units"},F)," ".concat(s.M.t("Downloaded")))))),a.createElement(f.A,{id:"record-statistics",definition:!0,fluid:!0},a.createElement(f.A.Header,null,a.createElement(f.A.Row,null,a.createElement(f.A.HeaderCell,null),a.createElement(f.A.HeaderCell,{textAlign:"right"},s.M.t("All versions")),a.createElement(f.A.HeaderCell,{textAlign:"right"},s.M.t("This version")))),a.createElement(f.A.Body,null,a.createElement(f.A.Row,null,a.createElement(f.A.Cell,{collapsing:!0},s.M.t("Total views"),a.createElement(u.A,{content:s.M.t("Times this work's page has been visited. Multiple visits by the same user within one hour are counted as a single view. Visits by robots (bots) are excluded."),size:"mini",inverted:!0,trigger:a.createElement(p.A,{name:"question circle","aria-label":s.M.t("More info"),size:"small"})})),a.createElement(f.A.Cell,{"data-label":s.M.t("All versions"),textAlign:"right"},a.createElement(y,{number:_})),a.createElement(f.A.Cell,{"data-label":s.M.t("This version"),textAlign:"right"},a.createElement(y,{number:M}))),i&&a.createElement(a.Fragment,null,a.createElement(f.A.Row,null,a.createElement(f.A.Cell,{collapsing:!0},s.M.t("Total downloads"),a.createElement(u.A,{content:s.M.t("Times this work's files have been downloaded. For works with multiple files, this counts each file download separately. Repeated downloads of the same file by the same user are not counted if they occur within one hour."),size:"mini",inverted:!0,trigger:a.createElement(p.A,{name:"question circle","aria-label":s.M.t("More info"),size:"small"})})),a.createElement(f.A.Cell,{"data-label":s.M.t("All versions"),textAlign:"right"},a.createElement(y,{number:S})),a.createElement(f.A.Cell,{"data-label":s.M.t("This version"),textAlign:"right"},a.createElement(y,{number:k}))),a.createElement(f.A.Row,{collapsing:!0},a.createElement(f.A.Cell,null,s.M.t("Total download volume"),a.createElement(u.A,{content:s.M.t("Total volume of all file downloads for this work. This excludes double clicks and downloads made by robots (bots)."),size:"mini",inverted:!0,trigger:a.createElement(p.A,{name:"question circle","aria-label":s.M.t("More info"),size:"small"})})),a.createElement(f.A.Cell,{"data-label":s.M.t("All versions"),textAlign:"right"},b(g.data_volume)),a.createElement(f.A.Cell,{"data-label":s.M.t("This version"),textAlign:"right"},b(w.data_volume)))))),a.createElement("p",{className:"text-muted"},a.createElement("a",{href:"/help/statistics"},s.M.t("More info on how stats are collected"),"..."))):a.createElement(d.A,null,"No statistics have been generated yet for this work. Check back later.")))}var k=n(10467),M=n(54756),N=n.n(M),P=n(72505),x=n.n(P),I=n(38221),F=n.n(I),C=n(5556),O=n.n(C),D=n(24941),T=n(1489),R=n(34667),U=n(81057),j=n(62513),z=function(e){var t=e.record,n=e.citationStyles,i=e.citationStyleDefault,r=e.passedClassNames,l=(0,a.useState)(!0),c=(0,o.A)(l,2),u=c[0],m=c[1],p=(0,a.useState)(""),f=(0,o.A)(p,2),v=f[0],E=f[1],h=(0,a.useState)(null),b=(0,o.A)(h,2),g=b[0],w=b[1],A=null;(0,a.useEffect)((function(){return _(t,i),function(){var e;null===(e=A)||void 0===e||e.cancel()}}),[]);var y,S=function(){var e=(0,k.A)(N().mark((function e(t,n){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x()("".concat(t.links.self,"?locale=").concat(navigator.language,"&style=").concat(n),{headers:{Accept:"text/x-bibliography"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=(0,k.A)(N().mark((function e(t,n){var a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),E(""),w(""),A=(0,U.withCancel)(S(t,n)),e.prev=4,e.next=7,A.promise;case 7:a=e.sent,m(!1),E(a.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),"UNMOUNTED"!==e.t0&&(m(!1),E(""),w(s.M.t("An error occurred while generating the citation.")));case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}(),M=n.map((function(e){return{key:e[0],value:e[0],text:e[1]}}));return a.createElement(T.A,{className:"record-citation ".concat(r)},a.createElement(T.A.Row,{verticalAlign:"bottom",className:"pt-0 pb-0"},a.createElement(T.A.Column,{computer:16,className:""},a.createElement("div",{id:"citation-text",className:"wrap-overflowing-text"},u?a.createElement(D.A,null,a.createElement(D.A.Paragraph,null,a.createElement(D.A.Line,null),a.createElement(D.A.Line,null),a.createElement(D.A.Line,null))):v))),a.createElement(T.A.Row,{verticalAlign:"middle"},a.createElement(T.A.Column,{mobile:12,tablet:12,computer:12,className:"",textAlign:"left"},a.createElement("label",{basic:"true",id:"citation-style-label",className:""},s.M.t("Style")),a.createElement(R.A,{className:"citation-dropdown",label:"Style","aria-labelledby":"citation-style-label",defaultValue:i,options:M,selection:!0,onChange:F()((function(e,n){return _(t,n.value)}),500)})),a.createElement(T.A.Column,{computer:4,className:"",textAlign:"right"},a.createElement(j.i,{text:v}))),g?(y=g,a.createElement(d.A,{negative:!0},y)):null)};z.propTypes={citationStyles:O().array.isRequired,record:O().object.isRequired,citationStyleDefault:O().string.isRequired};var L=n(48423),q=n(3487),H=function(e){var t=e.record,n=e.citationStyles,i=e.citationStyleDefault,l=e.onCloseHandler,s=e.trigger,u=(0,a.useState)(!1),d=(0,o.A)(u,2),m=d[0],f=d[1];(0,a.useEffect)((function(){window.setTimeout((function(){document.querySelector(".citation-dropdown").focus()}),20)}),[m]);var v=function(){f(!1),l&&l()};return a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.CitationModal.layout"},e),a.createElement(L.A,{closeIcon:!0,trigger:s,open:m,onOpen:function(){return f(!0)},onClose:v,className:"citation-modal"},a.createElement(L.A.Header,null,"Generate a citation for this work"),a.createElement(L.A.Content,null,a.createElement(z,{passedClassNames:"ui",record:t,citationStyles:n,citationStyleDefault:i}),a.createElement(q.A,{icon:!0,floated:"right",onClick:v},a.createElement(p.A,{name:"close"}),"Close"))))},B=function(e){var t=e.record,n=e.citationStyles,i=e.citationStyleDefault,l=e.sectionIndex,o=e.show;return a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.CitationSection.layout"},e),a.createElement("div",{id:"citation",className:"sidebar-container ".concat(o),"aria-label":s.M.t("Cite this")},a.createElement(H,{record:t,citationStyles:n,citationStyleDefault:i,trigger:a.createElement(q.A,{fluid:!0,content:s.M.t("Cite this"),icon:"quote right",labelPosition:"right",tabIndex:l})})))};B.propTypes={citationStyles:O().array.isRequired,record:O().object.isRequired,citationStyleDefault:O().string.isRequired};var V=function(e){var t=e.community,n=e.isPreviewSubmissionRequest,i=e.show,r=!!t&&"restricted"==t.access.visibility;return!n&&t&&a.createElement("div",{id:"communities",className:"sidebar-container ".concat(i),"aria-label":s.M.t("Record communities")},a.createElement("div",{className:"ui container segment rdm-sidebar pr-0"},a.createElement(T.A,{verticalAlign:"middle"},a.createElement(T.A.Row,null,a.createElement(T.A.Column,{width:12},a.createElement("h3",{className:"ui header small"},a.createElement("a",{href:"/communities/".concat(t.slug)},t.metadata.title)),r&&a.createElement("div",{className:"ui label horizontal small access-status restricted rel-ml-1",title:s.M.t("Community visibility"),"data-tooltip":s.M.t("The community is restricted to users with access."),"data-inverted":""},a.createElement("i",{className:"icon ban","aria-hidden":"true"})," ",s.M.t("Restricted"))),a.createElement(T.A.Column,{width:4},a.createElement("object",{data:t.links.logo,type:"image/png"},a.createElement(p.A,{name:"group",size:"large"})))))))},G=function(e){var t=e.record,n=e.section,i=a.useState(!0),r=(0,o.A)(i,2),l=r[0],s=r[1],u=t.custom_fields["kcr:content_warning"];return l&&u?a.createElement(c.default,{id:"InvenioModularDetailPage.ContentWarning.layout",record:t,section:n},a.createElement(d.A,{warning:!0,className:"content-warning",onDismiss:function(){return s(!1)},header:n,content:u})):null},J=n(27859),W=n(28085),K=n(83794),Y=function(e){return void 0!==e?(e=e.reduce((function(e,t){return(e[t.scheme]=e[t.scheme]||[]).push(t),e}),{}),e=Object.values(e).reduce((function(e,t){return[].concat((0,v.A)(e),(0,v.A)(t))}),[])):e=[],e},Z=function(e,t,n,a,i,r){return{orcid:["ORCID",a,r.orcid],ror:["ROR",i,r.ror],gnd:["GND",e,r.gnd],hc_username:["Humanities Commons",t.replace(".svg",".jpg"),r.hcommons_username],isni:["ISNI",n,r.isni]}},Q=function(e){var t=e.creatibutor,n=e.iconsRor,i=e.iconsOrcid,r=e.iconsGnd,l=e.iconsHcUsername,o=e.iconsIsni,c=e.landingUrls,u=Y(t.person_or_org.identifiers),d=Z(r,l,i,n,o,c);return a.createElement(a.Fragment,null,u?u.map((function(e){var n=e.scheme,i=e.identifier;return a.createElement("a",{href:"".concat(d[n][2]).concat(i),className:"no-text-decoration",key:"".concat(n,"-").concat(i),"aria-label":"".concat(t.person_or_org.name,"'s ").concat(d[n][0]," ").concat(s.M.t("profile"))},a.createElement("img",{className:"ml-5 inline-id-icon",src:d[n][1],alt:"".concat(d[n][0]," icon"),title:"".concat(t.person_or_org.name,"'s ").concat(d[n][0]," ").concat(s.M.t("profile"))}))})):"",u&&"organizational"==t.person_or_org.type?a.createElement(p.A,{name:"group"}):"")},X=function(e){var t,n=e.creatibutor,i=e.show_affiliations,l=e.show_ids,o=void 0===l||l,c=e.show_roles,s=e.iconsRor,u=e.iconsOrcid,d=e.iconsGnd,m=e.iconsHcUsername,p=e.iconsIsni,f=(e.itemIndex,e.listLength,e.landingUrls),v={};return i&&n.affiliations&&(v["data-tooltip"]=n.affiliations.map((function(e){return e[1]})).join("; ")),a.createElement("dd",{className:"creatibutor-wrap separated"},a.createElement(J.A.Content,{as:"span",className:"creatibutor-name"},a.createElement("a",(0,r.A)({className:"ui creatibutor-link",href:"../search?q='metadata.creators.person_or_org.name:".concat(n.person_or_org.name,"'")},v),a.createElement("span",null,"personal"===n.person_or_org.type&&n.person_or_org.family_name?"".concat(n.person_or_org.given_name," ").concat(n.person_or_org.family_name):n.person_or_org.name))),c&&n.role&&"Other"!==n.role.title?a.createElement(W.A,{className:"creatibutor-role"},n.role.title):"",!!o&&(null===n||void 0===n||null===(t=n.person_or_org)||void 0===t?void 0:t.identifiers)&&a.createElement(Q,{creatibutor:n,iconsRor:s,iconsOrcid:u,iconsGnd:d,iconsHcUsername:m,iconsIsni:p,landingUrls:f}))},$=function(e){var t,n=e.creators,i=e.contributors,r=e.iconsRor,l=e.iconsOrcid,o=e.iconsGnd,c=e.iconsHcUsername,u=e.iconsIsni,d=e.landingUrls,m=(e.section,e.subsections,!0),p=void 0!==i?null===n||void 0===n||null===(t=n.creators)||void 0===t?void 0:t.concat(null===i||void 0===i?void 0:i.contributors):null===n||void 0===n?void 0:n.creators,f=p.reduce((function(e,t){return e[t.person_or_org.name]=Y(t.person_or_org.identifiers),e}),{}),v=Z(o,c,u,l,r,d);return a.createElement("div",{className:""},null===p||void 0===p?void 0:p.map((function(e){var t;return a.createElement(K.A,{fluid:!0},a.createElement(K.A.Content,{className:"pb-5"},a.createElement(K.A.Header,null,a.createElement(X,{creatibutor:e,key:e.person_or_org.name,show_affiliations:m,show_ids:!1,iconsRor:r,iconsOrcid:l,iconsGnd:o,iconsHcUsername:c,iconsIsni:u,landingUrls:d})),a.createElement(K.A.Meta,null,!!e.role&&a.createElement("span",null,e.role.title)),a.createElement(K.A.Description,{className:"mt-0"},!!e.affiliations&&a.createElement("small",null,e.affiliations.map((function(e){return e[1]})).join(",")))),a.createElement(K.A.Content,{extra:!0,className:"mt-0 pt-5"},null===(t=f[e.person_or_org.name])||void 0===t?void 0:t.map((function(t){var n=t.scheme,i=t.identifier;return a.createElement("a",{href:"".concat(v[n][2]).concat(i),className:"no-text-decoration",key:"".concat(n,"-").concat(i),"aria-label":"".concat(e.person_or_org.name,"'s ").concat(v[n][0]," ").concat(s.M.t("profile"))},a.createElement("img",{className:"mr-5 inline-id-icon",src:v[n][1],alt:"".concat(v[n][0]," icon"),title:"".concat(e.person_or_org.name,"'s ").concat(v[n][0]," ").concat(s.M.t("profile"))}),a.createElement("small",null,"hc_username"===n?"Humanities Commons":n," ",s.M.t("profile")))}))))})))},ee=n(73083),te=n(98591),ne=function(e){return a.createElement(a.Fragment,null,!!e.subsections.length&&e.subsections.map((function(t,n){var i=t.section,l=t.component_name,o=t.subsections,c=t.props,u=Qe[l];return a.createElement("section",{id:"".concat(i,"-tab-section"),className:"rel-mt-0","aria-label":s.M.t(i),key:n},a.createElement(u,(0,r.A)({},E(e,c),{section:i,subsections:o})))})))};function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(e){var t=e.tabbedSections.map((function(t,n){var i=t.section,l=t.component_name,o=t.subsections,c=t.props,s=t.show,u="DetailMainTab"!==l?componentsMap[l]:ne,d=(c=h(o,c))&&c.length?E(e,c):{};return d=ie(ie({},d),{},{section:i,subsections:o}),{menuItem:a.createElement(ee.A.Item,{key:i,className:s,as:"button",tabIndex:n},i),render:function(){return a.createElement(te.A.Pane,{key:i,className:"record-details-tab ".concat(i," ").concat(s)},a.createElement(u,(0,r.A)({},d,{key:i})))}}}));return a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.DetailMainTabs.layout"},e),a.createElement(te.A,{id:"detail-main-tabs",panes:t,menu:{secondary:!0,pointing:!0},activeIndex:e.activeTab,onTabChange:function(t,n){var a=n.activeIndex;return e.setActiveTab(a)}}))},le=function(e){var t=e.record;return a.createElement("div",{className:"ui ".concat(t.ui.access_status.message_class," message file-box-message")},a.createElement("i",{className:"ui ".concat(t.ui.access_status.icon," icon")}),a.createElement("b",null,t.ui.access_status.title_l10n),a.createElement("p",null,t.ui.access_status.description_l10n),t.access.embargo.reason?a.createElement("p",null,s.M.t("Why this restriction"),"? ",t.access.embargo.reason):"")},oe=function(e){var t=e.file,n=(e.fileTabIndex,e.fullWordButtons),i=e.isPreview,r=e.previewFileUrl,l=(e.previewTabIndex,e.setActivePreviewFile),o=(e.setActiveTab,e.showChecksum),c=e.stackedRows,u=e.withPreview,d=(t.key.split(".").pop().toLowerCase(),i?"&preview=1":""),m="".concat(r.replace("/preview/","/files/"),"/").concat(t.key,"?download=1").concat(d),p=function(e){l(e)};return a.createElement("tr",null,a.createElement("td",{className:"".concat(c?"fourteen":"nine"," wide ").concat(!!o&&"with-checksum")},a.createElement("span",{className:"mobile only download-button-wrapper"},u&&a.createElement(q.A,{role:"button",className:"ui compact mini button preview-link",target:"preview-iframe","data-file-key":t.key,size:"mini",onClick:function(){return p(t)},compact:!0},a.createElement("i",{className:"eye icon"}),a.createElement("span",{className:"tablet computer only"}," ",s.M.t("Preview"))),a.createElement(q.A,{role:"button",className:"ui compact mini button",href:m},a.createElement("i",{className:"download icon"}),a.createElement("span",{className:"tablet computer only"},!!n&&s.M.t("Download")))),a.createElement("div",null,a.createElement("a",{href:m,className:"filename"},t.key)),a.createElement("small",{className:"ui text-muted ".concat(c?"":"mobile only"," filesize")},b(t.size))," ",!!o&&a.createElement("small",{className:"ui text-muted font-tiny checksum"},t.checksum,a.createElement("div",{className:"ui icon inline-block","data-tooltip":s.M.t("This is the file fingerprint (checksum), which can be used to verify the file integrity.")},a.createElement("i",{className:"question circle checksum icon"})))),a.createElement("td",{className:"single line ".concat(c?"":"tablet computer only")},b(t.size)),a.createElement("td",{className:"right aligned collapsing tablet computer only"},a.createElement("span",null,u&&a.createElement(q.A,{role:"button",className:"ui compact mini button preview-link",target:"preview-iframe","data-file-key":t.key,size:"mini",onClick:function(){return p(t)},compact:!0},a.createElement("i",{className:"eye icon"}),a.createElement("span",{className:"tablet computer only"}," ",s.M.t("Preview"))),a.createElement("a",{role:"button",className:"ui compact mini button",href:m},a.createElement("i",{className:"download icon"}),a.createElement("span",{className:"tablet computer only"},!!n&&s.M.t("Download"))))))},ce=function(e){var t=e.activePreviewFile,n=e.fileCountToShow,i=e.files,r=e.fileTabIndex,l=e.fullWordButtons,o=e.isPreview,c=e.previewFileUrl,u=e.previewTabIndex,d=e.record,m=e.setActivePreviewFile,p=e.setActiveTab,f=e.showChecksum,v=e.showTableHeader,E=e.showTotalSize,h=e.stackedRows,b=e.totalFileSize,g=e.withPreview,w=n>0?i.slice(0,n):i;return a.createElement(a.Fragment,null,a.createElement("table",{className:"ui striped table files fluid unstackable"},!!v&&a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,s.M.t("Name")),a.createElement("th",{className:"computer tablet only"},s.M.t("Size")),a.createElement("th",{className:"computer tablet only"}))),a.createElement("tbody",null,!!E&&i.length>1&&a.createElement("tr",{className:"title ".concat(d.ui.access_status.id," total-files"),tabIndex:"0"},a.createElement("td",null,s.M.t("All ".concat(i.length," files (as zip archive)")),a.createElement("a",{role:"button",className:"ui compact mini button right floated archive-link mobile only",href:d.links.archive},a.createElement("i",{className:"file archive icon button"}),a.createElement("span",{className:"tablet computer only"}," ",s.M.t("Download all")))),a.createElement("td",{className:"tablet computer only"},b," in total"),a.createElement("td",{className:"tablet computer only"},a.createElement("a",{role:"button",className:"ui compact mini button right floated archive-link",href:d.links.archive},a.createElement("i",{className:"file archive icon button"}),a.createElement("span",{className:"tablet computer only"}," ",s.M.t("Download all"))))),w.map((function(e){return a.createElement(oe,{activePreviewFile:t,key:e.key,file:e,fileTabIndex:r,fullWordButtons:l,isPreview:o,previewFileUrl:c,previewTabIndex:u,setActivePreviewFile:m,setActiveTab:p,showChecksum:f,stackedRows:h,withPreview:g})})))),n>0&&n<i.length&&a.createElement(q.A,{role:"button",floated:"right",size:"mini",className:"ui compact archive-link","aria-label":"See more files",compact:!0,onClick:function(){return p(r)}},a.createElement("i",{className:"file archive icon button"})," ",s.M.t("See more files")))},se=function(e){var t=e.asButton,n=void 0===t||t,i=e.asLabeled,r=void 0===i||i,l=e.asFluid,o=void 0===l||l,c=e.asItem,u=void 0!==c&&c,d=e.classNames,m=void 0===d?"icon positive right labeled":d,f=e.files,v=e.fileTabIndex,E=e.icon,h=void 0===E?"download":E,g=e.id,A=e.previewFileUrl,y=e.previewUrlFlag,S=e.record,k=e.sectionIndex,_=e.setActiveTab,M=e.text,N=void 0===M?"Download":M,P=e.totalFileSize;return a.createElement(R.A,{id:g,text:N,button:n,icon:h,labeled:r,fluid:o,className:m,item:u,tabIndex:k,as:"button",openOnFocus:!1,closeOnBlur:!1},a.createElement(R.A.Menu,null,f.map((function(e,t){var n=e.key,i=e.size;return a.createElement(R.A.Item,{href:"".concat(A.replace("/preview/","/files/"),"/").concat(n,"?download=1").concat(y),as:"button",tabIndex:t+k+1},a.createElement("span",{className:"text"},n),a.createElement("small",{className:"description filesize"},a.createElement(p.A,{name:w(n)}),b(i)))})),a.createElement(R.A.Divider,null),a.createElement(R.A.Item,{href:S.links.archive,icon:"archive",text:s.M.t("Download all"),description:P,as:"button",tabIndex:f.length+k+1}),a.createElement(R.A.Divider,null),a.createElement(R.A.Item,{text:"File details and previews",icon:"eye",onClick:function(){return _(v)},as:"button",tabIndex:f.length+1+k+1})))},ue=function(e){var t=e.defaultPreviewFile,n=(e.fileCountToShow,e.files),i=e.fileTabIndex,r=e.handleMobileMenuClick,l=e.id,o=e.isPreview,c=e.permissions,s=e.previewFileUrl,u=e.record,d=e.setActiveTab,m=(e.showEmbargoMessage,e.totalFileSize),f=o?"&preview=1":"";return a.createElement(a.Fragment,null,!!c.can_read_files&&!1!==n.enabled&&((null===n||void 0===n?void 0:n.length)<2?a.createElement(ee.A.Item,{id:l,as:"a",href:"".concat(s.replace("/preview/","/files/"),"/").concat(t.key,"?download=1").concat(f),name:"download",onClick:r},a.createElement(p.A,{name:"download"}),"Download"):a.createElement(se,{icon:!1,files:n,fileTabIndex:i,id:l,record:u,previewFileUrl:s,previewUrlFlag:f,setActiveTab:d,text:a.createElement(a.Fragment,null,a.createElement(p.A,{name:"download"}),"Download"),totalFileSize:m,asButton:!1,asLabeled:!1,asFluid:!1,asItem:!0,classNames:"pointing"})))},de=function(e){var t=e.defaultPreviewFile,n=(e.fileCountToShow,e.files),i=e.fileTabIndex,r=e.isPreview,l=e.permissions,o=e.previewFileUrl,c=e.record,u=e.sectionIndex,d=e.setActiveTab,m=e.showEmbargoMessage,p=void 0===m||m,f=e.totalFileSize,v=r?"&preview=1":"";return a.createElement(a.Fragment,null,("restricted"===c.access.files||!1===n.enabled)&&p&&a.createElement(le,{record:c}),!!l.can_read_files&&((null===n||void 0===n?void 0:n.length)<2?a.createElement(q.A,{id:"record-details-download",positive:!0,fluid:!0,as:"button",href:"".concat(o.replace("/preview/","/files/"),"/").concat(t.key,"?download=1").concat(v),content:s.M.t("Download"),icon:"download",labelPosition:"right",tabIndex:u}):a.createElement(se,{files:n,fileTabIndex:i,previewFileUrl:o,previewUrlFlag:v,record:c,sectionIndex:u,setActiveTab:d,totalFileSize:f})))},me=function(e){var t,n=e.activePreviewFile,i=e.defaultPreviewFile,r=(e.files,e.hasFiles),l=e.hasPreviewableFiles,c=e.isPreview,u=e.permissions,d=e.previewFileUrl,m=e.record,p=(e.setActivePreviewFile,e.totalFileSize,e.useDynamicPreview),f=void 0===p||p,E=(0,a.useState)(!0),h=(0,o.A)(E,2),b=h[0],g=h[1],w=c?"&preview=1":"",A=f?n:i,y=null===A||void 0===A||null===(t=A.key)||void 0===t?void 0:t.split(".").pop(),S=(0,a.useRef)(null);S.current;return(0,a.useEffect)((function(){var e;return null===(e=S.current)||void 0===e||e.addEventListener("load",(function(){return g(!1)})),function(){var e;null===(e=S.current)||void 0===e||e.removeEventListener("load",(function(){return g(!1)}))}}),[S.current]),a.createElement(a.Fragment,null,"restricted"===m.access.files&&a.createElement(le,{record:m}),!!r&&u.can_read_files&&a.createElement("section",{id:"record-file-preview","aria-label":s.M.t("File preview")},!!l&&a.createElement(a.Fragment,null,!!b&&a.createElement(a.Fragment,null,a.createElement("div",{className:"placeholder-header-bar"}),a.createElement(D.A,{fluid:!0},(0,v.A)(Array(8).keys()).map((function(e){return a.createElement(D.A.Paragraph,null,(0,v.A)(Array(8).keys()).map((function(e){return a.createElement(D.A.Line,{key:e})})),a.createElement(D.A.Line,null))})))),a.createElement("iframe",{title:s.M.t("Preview"),className:"preview-iframe ".concat(b?"hidden":""," ").concat(y),id:m.id,ref:S,name:m.id,src:"".concat(d).concat(A.key,"?").concat(w),width:"100%"}))))};function pe(e){e.passedClassNames;var t=e.keywords;return null===t||void 0===t?void 0:t.map((function(e){return a.createElement("ul",{className:"ui horizontal list no-bullets subjects",key:e},a.createElement("li",{className:"item"},a.createElement("a",{href:"/search?q=custom_fields['kcr:user_defined_tags']:\"".concat(e,'"'),className:"subject",title:s.M.t("Search results for ")+e},e)))}))}function fe(e){var t=e.passedClassNames,n=e.subjectHeadings,i=e.keywords,r=e.showKeywords;return a.createElement("div",{className:"record-subjects ui ".concat(t)},n.map((function(e){var t=e.id,n=(e.scheme,e.subject);return a.createElement("ul",{className:"ui horizontal list no-bullets subjects",key:t},a.createElement("li",{className:"item"},a.createElement("a",{href:'/search?q=metadata.subjects.id:"'.concat(t,'"'),className:"subject",title:s.M.t("Search results for ")+n},n)))})),r&&null!==i&&void 0!==i&&i.length&&i[0]?a.createElement(a.Fragment,null,a.createElement("h3",{className:"ui header tiny mt-10"},"User-defined Keywords"),a.createElement(pe,{passedClassNames:"ui bottom attached segment rdm-sidebar pr-0 pt-0",keywords:i})):"")}var ve=n(82284),Ee=n(55359),he=function(e){var t=e.imageFilename,n=e.target,i=e.alternative,r=void 0===i?"DOI":i;return a.createElement(a.Fragment,null,a.createElement("h4",null," ",a.createElement("small",null,s.M.t("Markdown"))," "),a.createElement("h4",null,a.createElement("pre",null,"[![",r,"](",t,")](",n,")")),a.createElement("h4",null,a.createElement("small",null,s.M.t("reStructedText"))),a.createElement("h4",null,a.createElement("pre",null,".. image:: ",t,":target: ",n)),a.createElement("h4",null,a.createElement("small",null,s.M.t("HTML"))),a.createElement("h4",null,a.createElement("pre",null,'<a href="',n,'"><img src="',t,'" alt="',r,'"></a>')),a.createElement("h4",null,a.createElement("small",null,s.M.t("Image URL"))),a.createElement("h4",null,a.createElement("pre",null,t)),a.createElement("h4",null,a.createElement("small",null,s.M.t("Target URL"))),a.createElement("h4",null,a.createElement("pre",null,n)))},be=function(e){var t=e.idDoi,n=e.doiBadgeUrl,i=e.doiLink;return a.createElement(a.Fragment,null,a.createElement("span",{className:"get-badge","data-toggle":"tooltip","data-placement":"bottom",style:{cursor:"pointer"},title:s.M.t("Get the DOI badge!")},a.createElement("img",{id:"record-doi-badge","data-target":"[data-modal='".concat(t,"']"),src:n,alt:t})),a.createElement("div",{id:"doi-modal",className:"ui modal fade badge-modal","data-modal":t},a.createElement("div",{className:"header"},s.M.t("DOI Badge")),a.createElement("div",{className:"content"},a.createElement("h4",null,a.createElement("small",null,s.M.t("DOI"))),a.createElement("h4",null,a.createElement("pre",null,t)),a.createElement(he,{imageFilename:n,target:i}))))};var ge=function(e){var t=e.references,n=e.identifierSchemes;return a.createElement(a.Fragment,null,t.map((function(e,t){var i=e.reference,r=e.identifier,l=e.scheme;return a.createElement("dd",null,i.reference,r&&(l?" (".concat(n[l]," - ").concat(r,")"):" (".concat(r,")")))})))},we=function(e){var t=e.dates;return a.createElement(a.Fragment,null,t.map((function(e,t){var n=e.type,i=e.date,r=e.description;return a.createElement(a.Fragment,{key:n.title_l10n},a.createElement("dt",{className:"ui tiny header"},n.title_l10n),a.createElement("dd",null,i,r&&a.createElement("span",{className:"text-muted"}," (",r,")")))})))},Ae=function(e){var t=e.item,n=e.index,i=t.award,r=t.funder;if(i){var l=i.title_l10n,o=i.number,c=i.identifiers;return a.createElement("dl",{class:"details-list mt-0"},l&&a.createElement("dt",{className:"ui tiny header"},a.createElement("span",{className:"mr-5"},l),o&&a.createElement("span",{className:"ui mini basic label ml-0 mr-5",id:"number-label-".concat(n)},o),c&&c.filter((function(e){return"url"===e.scheme})).map((function(e){return a.createElement("a",{key:e.identifier,href:e.identifier,target:"_blank",rel:"noopener noreferrer","aria-label":s.M.t("Open external link")},a.createElement("i",{className:"external alternate icon"}))}))),r&&a.createElement("dd",{className:"text-muted"},r.name))}return a.createElement("h4",{className:"ui tiny header"},r.name)};function ye(e){var t=e.funding;return a.createElement(a.Fragment,null,t.map((function(e,t){return a.createElement(Ae,{key:t,item:e,index:t})})))}function Se(e){var t=e.identifiers,n=e.identifierSchemes,i=e.landingUrls;return a.createElement(a.Fragment,null,t.map((function(e){var t=e.scheme,r=e.identifier,l=e.resource_type;return a.createElement("dd",{key:r},t&&a.createElement("span",{className:"text-muted"},"".concat(n[t],": ")),r&&a.createElement(a.Fragment,null,a.createElement("a",{href:g(r,t,i),target:"_blank",title:s.M.t("Opens in new tab")},r),l&&" (".concat(l.title_l10n,")")))})))}function ke(e){var t=e.relatedIdentifiers,n=e.identifierSchemes,i=e.landingUrls,r=A(t,(function(e){return e.relation_type.title_l10n}));return a.createElement(a.Fragment,null,Object.entries(r).map((function(e){var t=(0,o.A)(e,2),r=t[0],l=t[1];return a.createElement(a.Fragment,{key:r},a.createElement("dt",{className:"ui tiny header"},r),a.createElement(Se,{identifiers:l,identifierSchemes:n,landingUrls:i}))})))}var _e=function(e){var t=e.doi,n=e.doiLink;return a.createElement(a.Fragment,null,a.createElement("dt",{className:"ui tiny header"},"DOI"),a.createElement("dd",{key:t},a.createElement("a",{href:n,target:"_blank",title:_("Opens in new tab")},t)))},Me=function(e){var t=e.identifiers;return a.createElement(a.Fragment,null,a.createElement("dt",{className:"ui tiny header"},"URLs"),t.filter((function(e){return"url"===e.scheme})).map((function(e){var t=e.identifier;return a.createElement("dd",{key:t},t&&a.createElement("a",{href:t,target:"_blank",title:_("Opens in new tab")},t))})))},Ne=function(e){var t=e.alternateIdentifiers,n=e.identifierSchemes,i=e.landingUrls;console.log("altids",t);var r=A(t,(function(e){return e.scheme}));return Object.keys(r).filter((function(e){return"url"!==e})).map((function(e){return a.createElement(a.Fragment,{key:e},a.createElement("dt",{className:"ui tiny header"},n[e]),r[e].map((function(e){var t=e.scheme,n=e.identifier;return a.createElement("dd",{key:n},n&&a.createElement("a",{href:g(n,t,i),target:"_blank",title:_("Opens in new tab")},n))})))}))},Pe=function(e){var t=e.titleType,n=e.titleLang,i=e.title;return a.createElement(a.Fragment,{key:i},a.createElement("dt",{className:"ui tiny header"},t,n&&a.createElement("span",{className:"language text-muted"}," (".concat(n,")"))),a.createElement("dd",null,i))},xe=function(e){var t=e.addTitles;return a.createElement(a.Fragment,null,t.map((function(e){var t=e.type,n=e.lang,i=e.title;return a.createElement(Pe,{key:i,titleType:t.title_l10n,titleLang:n&&n.title_l10n,title:i})})))},Ie=function(e){var t=e.volumes,n="",i=t.volume?"Volume ".concat(t.volume):null,r=t.total_volumes?t.total_volumes:null;return n=i&&r?"".concat(i," of ").concat(r):i||"".concat(r," volumes"),a.createElement(a.Fragment,{key:"volumes"},a.createElement("dt",{className:"ui tiny header"},"Volumes"),a.createElement("dd",null,n))},Fe=function(e){e.customFieldsUi;var t,n,i=e.detailOrder,r=e.doiBadgeUrl,l=e.hasFiles,o=e.iconsHcUsername,c=e.iconsGnd,u=e.iconsOrcid,d=e.iconsRor,m=e.identifierSchemes,p=e.landingUrls,f=e.localizedStats,v=e.record,E=e.showDecimalSizes,h=v.pids.doi?v.pids.doi.identifier:null,b=[{title:s.M.t("Additional dates"),value:v.ui.dates?a.createElement(we,{dates:v.ui.dates}):null},{title:s.M.t("Additional titles"),value:v.ui.additional_titles?a.createElement(xe,{addTitles:v.ui.additional_titles}):null},{title:s.M.t("Alternate identifiers"),value:null!==(t=v.metadata.identifiers)&&void 0!==t&&t.filter((function(e){return"url"!==e.scheme}))?a.createElement(Ne,{alternateIdentifiers:v.metadata.identifiers,identifierSchemes:m,landingUrls:p}):null},{title:s.M.t("Analytics"),value:a.createElement(S,{record:v,hasFiles:l,localizedStats:f,showDecimalSizes:E})},{title:s.M.t("Awarding university"),value:v.ui.publishing_information&&v.ui.publishing_information.thesis?v.ui.publishing_information.thesis:null},{title:s.M.t("Chapter label"),value:v.ui.custom_fields["kcr:chapter_label"]?v.ui.custom_fields["kcr:chapter_label"]:null},{title:s.M.t("Conference"),value:v.ui.conference?a.createElement(Oe,{conference:v.ui.conference}):null},{title:s.M.t("Conference organization"),value:v.ui.custom_fields["kcr:meeting_organization"]?v.ui.custom_fields["kcr:meeting_organization"]:null},{title:s.M.t("Contributors"),value:a.createElement($,{creators:v.ui.creators,contributors:v.ui.contributors,iconsRor:d,iconsOrcid:u,iconsHcUsername:o,iconsGnd:c,landingUrls:p})},{title:s.M.t("Course title"),value:v.custom_fields["kcr:course_title"]?v.custom_fields["kcr:course_title"]:null},{title:s.M.t("Degree"),value:v.custom_fields["kcr:degree"]?v.custom_fields["kcr:degree"]:null},{title:s.M.t("Department"),value:v.custom_fields["kcr:institution_department"]?v.custom_fields["kcr:institution_department"]:null},{title:s.M.t("Development status"),value:v.ui.custom_fields["code:developmentStatus"]?v.ui.custom_fields["code:developmentStatus"].title_l10n:null},{title:s.M.t("DOI badge"),value:null!==h?a.createElement(be,{idDoi:h,doiBadgeUrl:r,doiLink:v.links.doi}):null},{title:s.M.t("DOI"),value:null!==h?a.createElement(_e,{doiLink:v.links.doi,doi:h}):null},{title:s.M.t("Edition"),value:v.custom_fields["kcr:edition"]?v.custom_fields["kcr:edition"]:null},{title:s.M.t("Frameworks or runtimes"),value:v.custom_fields["code:runtimePlatform"]?v.custom_fields["code:runtimePlatform"]:null},{title:s.M.t("Funding"),value:v.ui.funding?a.createElement(ye,{funding:v.ui.funding}):null},{title:s.M.t("Imprint"),value:v.ui.publishing_information&&v.ui.publishing_information.imprint?v.ui.publishing_information.imprint:null},{title:s.M.t("Formats"),value:v.metadata.formats?v.metadata.formats.join(", "):null},{title:s.M.t("Languages"),value:v.ui.languages?v.ui.languages.map((function(e){return e.title_l10n})).join(", "):null},{title:s.M.t("Media and materials"),value:v.custom_fields["kcr:media"]?v.custom_fields["kcr:media"].join(","):null},{title:s.M.t("Operating systems supported"),value:v.custom_fields["code:operatingSystem"]?v.custom_fields["code:operatingSystem"]:null},{title:s.M.t("Programming languages"),value:v.custom_fields["code:programmingLanguage"]?v.custom_fields["code:programmingLanguage"]:null},{title:s.M.t("Project title"),value:v.custom_fields["kcr:project_title"]?v.custom_fields["kcr:project_title"]:null},{title:s.M.t("Publication date"),value:v.ui.publication_date_l10n_long},{title:s.M.t("Project or publication website"),value:v.custom_fields["kcr:publication_url"]?v.custom_fields["kcr:publication_url"]:null},{title:s.M.t("Publisher"),value:v.metadata.publisher},{title:s.M.t("Published in"),value:v.ui.publishing_information&&v.ui.publishing_information.journal?v.ui.publishing_information.journal:null},{title:s.M.t("References"),value:v.ui.references?a.createElement(ge,{references:v.ui.references,identifierSchemes:m}):null},{title:s.M.t("Related identifiers"),value:v.ui.related_identifiers?a.createElement(ke,{relatedIdentifiers:v.ui.related_identifiers,identifierSchemes:m,landingUrls:p}):null},{title:s.M.t("Source code repository"),value:v.custom_fields["code:codeRepository"]?v.custom_fields["code:codeRepository"]:null},{title:s.M.t("Resource type"),value:v.ui.resource_type.title_l10n},{title:s.M.t("Series"),value:v.custom_fields["kcr:series"]?v.custom_fields["kcr:series"]:null},{title:s.M.t("Sizes"),value:v.metadata.sizes?v.metadata.sizes.join(", "):null},{title:s.M.t("Sponsoring institution"),value:v.custom_fields["kcr:sponsoring_institution"]?v.custom_fields["kcr:sponsoring_institution"]:null},{title:s.M.t("URLs"),value:null!==(n=v.metadata.identifiers)&&void 0!==n&&n.filter((function(e){return"url"===e.scheme}))?a.createElement(Me,{identifiers:v.metadata.identifiers}):null},{title:s.M.t("Version"),value:v.metadata.version?v.metadata.version:null},{title:s.M.t("Volumes"),value:v.custom_fields["kcr:volumes"]?a.createElement(Ie,{volumes:v.custom_fields["kcr:volumes"]}):null}].filter((function(e){var t=e.title,n=e.value;return("string"===typeof n||a.isValidElement(n))&&i.includes(t)})).toSorted((function(e,t){return i.indexOf(e.title)-i.indexOf(t.title)})).map((function(e){var t=e.title,n=e.value;return"string"===typeof n?a.createElement(Ce,{title:t,value:n,key:t}):n}));return b.length>0?b:null},Ce=function(e){var t=e.title,n=e.value,i=e.trueLabel,r=e.falseLabel,l=e.isVocabulary,o=a.createElement("dd",null);return o="string"===typeof n?a.createElement("dd",{dangerouslySetInnerHTML:{__html:n}}):"boolean"===typeof n?a.createElement("dd",null,n?i:r):l||Array.isArray(n)&&n.length>0&&"string"===typeof n[0]?a.createElement("dd",null,n.join(", ")):a.createElement("dd",null,n),a.createElement(a.Fragment,null,a.createElement("dt",{className:"ui tiny header"},t),o)},Oe=function(e){var t=e.conference,n=[t.url?a.createElement("a",{href:t.url},a.createElement("i",{className:"fa fa-external-link"})," ",t.title):"".concat(t.title),t.place,t.dates,t.session,t.session_part];return n=n.filter((function(e){return e})),a.createElement(a.Fragment,null,a.createElement("dt",{className:"ui tiny header"},"Event"),a.createElement("dd",null,n.join(", ")),t.url&&!t.title&&a.createElement(a.Fragment,null,a.createElement("dt",{className:"ui tiny header"},"Event"),a.createElement("dd",null,a.createElement("a",{href:t.url},a.createElement("i",{className:"fa fa-external-link"})," ",s.M.t("Conference website")))))},De=function(e){for(var t=e.asButton,n=void 0===t||t,i=e.asFluid,l=void 0===i||i,s=e.asItem,u=void 0!==s&&s,d=e.icon,m=void 0===d?"dropdown":d,p=e.id,f=void 0===p?"export-dropdown":p,v=e.text,E=void 0===v?"Export metadata as...":v,h=e.classNames,b=void 0===h?"":h,g=e.record,w=e.recordExporters,A=e.sectionIndex,y=e.isPreview,S=[],k=0,_=Object.entries(w);k<_.length;k++){var M=(0,o.A)(_[k],2),N=M[0],P=M[1].name||N,x=y?"/records/".concat(g.id,"/export/").concat(N,"?preview=1"):"/records/".concat(g.id,"/export/").concat(N);S.push({name:P,exportUrl:x})}return a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.ExportDropdown.layout"},e),a.createElement(R.A,{basic:!0,button:n,fluid:l,id:f,item:u,text:E,icon:m,className:b,tabIndex:A,as:"button",openOnFocus:!1,closeOnBlur:!1},a.createElement(R.A.Menu,null,S.map((function(e,t){return a.createElement(R.A.Item,{as:"button",key:t,text:e.name,href:e.exportUrl,tabIndex:A+t+1})})))))},Te=n(80501),Re=n(92257),Ue=n(50363);function je(e){var t=e.message,n=(0,a.useRef)(null),i=(0,a.useState)(!1),r=(0,o.A)(i,2),l=r[0],c=r[1],s=(0,a.useState)("mastodon.social"),u=(0,o.A)(s,2),d=u[0],m=u[1],p=(0,a.useState)(t),f=(0,o.A)(p,2),v=f[0],E=f[1];(0,a.useEffect)((function(){n.current&&n.current.focus();var e=localStorage.getItem("mastodon-instance");e?(m(e),c(!0)):(m("mastodon.social"),c(!1))}),[]);return a.createElement(Te.A,null,a.createElement(Te.A.Field,null,a.createElement("label",null,"Your Mastadon domain"),a.createElement(Re.A,{ref:n,onChange:function(e){m(e.target.value)},value:d,size:"small"})),a.createElement(Te.A.Field,{size:"tiny"},a.createElement(Ue.A,{label:"Remember me",onChange:function(e,t){c(t.checked),t.checked?localStorage.setItem("mastodon-instance",d):localStorage.removeItem("mastodon-instance")},toggle:!0,size:"tiny"})),a.createElement(Te.A.Field,null,a.createElement("textarea",{rows:"6",defaultValue:v,onChange:function(e){E(e.target.value)}})),a.createElement(q.A,{type:"submit",onClick:function(){window.open("https://".concat(d,"/share?text=").concat(t),"_blank").focus(),l&&localStorage.setItem("mastodon-instance",d)}},"Toot"))}function ze(e){var t=e.trigger,n=e.message;return a.createElement(u.A,{trigger:t,content:a.createElement(je,{message:n}),on:"click",position:"top right"})}function Le(e){var t=e.name,n=e.tabIndex,i=e.url,r=e.iconName;return"Mastodon"===t?a.createElement(ze,{trigger:a.createElement(q.A,{target:"_blank",rel:"noopener noreferrer",icon:!0,compact:!0,basic:!0,size:"big",tabIndex:n},a.createElement("i",{className:"icon mastodon"},a.createElement("svg",{alt:"Mastodon",viewBox:"0 0 24 24"},a.createElement("use",{xlinkHref:"/static/images/mastodon.svg#mastodon"})))),message:i}):a.createElement(q.A,{href:i,target:"_blank",rel:"noopener noreferrer",icon:!0,compact:!0,basic:!0,size:"big",tabIndex:n},a.createElement(p.A,{name:r}))}function qe(e){var t=e.record,n=e.sectionIndex,i=e.show,r=encodeURIComponent(t.links.self_html);console.log("pageLink",r);var l=[{name:"Mastodon",url:"".concat(t.metadata.title,"%0A").concat(r)},{name:"Facebook",url:"https://www.facebook.com/sharer/sharer.php?u=".concat(r)},{name:"LinkedIn",url:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(r)},{name:"Reddit",url:"https://www.reddit.com/submit?url=".concat(r,"&title=").concat(t.metadata.title)},{name:"WhatsApp",url:"https://api.whatsapp.com/send?text=".concat(t.metadata.title,"+").concat(r)},{name:"Telegram",url:"https://telegram.me/share/url?url=".concat(r,"&text=").concat(t.metadata.title)},{name:"VK",url:"http://vk.com/share.php?url=".concat(r,"&title=").concat(t.metadata.title,"&description=").concat(t.metadata.description)},{name:"Weibo",url:"http://service.weibo.com/share/share.php?url=".concat(r,"&title=").concat(t.metadata.title)},{name:"Email",url:"mailto:?subject=".concat("Knowledge Commons Article","&body=",t.metadata.title,"%0A").concat(r,"%0A").concat(t.metadata.description)}];return a.createElement(c.default,{id:"InvenioModularDetailPage.SidebarSharingSection.layout"},a.createElement("div",{className:"sidebar-container ".concat(i),id:"social-sharing"},a.createElement("div",{className:"ui rdm-sidebar"},l.map((function(e,t){var i=e.name,r=e.url;return a.createElement(Le,{key:i,name:i,url:r,iconName:"Email"===i?"mail":i.toLowerCase(),tabIndex:n+t+1})})))))}var He=n(58156),Be=n.n(He),Ve=n(36713),Ge=function(e){return{id:e.id,parent_id:e.parent.id,publication_date:e.ui.publication_date_l10n_medium,version:e.ui.version,links:e.links,pids:e.pids}},Je=function(e){var t=e.item,n=e.activeVersion,i=Be()(t.pids,"doi.identifier","");return a.createElement(J.A.Item,(0,r.A)({key:t.id},n&&{className:"version active"}),a.createElement(J.A.Content,{floated:"left"},n?a.createElement("span",null,s.M.t("Version {{version}}",{version:t.version})):a.createElement("a",{href:"/records/".concat(t.id)},s.M.t("Version {{version}}",{version:t.version})),i&&a.createElement("a",{href:"https://doi.org/".concat(i),className:"doi"+(n?" text-muted-darken":" text-muted")},i)),a.createElement(J.A.Content,{floated:"right"},a.createElement("small",{className:n?"text-muted-darken":"text-muted"},t.publication_date)))};Je.propTypes={item:O().object.isRequired,activeVersion:O().bool.isRequired};var We=function(){return a.createElement(T.A,{className:"container"},a.createElement(T.A.Row,null,a.createElement(T.A.Column,null,a.createElement(d.A,{info:!0},a.createElement(d.A.Header,null,a.createElement(p.A,{name:"eye"}),s.M.t("Preview")),a.createElement("p",null,s.M.t("Only published versions are displayed."))))))},Ke=function(e){var t,n=e.currentRecordInResults,i=e.isPreview,r=e.loading,l=e.recid,c=e.recordDeserialized,u=e.recordPublicationDate,d=e.recordVersions,m=e.sectionIndex,f=(0,a.useState)(l),v=(0,o.A)(f,2),E=(v[0],v[1],null===d||void 0===d||null===(t=d.hits)||void 0===t?void 0:t.map((function(e){var t={key:e.id,text:s.M.t("Version ".concat(e.version)),href:"/records/".concat(e.id),pubdate:e.publication_date},n=Be()(e.pids,"doi.identifier","");return n&&(t.description="https://doi.org/".concat(n)),t})));return E||(E=[]),i&&!n&&E.push({key:l,text:s.M.t("Preview version"),href:"/records/".concat(l),pubdate:u}),a.createElement("div",{className:"ui clearing segment rdm-sidebar pr-0 pt-0 pb-0 ".concat(i&&"preview")},a.createElement(a.Fragment,null,a.createElement("h3",{className:"version-label ".concat(i?"preview":""," ui header tiny")},i?a.createElement(a.Fragment,null,s.M.t("Preview"),a.createElement(p.A,{name:"eye"})):a.createElement(a.Fragment,null,s.M.t("Version "),r?a.createElement(p.A,{loading:!0,name:"spinner",size:"tiny"}):c.version)),d.total>1&&a.createElement(R.A,{as:"button",button:!0,basic:!0,text:"other versions",direction:"left",className:"right floated",tabIndex:m,closeOnBlur:!1,openOnFocus:!1},a.createElement(R.A.Menu,null,E.map((function(e,t){return a.createElement(R.A.Item,{as:"button",key:e.key,href:e.href,tabIndex:m+t+1},a.createElement("span",{className:"text"},e.text),a.createElement("small",{className:"pubdate description"},e.pubdate),a.createElement("small",{className:"doi description"},e.description))})),a.createElement(R.A.Divider,null),a.createElement(R.A.Item,{as:"button",href:"/search?q=parent.id:".concat(c.parent_id,"&sort=version&f=allversions:true"),text:s.M.t("View all ".concat(d.total," versions")),tabIndex:m+E.length+2})))))},Ye=function(e){var t=e.currentRecordInResults,n=e.isPreview,i=e.loading,r=e.recid,l=e.recordDeserialized,o=e.recordVersions;return a.createElement(J.A,{divided:!0},a.createElement(a.Fragment,null,i?a.createElement(D.A,{fluid:!0},a.createElement(D.A.Header,null,a.createElement(D.A.Line,null),a.createElement(D.A.Line,null),a.createElement(D.A.Line,null),a.createElement(D.A.Line,null))):a.createElement(a.Fragment,null,n?a.createElement(We,null):null,o.hits.map((function(e){return a.createElement(Je,{key:e.id,item:e,activeVersion:e.id===r})})),!t&&a.createElement(a.Fragment,null,a.createElement(Ve.A,{horizontal:!0},"..."),a.createElement(Je,{item:l,activeVersion:!0})),o.total>1&&a.createElement(T.A,{className:"mt-0"},a.createElement(T.A.Row,{centered:!0},a.createElement("a",{href:"/search?q=parent.id:".concat(l.parent_id,"&sort=version&f=allversions:true"),className:"font-small"},s.M.t("View all {{count}} versions",{count:o.total})))))))},Ze=function(e){var t=e.record,n=e.isPreview,i=e.sectionIndex,r=e.widgetStyle,l=void 0===r?"list":r,c=Ge(t),s=c.id,u=(0,a.useState)(!0),d=(0,o.A)(u,2),m=d[0],p=d[1],f=(0,a.useState)(!1),v=(0,o.A)(f,2),E=v[0],h=v[1],b=(0,a.useState)({}),g=(0,o.A)(b,2),w=g[0],A=g[1];return(0,a.useEffect)((function(){function e(){return e=(0,k.A)(N().mark((function e(){var t,n,a,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x()("".concat(c.links.versions,"?size=").concat(5,"&sort=version&allversions=true"),{headers:{Accept:"application/vnd.inveniordm.v1+json"},withCredentials:!0});case 2:t=e.sent,n=t.data.hits,a=n.hits,i=n.total,a=a.map(Ge),h(a.some((function(e){return e.id===s}))),A({hits:a,total:i}),p(!1);case 8:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),"list"===l?a.createElement(Ye,{isPreview:n,loading:m,recordDeserialized:c,recid:s,recordVersions:w,currentRecordInResults:E}):a.createElement(Ke,{isPreview:n,loading:m,recordDeserialized:c,recid:s,recordPublicationDate:c.publication_date,recordVersions:w,currentRecordInResults:E,sectionIndex:i})};Ze.propTypes={record:O().object.isRequired,isPreview:O().bool.isRequired};var Qe={Analytics:S,Citation:z,CitationSection:B,CommunitiesBanner:V,ContentWarning:G,Creatibutors:$,CreatibutorsShortList:function(e){var t,n=e.creators,i=e.contributors,r=e.iconsRor,l=e.iconsOrcid,o=e.iconsGnd,c=e.iconsHcUsername,u=e.iconsIsni,d=e.landingUrls,m=i?null===n||void 0===n||null===(t=n.creators)||void 0===t?void 0:t.concat(null===i||void 0===i?void 0:i.contributors):null===n||void 0===n?void 0:n.creators;return a.createElement("section",{id:"creatibutors-list-section",className:"ui mb-10 mt-10 sixteen wide mobile twelve wide tablet thirteen wide computer column"},a.createElement("dl",{className:"creatibutors","aria-label":s.M.t("Contributors list")},null!==m&&void 0!==m&&m.length?m.map((function(e,t){return a.createElement(X,{creatibutor:e,key:e.person_or_org.name,show_affiliations:false,show_roles:false,iconsRor:r,iconsOrcid:l,iconsGnd:o,iconsHcUsername:c,iconsIsni:u,landingUrls:d})})):""))},Descriptions:function(e){var t=e.description,n=e.additional_descriptions,i=e.hasFiles,r=e.permissions,l=(0,a.useState)(!1),c=(0,o.A)(l,2),u=c[0],d=c[1];return a.createElement(a.Fragment,null,t&&a.createElement(a.Fragment,null,a.createElement("h2",{id:"description-heading"},s.M.t("Description")),t.length>240&&i&&null!==r&&void 0!==r&&r.can_read_files?a.createElement(a.Fragment,null,a.createElement("p",null,u?t:a.createElement(a.Fragment,null,"".concat(t.substring(0,240)),"\u2026\xa0\xa0",a.createElement("a",{as:"a",onClick:function(){return d(!u)},href:"#description-heading",size:"tiny",className:"show-more"},"Show more")))):a.createElement("p",null,t),n&&u&&n.map((function(e,t){return a.createElement("section",{id:"additional-description-".concat(t),key:"additional-description-".concat(t),className:"rel-mt-2","aria-label":s.M.t(e.type.title_l10n)},a.createElement("h2",null,s.M.t(e.type.title_l10n),a.createElement("span",{className:"text-muted language"},e.lang?"(".concat(e.lang.title_l10n,")"):"")),a.createElement("p",null,e.description))})),u&&a.createElement(q.A,{onClick:function(){return d(!u)},size:"tiny",className:"show-less"},"Show less")))},DetailMainTabs:re,FileListBox:function(e){var t=e.activePreviewFile,n=e.fileCountToShow,i=void 0===n?0:n,r=e.files,l=e.fileTabIndex,o=e.fullWordButtons,c=void 0===o||o,s=e.isPreview,u=e.permissions,d=e.previewFileUrl,m=e.previewTabIndex,p=e.record,f=e.setActiveTab,v=e.setActivePreviewFile,E=e.showChecksum,h=void 0===E||E,b=e.showEmbargoMessage,g=void 0===b||b,w=e.showTableHeader,A=void 0===w||w,y=e.showTotalSize,S=void 0===y||y,k=e.stackedRows,_=void 0!==k&&k,M=e.totalFileSize,N=e.withPreview;return a.createElement("div",{className:"ui mb-10 ".concat(p.ui.access_status.id)},a.createElement("div",{className:"content pt-0"},("restricted"===p.access.files||!1===r.enabled)&&g&&a.createElement(le,{record:p}),!!u.can_read_files&&!1!==r.enabled&&a.createElement(ce,{activePreviewFile:t,previewFileUrl:d,files:r,fileCountToShow:i,fileTabIndex:l,fullWordButtons:c,pid:p.id,isPreview:s,permissions:u,previewTabIndex:m,record:p,setActivePreviewFile:v,setActiveTab:f,showChecksum:h,showTableHeader:A,showTotalSize:S,stackedRows:_,totalFileSize:M,withPreview:void 0===N||N})))},FilePreview:me,FilePreviewWrapper:function(e){var t=e.activePreviewFile,n=e.previewFileUrl,i=e.files,l=e.hasFiles,o=e.hasPreviewableFiles,s=e.isPreview,u=e.permissions,d=e.defaultPreviewFile,m=e.record,p=e.setActivePreviewFile,f=e.totalFileSize;return a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.FilePreviewWrapper.layout"},e),a.createElement(me,{activePreviewFile:t,previewFileUrl:n,files:i,hasFiles:l,hasPreviewableFiles:o,isPreview:s,permissions:u,defaultPreviewFile:d,record:m,setActivePreviewFile:p,totalFileSize:f,useDynamicPreview:!1}))},MainSubjectsSection:function(e){var t=e.record,n=e.showKeywords,i=void 0===n||n,l=e.show,o=t.metadata.subjects,u=null===o||void 0===o?void 0:o.filter((function(e){return!!e.scheme})),d=null===u||void 0===u?void 0:u.map((function(e){return e.subject.toLowerCase()})),m=null===o||void 0===o?void 0:o.filter((function(e){return!e.scheme})).map((function(e){return e.subject})).concat(t.custom_fields["kcr:user_defined_tags"]).filter((function(e){return!d.includes(null===e||void 0===e?void 0:e.toLowerCase())}));return a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.MainSubjectsSection.layout"},e),null!==u&&void 0!==u&&u.length?a.createElement("div",{id:"subjects",className:l,"aria-label":s.M.t("Record subject headings")},a.createElement("h2",{className:"ui tiny header"},s.M.t("Subjects")),a.createElement(fe,{passedClassNames:"ui ",subjectHeadings:u,keywords:m,showKeywords:i})):"")},PublishingDetails:function(e){var t=e.customFieldsUi,n=e.doiBadgeUrl,i=e.hasFiles,r=e.iconsHcUsername,l=e.iconsGnd,c=e.iconsOrcid,s=e.iconsRor,u=e.identifierSchemes,d=e.landingUrls,m=e.localizedStats,f=e.record,E=(e.section,e.show,e.showDecimalSizes),h=e.showAccordionIcons,b=void 0!==h&&h,g=e.subsections,w=a.useState([1]),A=(0,o.A)(w,2),y=A[0],S=A[1];console.log("PublishingDetails activeIndex",y);var k=t.map((function(e){return e.section})),_=g.reduce((function(e,p){var h=p.section,b=p.subsections,g=p.icon,w=p.show;if(k.includes(h)){var A=b,y=t.find((function(e){return e.section===h})),S=function(e){var t=e.sectionFields,n=e.customFields,i=e.detailOrder;return i&&(t=i.map((function(e){var n=e.section;return e.subsections,t.find((function(e){return e.field===n}))}))),t.map((function(e){var t=n[e.field];if(t){if("object"===(0,ve.A)(t)){var r,l=Object.entries(t),c=null===(r=i.find((function(t){return t.section===e.field})))||void 0===r?void 0:r.subsections;return c&&(l=c.reduce((function(e,t){var n=t.section,a=l.find((function(e){var t=(0,o.A)(e,2),a=t[0];return t[1],a===n}));return a?[].concat((0,v.A)(e),[a]):e}),[])),a.createElement(a.Fragment,null,l.map((function(t){var n=(0,o.A)(t,2),i=n[0],r=n[1];return a.createElement(Ce,{key:i,title:e.props[i].label,value:r,trueLabel:e.props[i].trueLabel,falseLabel:e.props[i].falseLabel,isVocabulary:e.props[i].isVocabulary})})))}return a.createElement(Ce,{key:e.field,title:e.props.label,value:t,trueLabel:e.props.trueLabel,falseLabel:e.props.falseLabel,isVocabulary:e.props.isVocabulary})}return null}))}({sectionFields:y.fields,customFields:f.custom_fields,detailOrder:A});S[0]&&e.push({key:h,title:{content:h,icon:y.icon},content:{content:S}})}else{var _=null===b||void 0===b?void 0:b.map((function(e){return e.section}));e.push({title:{content:h,icon:g},content:{content:Fe({customFieldsUi:t,detailOrder:_,doiBadgeUrl:n,hasFiles:i,iconsHcUsername:r,iconsGnd:l,iconsOrcid:c,iconsRor:s,identifierSchemes:u,landingUrls:d,localizedStats:m,record:f,showDecimalSizes:E})},show:w})}return e}),[]);console.log("PublishingDetails",f),console.log("PublishingDetails customFieldsUi",t,k),console.log("PublishingDetails accordionSections",g),console.log("PublishingDetails sectionsArray",_);return a.createElement(Ee.A,{fluid:!0,exclusive:!1,defaultActiveIndex:[1]},_.map((function(e,t){var n=e.title,i=e.content,r=e.show;return i.content&&a.createElement(a.Fragment,null,a.createElement(Ee.A.Title,{as:"button",active:y.includes(t),index:t,onClick:function(){return function(e){var t=y.includes(e)?y.filter((function(t){return t!==e})):[].concat((0,v.A)(y),[e]);S(t)}(t)},className:"".concat(n.content," ").concat(r),tabindex:20+t},a.createElement(p.A,{name:n.icon&&b?n.icon:"dropdown"}),n.content),a.createElement(Ee.A.Content,{active:y.includes(t),className:"".concat(n.content," ").concat(r)},a.createElement("dl",{className:"details-list mt-0"},i.content.map((function(e){return e})))))})))},RecordTitle:function(e){var t=e.title;return a.createElement("section",{id:"record-title-section","aria-label":s.M.t("Record title")},a.createElement("h1",{id:"record-title",className:"wrap-overflowing-text"},t))},SidebarContentWarningSection:function(e){var t=e.record,n=e.section;return a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.SidebarContentWarningSection.layout"},e),t.custom_fields["kcr:content_warnin"]&&a.createElement("div",{id:"content-warning-container",className:"sidebar-container"},a.createElement("h2",{id:"content-warning-header",className:"ui medium top attached header mt-0"},n),a.createElement("div",{id:"content-warning-content",className:"ui segment bottom attached rdm-sidebar"},a.createElement(G,{record:t}))))},SidebarDetailsSection:function(e){var t=e.customFieldsUi,n=e.doiBadgeUrl,i=e.identifierSchemes,l=e.landingUrls,o=e.record,u=e.subsections,d=e.show,m=e.show_heading,p=u.map((function(e){return e.section}));o.pids.doi&&o.pids.doi.identifier;return a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.SidebarDetailsSection.layout"},e),a.createElement("div",{id:"publication-details",className:"sidebar-container ".concat(d),"aria-label":s.M.t("Publication details")},!0===m&&a.createElement("h2",{className:"ui medium top attached header mt-0"},s.M.t("Details")),a.createElement("div",{id:"record-details",className:"ui segment rdm-sidebar"},a.createElement("div",{className:"badges-row"},o.ui.resource_type&&a.createElement("span",{className:"ui label horizontal small neutral mb-5",title:s.M.t("Resource type")},o.ui.resource_type.title_l10n),a.createElement("span",{className:"ui label horizontal small access-status ".concat(o.ui.access_status.id," mb-5"),title:s.M.t("Access status"),"data-tooltip":o.ui.access_status.description_l10n,"data-inverted":""},o.ui.access_status.icon&&a.createElement("i",{className:"icon ".concat(o.ui.access_status.icon)}),o.ui.access_status.title_l10n)),a.createElement("dl",{className:"details-list mt-0"},Fe({customFieldsUi:t,detailOrder:p,doiBadgeUrl:n,identifierSchemes:i,landingUrls:l,record:o})))))},SidebarDownloadSection:function(e){var t=e.defaultPreviewFile,n=e.files,i=e.fileTabIndex,l=e.hasFiles,o=e.isPreview,u=e.permissions,d=e.previewFileUrl,m=e.previewTabIndex,p=e.record,f=e.sectionIndex,v=e.setActiveTab,E=e.show,h=e.show_heading,b=e.totalFileSize;return l?a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.SidebarDownloadSection.layout"},e),a.createElement("div",{id:"download",className:"sidebar-container ".concat(E),"aria-label":s.M.t("File download")},!0===h&&a.createElement("h2",{className:"ui medium top attached header mt-0"},s.M.t("Download")),a.createElement(de,{id:"record-details-download",defaultPreviewFile:t,files:n,fileCountToShow:3,fileTabIndex:i,fullWordButtons:!1,withPreview:!1,isPreview:o,permissions:u,previewFileUrl:d,previewTabIndex:m,record:p,sectionIndex:f,setActiveTab:v,showChecksum:!1,showHeading:h,showTableHeader:!1,showTotalSize:!1,stackedRows:!0,totalFileSize:b}))):null},SidebarExportSection:function(e){var t=e.isPreview,n=e.recordExporters,i=e.record,l=e.sectionIndex,o=e.show;return a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.SidebarExportSection.layout"},e),a.createElement("div",{className:"sidebar-container ".concat(o),id:"record-export"},a.createElement(De,{record:i,isPreview:t,recordExporters:n,sectionIndex:l})))},SidebarRightsSection:function(e){var t=e.rights,n=e.section;return t?a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.SidebarRightsSection.layout"},e),a.createElement("div",{className:"sidebar-container"},a.createElement("h2",{id:"licenses-header",className:"ui medium top attached header mt-0"},n),a.createElement("div",{id:"licenses",className:"ui segment bottom attached rdm-sidebar"},a.createElement("ul",{className:"details-list m-0 p-0"},t.map((function(e,t){return a.createElement("li",{id:"license-".concat(e.id,"-").concat(t),className:"has-popup",key:t},a.createElement(u.A,{id:"description-".concat(e.id,"-").concat(t),className:"licenses-description ui flowing popup transition hidden",role:"dialog","aria-labelledby":"title-".concat(e.id,"-").concat(t),tabIndex:"0","aria-haspopup":"dialog","aria-expanded":"false","aria-label":e.title_l10n,trigger:a.createElement("div",{id:"title-".concat(e.id,"-").concat(t),className:"license clickable",role:"button"},e.icon&&a.createElement("span",{className:"icon-wrap"},a.createElement("img",{className:"icon",src:"/static/icons/licenses/".concat(e.icon,".svg"),alt:"".concat(e.id," icon")})),a.createElement("span",{className:"title-text"},e.title_l10n)),on:"click"},a.createElement(u.A.Content,{id:"license-description-".concat(t),className:"description"},e.description_l10n&&a.createElement("span",{className:"text-muted"},e.description_l10n," "),function(e){return e.link?a.createElement("a",{className:"license-link",href:e.link,target:"_blank",rel:"noopener noreferrer",title:s.M.t("Opens in new tab")},"Read more"):e.props&&e.props.url?a.createElement("a",{className:"license-link",href:e.props.url,target:"_blank",rel:"noopener noreferrer",title:s.M.t("Opens in new tab")},"Read more"):void 0}(e))))})))))):null},SidebarSharingSection:qe,SidebarSubjectsSection:function(e){var t,n=e.record,i=e.showKeywords,r=void 0===i||i,l=e.show,o=n.metadata.subjects,u=null===o||void 0===o?void 0:o.filter((function(e){return!!e.scheme})),d=null===u||void 0===u?void 0:u.map((function(e){return e.subject.toLowerCase()})),m=null===o||void 0===o||null===(t=o.filter((function(e){return!e.scheme})))||void 0===t||null===(t=t.map((function(e){return e.subject})))||void 0===t||null===(t=t.concat(n.custom_fields["kcr:user_defined_tags"]))||void 0===t?void 0:t.filter((function(e){return!d.includes(null===e||void 0===e?void 0:e.toLowerCase())}));return a.createElement(c.default,{id:"InvenioModularDetailPage.SidebarSubjectsSection.layout"},null!==u&&void 0!==u&&u.length?a.createElement("div",{id:"subjects",className:"sidebar-container ".concat(l),"aria-label":s.M.t("Record subject headings")},a.createElement("h2",{className:"ui medium top attached header mt-0"},s.M.t("Subjects")),a.createElement(fe,{passedClassNames:"ui bottom attached segment rdm-sidebar pr-0 pt-0",subjectHeadings:u,keywords:m,showKeywords:r})):"")},VersionsListSection:function(e){var t=e.isPreview,n=e.record;e.showHeader;return a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.VersionsListSection.layout"},e),a.createElement("div",{id:"record-versions",className:"sidebar-container"},a.createElement("h2",{className:"ui medium top attached header mt-0"},s.M.t("Versions")),a.createElement("div",{className:"ui segment rdm-sidebar bottom attached pl-0 pr-0 pt-0"},a.createElement("div",{className:"versions"},a.createElement("div",{id:"recordVersions","data-record":n,"data-preview":t},a.createElement(Ze,{record:n,isPreview:t}))))))},VersionsDropdownSection:function(e){var t=e.isPreview,n=e.record,i=e.sectionIndex;return a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.VersionsDropdownSection.layout"},e),a.createElement("div",{className:"sidebar-container",id:"record-versions"},a.createElement(Ze,{record:n,isPreview:t,widgetStyle:"dropdown",sectionIndex:i})))}},Xe=n(93532),$e=n(52822),et=function(e){var t=e.recid,n=e.open,i=e.handleClose,r=(0,a.useState)(),l=(0,o.A)(r,2),c=l[0],m=l[1],f=(0,a.useState)(!1),v=(0,o.A)(f,2),E=v[0],h=v[1],b=(0,a.useState)("view"),g=(0,o.A)(b,2),w=g[0],A=g[1],y=(0,a.useState)(!1),S=(0,o.A)(y,2),_=S[0],M=S[1],P=[{key:"view",text:s.M.t("Can view"),value:"view"},{key:"preview",text:s.M.t("Can preview"),value:"preview"},{key:"edit",text:s.M.t("Can edit"),value:"edit"}],I={view:a.createElement("span",null,a.createElement($e.x,null,"Anyone with this link ",a.createElement("strong",null,"can view all versions")," of this record & files.")),preview:a.createElement("span",null,a.createElement($e.x,null,"Anyone with this link"," ",a.createElement("strong",null,"can view all published and unpublished versions")," of this record & files.")),edit:a.createElement("span",null,a.createElement($e.x,null,"Anyone with an account and this link"," ",a.createElement("strong",null,"can edit all versions")," of this record & files."))},F=a.createRef(),C=function(){var e=(0,k.A)(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.http.post("/api/records/".concat(t,"/access/links"),{permission:w},{headers:{Accept:"application/json","Content-Type":"application/json"},withCredentials:!0}).then((function(e){m(e.data),h(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){document.querySelector("#input").select();var e=document.execCommand("copy");M(e)},D=function(){var e=(0,k.A)(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.http.delete("/api/records/".concat(t,"/access/links/").concat(c.id),{headers:{Accept:"application/json"},withCredentials:!0}).then((function(){m(),h(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){E&&O()}),[E]),(0,a.useEffect)((function(){var e=x().CancelToken.source();return c&&(0,k.A)(N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.http.patch("/api/records/".concat(t,"/access/links/").concat(c.id),{permission:w},{headers:{"Content-Type":"application/json"},withCredentials:!0,cancelToken:e.token});case 2:case"end":return n.stop()}}),n)})))(),function(){e.cancel()}}),[w]),(0,a.useEffect)((function(){c&&A(c.permission)}),[c]),(0,a.useEffect)((function(){var e=x().CancelToken.source();return(0,k.A)(N().mark((function n(){var a,i,r;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x()("/api/records/".concat(t,"/access/links"),{headers:{Accept:"application/json"},withCredentials:!0,cancelToken:e.token});case 2:a=n.sent,i=a.data.hits,r=i.hits,i.total>0&&m(r[0]);case 5:case"end":return n.stop()}}),n)})))(),function(){e.cancel()}}),[]),(0,a.useEffect)((function(){var e;null===(e=F.current)||void 0===e||e.focus()}),[F]),(0,a.useEffect)((function(){var e=setTimeout((function(){M(!1)}),1500);return function(){clearTimeout(e)}}),[_]),a.createElement(L.A,{open:n,onClose:i,className:"share-modal",role:"dialog","aria-labelledby":"access-link-modal-header","aria-modal":"true","tab-index":"-1",closeOnDocumentClick:!1},a.createElement(L.A.Header,{id:"access-link-modal-header"},a.createElement(p.A,{name:"share alternate"}),s.M.t("Get a link")),a.createElement(L.A.Content,{className:"ui grid"},a.createElement("div",{className:"share-content row"},a.createElement(Re.A,{id:"input",className:"sixteen wide mobile column",value:function(e){var t="preview"===w?"preview=1&":"";return e?"".concat(window.location,"?").concat(t,"token=").concat(e.token):""}(c),readOnly:!0}),a.createElement("div",{className:"ui sixteen wide mobile column share-content-buttons"},a.createElement(R.A,{className:"ui small share-link-dropdown",size:"small",selectOnNavigation:!1,button:!0,options:P,defaultValue:w,onChange:function(e,t){var n=t.value;return A(n)}}),a.createElement(u.A,{position:"top center",content:s.M.t("Copied!"),inverted:!0,open:_,on:"click",size:"small",trigger:a.createElement(q.A,{ref:F,size:"small",positive:!!c,color:c?"":"blue",onClick:c&&O||C,"aria-label":c?s.M.t("Copy link"):s.M.t("Get a link")},a.createElement(p.A,{name:"copy outline"}),c?s.M.t("Copy link"):s.M.t("Get a link")),className:""}),a.createElement("div",{role:"alert",style:{position:"absolute",opacity:0}},a.createElement("p",null,_&&s.M.t("Copied")))),a.createElement(L.A.Description,null,a.createElement(d.A,{className:"share-description info"},a.createElement(p.A,{name:"warning circle",size:"large"}),c?I[w]:s.M.t("No link has been created. Click on 'Get a Link' to make a new link."))))),a.createElement(L.A.Actions,null,!!c&&a.createElement(q.A,{size:"small",negative:!0,floated:"left",onClick:D,icon:!0},a.createElement(p.A,{name:"trash alternate outline"}),s.M.t("Delete link")),a.createElement(q.A,{size:"small",onClick:i},s.M.t("Done"))))};et.propTypes={recid:O().string.isRequired,open:O().bool.isRequired,handleClose:O().func.isRequired};var tt=function(e){var t=e.disabled,n=(e.recid,e.handleShareModalOpen),i=e.handleParentPopupClose,r=e.tabIndex;return a.createElement(u.A,{content:s.M.t("You don't have permissions to share this record."),disabled:!t,trigger:a.createElement(q.A,{fluid:!0,onClick:function(){n(),i()},disabled:t,primary:!0,size:"medium","aria-haspopup":"dialog",icon:!0,labelPosition:"left",tabIndex:r},a.createElement(p.A,{name:"share square"}),s.M.t("Share"))})};tt.propTypes={disabled:O().bool,recid:O().string.isRequired},tt.defaultProps={disabled:!1};var nt=function(e){var t=e.recid,n=e.onError,i=e.tabIndex,r=(0,a.useState)(!1),l=(0,o.A)(r,2),c=l[0],u=l[1],d=function(){var e=(0,k.A)(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,U.http.post("/api/records/".concat(t,"/draft"));case 4:window.location="/uploads/".concat(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),u(!1),n(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return a.createElement(q.A,{fluid:!0,className:"warning",size:"medium",onClick:d,loading:c,icon:!0,labelPosition:"left",tabIndex:i},a.createElement(p.A,{name:"edit"}),s.M.t("Edit"))};var at=function(e){var t=e.record,n=e.permissions,i=e.isDraft,r=e.isPreviewSubmissionRequest,l=e.currentUserId,u=e.handleShareModalOpen,d=e.handleParentPopupClose,m=e.tabIndex,f=(0,a.useState)(null),v=(0,o.A)(f,2),E=v[0],h=v[1],b=t.id,g=function(e){console.error(e),h(e)};return a.createElement("section",{id:"record-manage-menu","aria-label":s.M.t("Record management"),class:"ui"},a.createElement(T.A,{columns:1,className:"record-management",id:"recordManagement"},n.can_edit&&!i&&a.createElement(T.A.Column,{className:"pb-5"},a.createElement(nt,{recid:b,onError:g,tabIndex:m+2})),r&&i&&a.createElement(T.A.Column,{className:"pb-20"},a.createElement(q.A,{fluid:!0,className:"warning",size:"medium",onClick:function(){return window.location="/uploads/".concat(b)},icon:!0,labelPosition:"left",tabIndex:m+4},a.createElement(p.A,{name:"edit"}),s.M.t("Edit"))),!r&&a.createElement(a.Fragment,null,a.createElement(T.A.Column,{className:"pt-5 pb-5"},a.createElement(Xe.z4,{fluid:!0,size:"medium",record:t,onError:g,disabled:!n.can_new_version,tabIndex:m+6})),a.createElement(T.A.Column,{className:"pt-5"},n.can_manage&&a.createElement(tt,{disabled:!n.can_update_draft,recid:b,handleShareModalOpen:u,handleParentPopupClose:d,tabIndex:m+8}))),a.createElement(c.default,{id:"InvenioAppRdm.RecordLandingPage.RecordManagement.container",isPreviewSubmissionRequest:r,record:t,currentUserId:l}),E&&a.createElement(T.A.Row,{className:"record-management"},a.createElement(T.A.Column,null,a.createElement(Message,{negative:!0},E)))))},it=function(e){var t=e.currentUserId,n=e.handleShareModalOpen,i=e.isDraft,r=e.isPreviewSubmissionRequest,l=e.record,c=e.permissions,s=(0,a.useState)(!1),d=(0,o.A)(s,2),m=d[0],p=d[1],f=function(){return p(!1)};return a.createElement(u.A,{id:"record-management-popup",open:m,onOpen:function(){return p(!0)},onClose:f,inline:!0,trigger:a.createElement(q.A,{fluid:!0,labelPosition:"right",icon:"cog",content:"Manage this work",basic:!0,tabIndex:40}),on:"click",flowing:!0,content:a.createElement(at,{record:l,permissions:c,isDraft:i,isPreviewSubmissionRequest:r,currentUserId:t,handleShareModalOpen:n,handleParentPopupClose:f,tabIndex:40})})},rt=function(e){var t=e.backPage,n=e.isPreview,i=e.isDraft,r=e.canManage,l=e.isPreviewSubmissionRequest,o=e.show;return n&&!l&&r&&i?a.createElement("nav",{className:"back-navigation rel-pb-2 pl-0 ".concat(o),"aria-label":s.M.t("Back-navigation")},a.createElement("a",{className:"ui button labeled icon basic orange",href:t},a.createElement("i",{className:"ui icon angle left"})," ",s.M.t("Back to edit"))):""},lt=function(e){var t=e.isPublished,n=e.isLatest,i=e.latestHtml;return t&&!n?a.createElement(Message,{warning:!0,icon:!0},a.createElement(Icon,{name:"exclamation circle",size:"large"}),a.createElement(Message.Content,null,"There is a"," ",a.createElement("a",{href:i},a.createElement("b",null,"newer version"))," ","of this work.")):null};function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var st=function(e){var t=a.useState(!1),n=(0,o.A)(t,2),i=n[0],l=n[1],s=function(){return l(!1)},u=function(){return l(!0)},d=e.sidebarSectionsRight.filter((function(e){var t=e.component_name;return void 0!==t&&void 0!==Qe[t]}));return a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.DetailRightSidebar.layout"},ct(ct({},e),{},{handleShareModalOpen:u,handleShareModalClose:s,shareModalOpen:i,activeSidebarSections:d})),a.createElement("aside",{className:"sixteen wide tablet five wide computer column right-sidebar"},a.createElement(rt,{backPage:e.backPage,isPreview:e.isPreview,isDraft:e.isDraft,canManage:e.canManage,isPreviewSubmissionRequest:e.isPreviewSubmissionRequest,show:"computer large monitor widescreen only"}),a.createElement(lt,{isLatest:e.record.versions.is_latest,isPublished:e.record.is_published,latestHtml:e.record.links.latest_html,show:"computer large monitor widescreen only"}),e.showRecordManagementMenu?a.createElement("div",{className:"sidebar-container computer large monitor widescreen only",id:"record-management"},a.createElement(it,{record:e.record,permissions:e.permissions,isDraft:e.isDraft,isPreviewSubmissionRequest:e.isPreviewSubmissionRequest,currentUserId:e.currentUserId,handleShareModalOpen:u}),a.createElement(et,{recid:e.record.id,open:i,handleClose:s})):null,d.map((function(t,n){var i=t.section,l=t.component_name,o=t.props,c=t.subsections,s=t.show_heading,u=t.show,d=Qe[l],m=E(e,o);return a.createElement(d,(0,r.A)({},m,{section:i,subsections:c,key:i,show_heading:s,show:u,sectionIndex:40+n+n+n+n+n+n+n+n+n+n}))}))))},ut=function(e){return a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.DetailLeftSidebar.layout"},e),a.createElement("aside",{className:"sixteen wide tablet five wide computer column left-sidebar"}))},dt=function(e){var t=e.canManage,n=e.citationStyles,i=e.citationStyleDefault,l=e.currentUserId,s=e.defaultPreviewFile,d=e.files,m=(e.fileCountToShow,e.fileTabIndex),f=e.isPreview,v=e.isDraft,E=e.isPreviewSubmissionRequest,h=e.permissions,b=e.previewFileUrl,g=e.record,w=e.recordExporters,A=e.setActiveTab,y=e.totalFileSize,S=(0,a.useState)(null),k=(0,o.A)(S,2),_=k[0],M=k[1],N=(0,a.useState)(!1),P=(0,o.A)(N,2),x=P[0],I=P[1],F=a.useState(!1),C=(0,o.A)(F,2),O=C[0],D=C[1],T=function(){return I(!1)},R=function(e,t){var n=t.name;M(_===n?null:n)};return a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.MobileActionMenu.layout"},e),a.createElement(ee.A,{className:"mobile tablet only sixteen wide sticky bottom",compact:!0,icon:"labeled",size:"mini",inverted:!0},t&&a.createElement(a.Fragment,null,a.createElement(et,{recid:g.id,open:O,handleClose:function(){return D(!1)}}),a.createElement(u.A,{content:a.createElement(at,{record:g,permissions:h,isDraft:v,isPreviewSubmissionRequest:E,currentUserId:l,handleShareModalOpen:function(){return D(!0)},handleParentPopupClose:T}),trigger:a.createElement(ee.A.Item,{name:"manage",active:"manage"===_,onClick:R},a.createElement(p.A,{name:"cog"}),"Manage"),onClose:function(){return M(null)&&T()},on:"click",open:x,onOpen:function(){return I(!0)}})),a.createElement(De,{id:"record-details-export",asItem:!0,asButton:!1,asFluid:!1,icon:null,record:g,text:a.createElement(a.Fragment,null,a.createElement(p.A,{name:"share"}),"Export"),isPreview:f,recordExporters:w,classNames:"pointing"}),a.createElement(H,{record:g,trigger:a.createElement(ee.A.Item,{name:"cite",active:"cite"===_,onClick:R},a.createElement(p.A,{name:"quote right"}),"Cite"),citationStyles:n,citationStyleDefault:i,onCloseHandler:function(){return M(null)}}),a.createElement(u.A,{content:a.createElement(qe,{record:g}),trigger:a.createElement(ee.A.Item,{name:"share",active:"share"===_,onClick:R},a.createElement(p.A,{name:"paper plane"}),"Share"),onClose:function(){return M(null)},on:"click"}),a.createElement(ue,{asItem:!0,id:"record-details-download",defaultPreviewFile:s,files:d,fileCountToShow:3,fileTabIndex:m,isPreview:f,permissions:h,previewFileUrl:b,record:g,setActiveTab:A,totalFileSize:y})))};function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ft=function(e){var t=(0,a.useState)(e.defaultPreviewFile),n=(0,o.A)(t,2),i=n[0],l=n[1],s=(0,a.useState)(0),u=(0,o.A)(s,2),d=u[0],m=u[1],p=e.mainSections.filter((function(e){return"DetailMainTabs"===e.component_name}))[0].subsections,f=e.record,v=void 0!==e.permissions&&(e.permissions.can_edit||e.permissions.can_review),b={activePreviewFile:i,additionalDescriptions:f.ui.additional_descriptions?f.ui.additional_descriptions:null,creators:f.ui.creators,contributors:f.ui.contributors,canManage:v,description:f.metadata.description,fileTabIndex:p.findIndex((function(e){return"Files"===e.section})),hasFiles:f.files.enabled,previewTabIndex:p.findIndex((function(e){return e.subsections.map((function(e){return e.component_name})).includes("FilePreview")})),rights:f.ui.rights,showRecordManagementMenu:v&&(!e.isPreview||e.isPreviewSubmissionRequest),setActivePreviewFile:l,setActiveTab:m,title:f.metadata.title},g=pt(pt({},e),b);return console.log("DetailContent",g),a.createElement(c.default,(0,r.A)({id:"InvenioModularDetailPage.DetailContent.layout"},e),a.createElement("div",{className:"two column row top-padded"},a.createElement("article",{className:"sixteen wide tablet eleven wide computer column main-record-content"},a.createElement(rt,{backPage:g.backPage,isPreview:g.isPreview,isDraft:g.isDraft,canManage:g.canManage,currentUserId:g.currentUserId,isPreviewSubmissionRequest:g.isPreviewSubmissionRequest,show:"mobile tablet only"}),a.createElement(lt,{isLatest:g.record.versions.is_latest,isPublished:g.record.is_published,latestHtml:g.record.links.latest_html,show:"mobile tablet only"}),a.createElement(V,{community:g.community,isPreviewSubmissionRequest:g.isPreviewSubmissionRequest,show:"mobile tablet only"}),e.mainSections.map((function(e){var t,n=e.section,o=e.component_name,c=e.subsections,s=e.props,u=e.show,f="DetailMainTabs"===o?re:Qe[o];return t=pt(pt({},t="DetailMainTabs"===o?g:(s=h(c,s))&&s.length?E(g,s):{}),{},{activePreviewFile:i,activeTab:d,setActivePreviewFile:l,setActiveTab:m,section:n,show:u,tabbedSections:p,subsections:c}),a.createElement(f,(0,r.A)({},t,{key:n}))}))),a.createElement(st,(0,r.A)({activeTab:d,activePreviewFile:i},g)),a.createElement(ut,(0,r.A)({activeTab:d,activePreviewFile:i},g))," ",a.createElement(dt,{canManage:g.canManage,citationStyleDefault:g.citationStyleDefault,citationStyles:g.citationStyles,defaultPreviewFile:g.defaultPreviewFile,files:g.files,fileCountToShow:g.fileCountToShow,fileTabIndex:g.fileTabIndex,isPreview:g.isPreview,isDraft:g.isDraft,isPreviewSubmissionRequest:g.isPreviewSubmissionRequest,permissions:g.permissions,previewFileUrl:g.previewFileUrl,record:g.record,recordExporters:g.recordExporters,setActiveTab:g.setActiveTab,totalFileSize:g.totalFileSize})))},vt=document.getElementById("detail-main-content");i.render(a.createElement(ft,{backPage:vt.dataset.backPage,community:JSON.parse(vt.dataset.community),citationStyles:JSON.parse(vt.dataset.citationStyles),citationStyleDefault:vt.dataset.citationStyleDefault,currentUserId:vt.dataset.currentUserId,customFieldsUi:JSON.parse(vt.dataset.customFieldsUi),doiBadgeUrl:vt.dataset.doiBadgeUrl,externalResources:JSON.parse(vt.dataset.externalResources),files:JSON.parse(vt.dataset.files),isDraft:JSON.parse(vt.dataset.isDraft),isPreview:JSON.parse(vt.dataset.isPreview),hasPreviewableFiles:"true"===JSON.parse(vt.dataset.hasPreviewableFiles),iconsRor:vt.dataset.iconsRor,iconsOrcid:vt.dataset.iconsOrcid,iconsGnd:vt.dataset.iconsGnd,iconsHcUsername:vt.dataset.iconsHcUsername,iconsIsni:vt.dataset.iconsIsni,identifierSchemes:JSON.parse(vt.dataset.identifierSchemes),isPreviewSubmissionRequest:JSON.parse(vt.dataset.isPreviewSubmissionRequest),landingUrls:JSON.parse(vt.dataset.landingUrls),localizedStats:JSON.parse(vt.dataset.localizedStats),mainSections:JSON.parse(vt.dataset.mainSections),permissions:JSON.parse(vt.dataset.permissions),defaultPreviewFile:JSON.parse(vt.dataset.defaultPreviewFile),previewFileUrl:vt.dataset.previewFileUrl,record:JSON.parse(vt.dataset.record),recordExporters:JSON.parse(vt.dataset.recordExporters),showDecimalSizes:JSON.parse(vt.dataset.showDecimalSizes),showRecordManagementMenu:JSON.parse(vt.dataset.showRecordManagementMenu),sidebarSectionsLeft:JSON.parse(vt.dataset.sidebarSectionsLeft),sidebarSectionsRight:JSON.parse(vt.dataset.sidebarSectionsRight),totalFileSize:vt.dataset.totalFileSize}),vt)},84684:(e,t,n)=>{var a=n(69302),i=n(75288),r=n(36800),l=n(37241),o=Object.prototype,c=o.hasOwnProperty,s=a((function(e,t){e=Object(e);var n=-1,a=t.length,s=a>2?t[2]:void 0;for(s&&r(t[0],t[1],s)&&(a=1);++n<a;)for(var u=t[n],d=l(u),m=-1,p=d.length;++m<p;){var f=d[m],v=e[f];(void 0===v||i(v,o[f])&&!c.call(e,f))&&(e[f]=u[f])}return e}));e.exports=s},2404:(e,t,n)=>{var a=n(60270);e.exports=function(e,t){return a(e,t)}},75866:e=>{var t=Array.prototype.join;e.exports=function(e,n){return null==e?"":t.call(e,n)}},99786:(e,t,n)=>{var a=n(83120),i=n(15389),r=n(69302),l=n(55765),o=n(83693),c=n(68090),s=r((function(e){var t=c(e);return o(t)&&(t=void 0),l(a(e,1,o,!0),i(t,2))}));e.exports=s},52230:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var a=n(96540),i=n(65414);function r(e){var t=e.i18n,n=e.defaultNS,r=e.children,l=(0,a.useMemo)((function(){return{i18n:t,defaultNS:n}}),[t,n]);return(0,a.createElement)(i.gJ.Provider,{value:l},r)}},45458:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(43145);var i=n(27800);function r(e){return function(e){if(Array.isArray(e))return(0,a.A)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},e=>{e.O(0,[402,1057,7655,5373,6267,9777,5941,7501,4218,9809,8102,742,6528,3532],(()=>{return t=15794,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=invenio-modular-detail-page.212feeee440bb8f0be24.js.map