{"version":3,"file":"js/invenio-communities-search-custom.6313c5be1f936638e03e.js","mappings":"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","sources":["webpack://invenio-assets/./js/collections/community/communitiesCarousel/CarouselItem.js","webpack://invenio-assets/./js/collections/community/communitiesCarousel/CommunitiesCarousel.js","webpack://invenio-assets/./js/collections/community/featuredCommunities/FeaturedCommunities.js","webpack://invenio-assets/./js/collections/community/featuredCommunities/FeaturedCommunity.js","webpack://invenio-assets/./js/collections/community/communitiesItems/CommunityCompactItemComputer.js","webpack://invenio-assets/./js/collections/community/communitiesItems/CommunityCompactItemMobile.js","webpack://invenio-assets/./js/collections/community/communitiesItems/CommunityCompactItem.js","webpack://invenio-assets/./js/collections/community/search.js"],"sourcesContent":["/*\n * This file is part of Invenio.\n * Copyright (C) 2016-2022 CERN.\n *\n * Invenio is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { i18next } from \"@translations/invenio_communities/i18next\";\nimport _truncate from \"lodash/truncate\";\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { Image } from \"react-invenio-forms\";\nimport Overridable from \"react-overridable\";\nimport { Button, Grid, Header, Item } from \"semantic-ui-react\";\nimport GeoPattern from \"geopattern\";\n\nclass CarouselItem extends Component {\n  render() {\n    const { community, defaultLogo, className, showUploadBtn } = this.props;\n    const self_link = community.links.self_html.replace(\"communities\", \"collections\");\n\n    const pattern = GeoPattern.generate(community.slug);\n\n    return (\n      <Overridable\n        id=\"InvenioCommunities.CarouselItem.layout\"\n        community={community}\n        defaultLogo={defaultLogo}\n        className={className}\n      >\n        <Item\n          className={`carousel flex align-items-center ${className}`}\n          key={community.id}\n        >\n          <Image size=\"small\" src={community.links.logo} fallbackSrc={pattern.toDataUri()} />\n          <Item.Content>\n            <Item.Header as={Grid} stackable className=\"rel-pb-1\">\n              <Grid.Column computer=\"10\" tablet=\"16\" className=\"pl-0 pb-0\">\n                <Header as=\"a\" size=\"medium\" href={self_link}>\n                  {community.metadata.title}\n                </Header>\n              </Grid.Column>\n              <Grid.Column computer=\"6\" tablet=\"16\" className=\"buttons pl-0 pb-0\">\n                <Button\n                  size=\"mini\"\n                  href={self_link}\n                  content={i18next.t(\"Browse\")}\n                  className=\"browse-btn\"\n                />\n                {showUploadBtn && (\n                  <Button\n                    size=\"mini\"\n                    // icon=\"upload\"\n                    // labelPosition=\"left\"\n                    positive\n                    href={`/uploads/new?community=${community.slug}`}\n                    content={i18next.t(\"Contribute\")}\n                    className=\"contribute-btn\"\n                  />\n                )}\n              </Grid.Column>\n            </Item.Header>\n            <Item.Description\n              content={_truncate(community.metadata.description, { length: 300 })}\n            />\n          </Item.Content>\n        </Item>\n      </Overridable>\n    );\n  }\n}\n\nCarouselItem.propTypes = {\n  community: PropTypes.object.isRequired,\n  defaultLogo: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  showUploadBtn: PropTypes.bool,\n};\n\nCarouselItem.defaultProps = {\n  className: \"\",\n  showUploadBtn: true,\n};\n\nexport default Overridable.component(\"InvenioCommunities.CarouselItem\", CarouselItem);\n","/*\n * This file is part of Invenio.\n * Copyright (C) 2016-2022 CERN.\n *\n * Invenio is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { i18next } from \"@translations/invenio_communities/i18next\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { http, withCancel } from \"react-invenio-forms\";\nimport Overridable from \"react-overridable\";\nimport {\n  Container,\n  Grid,\n  Header,\n  Icon,\n  Item,\n  Placeholder,\n  Transition,\n} from \"semantic-ui-react\";\nimport CarouselItem from \"./CarouselItem\";\n\nclass CommunitiesCarousel extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: { hits: [] },\n      activeIndex: 0,\n      animationDirection: \"left\",\n      carouselTimer: null,\n      isLoading: true,\n    };\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentWillUnmount() {\n    this.cancellableFetch && this.cancellableFetch.cancel();\n    this.stopCarousel();\n  }\n\n  getDataIndex = (index) => {\n    const { itemsPerPage } = this.props;\n    const {\n      data: { hits },\n    } = this.state;\n    const i = index * parseInt(itemsPerPage);\n    if (i > hits.length - 1) return 0;\n    if (i < 0) return hits.length - 1;\n    return i;\n  };\n\n  runCarousel = async (newIndex) => {\n    const { activeIndex } = this.state;\n    let animationDirection = newIndex < activeIndex ? \"right\" : \"left\";\n    await this.setState({ animationDirection });\n    this.setState({ activeIndex: this.getDataIndex(newIndex) });\n  };\n\n  setCarouselTimer = () => {\n    const {\n      data: { hits: length },\n      activeIndex,\n    } = this.state;\n    const { intervalDelay } = this.props;\n    this.setState({\n      carouselTimer: setInterval(() => {\n        length && this.runCarousel(activeIndex + 1);\n      }, intervalDelay),\n    });\n  };\n\n  // Pause carousel when user focuses elements in the container\n  stopCarousel = () => {\n    const { carouselTimer } = this.state;\n    clearInterval(carouselTimer);\n  };\n  startCarousel = () => {\n    this.setCarouselTimer();\n  };\n\n  fetchData = async () => {\n    const { fetchUrl } = this.props;\n    this.cancellableFetch = withCancel(http.get(fetchUrl));\n    try {\n      const response = await this.cancellableFetch.promise;\n      this.setState({ data: response.data.hits });\n      this.setCarouselTimer();\n      this.setState({ isLoading: false });\n    } catch (error) {\n      console.error(error);\n      this.setState({ isLoading: false });\n    }\n  };\n\n  renderPlaceholder = () => {\n    const { title } = this.props;\n    return (\n      <Container fluid className=\"rel-pt-2 rel-pb-2 ml-0-mobile mr-0-mobile\">\n        <Grid container className=\"carousel-header-container\">\n          <Grid.Column width=\"2\" />\n          <Grid.Column width=\"12\">\n          <Header as=\"h2\" className=\"rel-mb-1\">\n            {title}\n          </Header>\n          </Grid.Column>\n          <Grid.Column width=\"2\" />\n        </Grid>\n        <Grid container className=\"carousel-items-container\">\n          <Grid.Column width=\"2\" />\n          <Grid.Column width=\"12\">\n            <Item.Group>\n              <Item>\n                <Item.Image>\n                  <Placeholder>\n                    <Placeholder.Image square />\n                  </Placeholder>\n                </Item.Image>\n\n                <Item.Content>\n                  <Item.Header className=\"mt-5 rel-mb-2\">\n                    <Placeholder>\n                      <Placeholder.Header>\n                        <Placeholder.Line />\n                      </Placeholder.Header>\n                    </Placeholder>\n                  </Item.Header>\n\n                  <Item.Description>\n                    <Placeholder>\n                      <Placeholder.Paragraph>\n                        <Placeholder.Line />\n                        <Placeholder.Line />\n                        <Placeholder.Line />\n                      </Placeholder.Paragraph>\n                    </Placeholder>\n                  </Item.Description>\n                </Item.Content>\n              </Item>\n            </Item.Group>\n          </Grid.Column>\n          <Grid.Column width=\"2\" />\n        </Grid>\n      </Container>\n    );\n  };\n\n  carouselSlides = () => {\n    const { data, activeIndex } = this.state;\n    const { defaultLogo, itemsPerPage, showUploadBtn } = this.props;\n\n    const sliceEnd = parseInt(activeIndex) + parseInt(itemsPerPage);\n\n    const carouselSlides = data.hits\n      ?.slice(activeIndex, sliceEnd)\n      .map((community) => (\n        <CarouselItem\n          community={community}\n          defaultLogo={defaultLogo}\n          key={community.id}\n          showUploadBtn={showUploadBtn}\n        />\n      ));\n\n    return carouselSlides;\n  };\n\n  render() {\n    const { data, animationDirection, activeIndex, isLoading } = this.state;\n    const { title, animationSpeed, itemsPerPage } = this.props;\n\n    return (\n      <Overridable\n        id=\"InvenioCommunities.CommunitiesCarousel.layout\"\n        data={data}\n        animationDirection={animationDirection}\n        activeIndex={activeIndex}\n        title={title}\n        animationSpeed={animationSpeed}\n        carouselSlides={this.carouselSlides()}\n        stopCarousel={this.stopCarousel}\n        startCarousel={this.startCarousel}\n        runCarousel={this.runCarousel}\n        itemsPerPage={itemsPerPage}\n      >\n        <>\n          {isLoading && this.renderPlaceholder()}\n\n          {!isLoading && !_isEmpty(data.hits) && (\n            <Container\n              fluid\n              className=\"carousel rel-pt-2 rel-pb-2 ml-0-mobile mr-0-mobile\"\n            >\n              <Grid container className=\"rel-mb-0\">\n                <Grid.Column width=\"2\" />\n                <Grid.Column width=\"12\">\n                <Header as=\"h2\">{title}</Header>\n                </Grid.Column>\n                <Grid.Column width=\"2\" />\n              </Grid>\n\n              <Grid container onFocus={this.stopCarousel} onBlur={this.startCarousel}>\n                <Grid.Column\n                  width=\"2\"\n                  className=\"pr-0\"\n                  verticalAlign=\"middle\"\n                  textAlign=\"left\"\n                >\n                  <Icon\n                    className=\"carousel-arrow\"\n                    inverted\n                    role=\"button\"\n                    name=\"angle left\"\n                    size=\"huge\"\n                    aria-label={i18next.t(\"Previous slide\")}\n                    onClick={() => this.runCarousel(activeIndex - 1)}\n                    onKeyDown={(event) =>\n                      event.key === \"Enter\" && this.runCarousel(activeIndex - 1)\n                    }\n                    tabIndex=\"0\"\n                  />\n                </Grid.Column>\n                <Grid.Column width=\"12\">\n                  <Transition.Group\n                    as={Item.Group}\n                    className=\"flex align-items-center justify-center\"\n                    duration={animationSpeed}\n                    animation={`carousel-slide ${animationDirection}`}\n                    directional\n                  >\n                    {this.carouselSlides()}\n                  </Transition.Group>\n                </Grid.Column>\n\n                <Grid.Column\n                  width=\"2\"\n                  className=\"pl-0\"\n                  verticalAlign=\"middle\"\n                  textAlign=\"right\"\n                >\n                  <Icon\n                    className=\"carousel-arrow\"\n                    inverted\n                    role=\"button\"\n                    name=\"angle right\"\n                    size=\"huge\"\n                    aria-label={i18next.t(\"Next slide\")}\n                    onClick={() => this.runCarousel(activeIndex + 1)}\n                    onKeyDown={(event) =>\n                      event.key === \"Enter\" && this.runCarousel(activeIndex + 1)\n                    }\n                    tabIndex=\"0\"\n                  />\n                </Grid.Column>\n              </Grid>\n            </Container>\n          )}\n        </>\n      </Overridable>\n    );\n  }\n}\n\nCommunitiesCarousel.propTypes = {\n  title: PropTypes.string.isRequired,\n  fetchUrl: PropTypes.string.isRequired,\n  intervalDelay: PropTypes.number.isRequired,\n  animationSpeed: PropTypes.number.isRequired,\n  defaultLogo: PropTypes.string.isRequired,\n  itemsPerPage: PropTypes.string.isRequired,\n  showUploadBtn: PropTypes.bool,\n};\n\nCommunitiesCarousel.defaultProps = {\n  showUploadBtn: true,\n};\n\nexport default Overridable.component(\n  \"InvenioCommunities.CommunitiesCarousel\",\n  CommunitiesCarousel\n);\n","import React, { Component } from \"react\";\nimport { withCancel } from \"react-invenio-forms\";\nimport { http } from \"react-invenio-forms\";\nimport { Grid, Message, Container, Loader } from \"semantic-ui-react\";\nimport FeaturedCommunity from \"./FeaturedCommunity\";\nimport PropTypes from \"prop-types\";\nimport { i18next } from \"@translations/invenio_communities/i18next\";\n\nexport default class FeaturedCommunities extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: undefined,\n      error: undefined,\n      isLoading: false,\n    };\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentWillUnmount() {\n    this.cancellableFetch && this.cancellableFetch.cancel();\n  }\n\n  fetchData = async () => {\n    this.setState({ isLoading: true });\n\n    this.cancellableFetch = withCancel(http.get(\"/api/communities/featured\"));\n\n    try {\n      const response = await this.cancellableFetch.promise;\n      this.setState({ data: response.data.hits, isLoading: false });\n    } catch (error) {\n      let errorMessage = error.message;\n      if (error.response) {\n        errorMessage = error.response.data.message;\n      }\n      this.setState({\n        error: errorMessage,\n        isLoading: false,\n      });\n    }\n  };\n\n  render() {\n    const { data, error, isLoading } = this.state;\n    const {\n      columnNumber,\n      widescreenColumnWidth,\n      mobileColumnWidth,\n      tabletColumnWidth,\n      computerColumnWidth,\n    } = this.props;\n    return isLoading ? (\n      <Loader active inline=\"centered\" />\n    ) : error ? (\n      <Container>\n        <Message negative>\n          <Message.Header>{i18next.t(\"An error occurred.\")}</Message.Header>\n          <p>{error}</p>\n        </Message>\n      </Container>\n    ) : data?.hits ? (\n      <Grid className=\"featured-communities\" columns={columnNumber} centered>\n        {data.hits.map((hit) => (\n          <FeaturedCommunity\n            key={hit.id}\n            community={hit}\n            mobileColumnWidth={mobileColumnWidth}\n            tabletColumnWidth={tabletColumnWidth}\n            computerColumnWidth={computerColumnWidth}\n            widescreenColumnWidth={widescreenColumnWidth}\n          />\n        ))}\n      </Grid>\n    ) : (\n      \"\"\n    );\n  }\n}\n\nFeaturedCommunities.propTypes = {\n  columnNumber: PropTypes.string.isRequired,\n  mobileColumnWidth: PropTypes.string.isRequired,\n  tabletColumnWidth: PropTypes.string.isRequired,\n  computerColumnWidth: PropTypes.string.isRequired,\n  widescreenColumnWidth: PropTypes.string.isRequired,\n};\n","import React, { Component } from \"react\";\nimport { Grid, Segment, Header } from \"semantic-ui-react\";\nimport PropTypes from \"prop-types\";\nimport { Image } from \"react-invenio-forms\";\nimport GeoPattern from \"geopattern\";\n\nexport default class FeaturedCommunity extends Component {\n  render() {\n    const {\n      computerColumnWidth,\n      mobileColumnWidth,\n      tabletColumnWidth,\n      widescreenColumnWidth,\n      community,\n    } = this.props;\n\n    const self_link = community.links.self_html.replace(\n      \"communities\",\n      \"collections\"\n    );\n\n    const pattern = GeoPattern.generate(community.slug);\n\n    return (\n      <Grid.Column\n        mobile={mobileColumnWidth}\n        tablet={tabletColumnWidth}\n        widescreen={widescreenColumnWidth}\n        computer={computerColumnWidth}\n        textAlign=\"center\"\n      >\n        <Segment compact className=\"m-auto\">\n          <a href={self_link}>\n            <div className=\"featured-community\">\n              <Image\n                className=\"m-auto\"\n                src={community.links.logo}\n                fallbackSrc={pattern.toDataUri()}\n              />\n              <Header as=\"h3\">{community.metadata.title}</Header>\n            </div>\n          </a>\n        </Segment>\n      </Grid.Column>\n    );\n  }\n}\n\nFeaturedCommunity.propTypes = {\n  computerColumnWidth: PropTypes.number.isRequired,\n  mobileColumnWidth: PropTypes.number.isRequired,\n  tabletColumnWidth: PropTypes.number.isRequired,\n  widescreenColumnWidth: PropTypes.number.isRequired,\n  community: PropTypes.object.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2023 CERN.\n//\n// InvenioRDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport _truncate from \"lodash/truncate\";\n\nimport { Image, InvenioPopup } from \"react-invenio-forms\";\nimport { Icon, Label, Item } from \"semantic-ui-react\";\nimport { CommunityTypeLabel, RestrictedLabel } from \"../labels\";\nimport GeoPattern from \"geopattern\";\n\nexport const CommunityCompactItemComputer = ({\n  result,\n  actions,\n  extraLabels,\n  itemClassName,\n  showPermissionLabel,\n  detailUrl,\n  isCommunityDefault,\n}) => {\n  const { metadata, ui, links, access, id } = result;\n  const communityType = ui?.type?.title_l10n;\n\n  const pattern = GeoPattern.generate(result.slug);\n\n  return (\n    <Item\n      key={id}\n      className={`community-item tablet computer only display-grid auto-column-grid no-wrap ${itemClassName}`}\n    >\n      <div className=\"flex align-items-center\">\n        <Image\n          wrapped\n          size=\"tiny\"\n          src={links.logo}\n          alt=\"\"\n          className=\"community-image rel-mr-2\"\n          fallbackSrc={pattern.toDataUri()}\n        />\n        <div>\n          <div className=\"flex align-items-center rel-mb-1\">\n            <a\n              href={(detailUrl || links.self_html).replace('communities', 'collections')}\n              className=\"ui small header truncate-lines-2 m-0 mr-5\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              aria-label={`${metadata.title} (${i18next.t(\"opens in new tab\")})`}\n            >\n              {metadata.title}\n            </a>\n            <i className=\"small icon external primary\" aria-hidden=\"true\" />\n          </div>\n          {metadata.description && (\n            <p className=\"truncate-lines-1 text size small text-muted mt-5 rel-mb-1\">\n              {_truncate(metadata.description, { length: 50 })}\n            </p>\n          )}\n\n          <div className=\"rel-mt-1\">\n            {(result.access.visibility === \"restricted\" ||\n              communityType ||\n              extraLabels) && (\n              <>\n                <RestrictedLabel access={access.visibility} />\n                <CommunityTypeLabel type={communityType} />\n                {extraLabels}\n              </>\n            )}\n            {isCommunityDefault && (\n              <Label color=\"purple\" size=\"tiny\">\n                <Icon name=\"paint brush\" />\n                {i18next.t(\"Branding\")}\n              </Label>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex align-items-center justify-end\">\n        {showPermissionLabel && (\n          <span className=\"rel-mr-1\">\n            {ui?.permissions?.can_include_directly && (\n              <InvenioPopup\n                popupId=\"direct-publish-info-popup\"\n                size=\"small\"\n                trigger={<Icon name=\"paper plane outline neutral\" size=\"large\" />}\n                ariaLabel={i18next.t(\"Submission information\")}\n                content={i18next.t(\n                  \"Submission to this community does not require review, and will be published immediately.\"\n                )}\n              />\n            )}\n          </span>\n        )}\n        {actions}\n      </div>\n    </Item>\n  );\n};\n\nCommunityCompactItemComputer.propTypes = {\n  result: PropTypes.object.isRequired,\n  actions: PropTypes.node,\n  extraLabels: PropTypes.node,\n  itemClassName: PropTypes.string,\n  showPermissionLabel: PropTypes.bool,\n  detailUrl: PropTypes.string,\n  isCommunityDefault: PropTypes.bool.isRequired,\n};\n\nCommunityCompactItemComputer.defaultProps = {\n  actions: undefined,\n  extraLabels: undefined,\n  itemClassName: \"\",\n  showPermissionLabel: false,\n  detailUrl: undefined,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2022 CERN.\n//\n// Invenio App RDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { CommunityTypeLabel } from \"../labels\";\nimport { RestrictedLabel } from \"../labels\";\nimport _truncate from \"lodash/truncate\";\nimport React from \"react\";\nimport { Image, InvenioPopup } from \"react-invenio-forms\";\nimport { Icon, Label } from \"semantic-ui-react\";\nimport PropTypes from \"prop-types\";\nimport GeoPattern from \"geopattern\";\n\nexport const CommunityCompactItemMobile = ({\n  result,\n  actions,\n  extraLabels,\n  itemClassName,\n  showPermissionLabel,\n  detailUrl,\n  isCommunityDefault,\n}) => {\n  const communityType = result.ui?.type?.title_l10n;\n  const { metadata, ui, links, access, id } = result;\n\n  const pattern = GeoPattern.generate(result.slug);\n\n  return (\n    <div key={id} className={`community-item mobile only ${itemClassName}`}>\n      <div className=\"display-grid auto-column-grid no-wrap\">\n        <div className=\"flex align-items-center\">\n          <Image\n            wrapped\n            size=\"mini\"\n            src={links.logo}\n            alt=\"\"\n            className=\"community-image rel-mr-1\"\n            fallbackSrc={pattern.toDataUri()}\n          />\n\n          <div className=\"flex align-items-center rel-mb-1\">\n            <a\n              href={detailUrl || links.self_html.replace('communities', 'collections')}\n              className=\"ui small header truncate-lines-2 m-0 mr-5\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              aria-label={`${metadata.title} (${i18next.t(\"opens in new tab\")})`}\n            >\n              {metadata.title}\n            </a>\n            <i className=\"small icon external primary\" aria-hidden=\"true\" />\n          </div>\n        </div>\n\n        <div className=\"flex align-items-center justify-end\">\n          {showPermissionLabel && (\n            <span className=\"rel-mr-1\">\n              {ui?.permissions?.can_include_directly && (\n                <InvenioPopup\n                  popupId=\"direct-publish-info-popup\"\n                  size=\"small\"\n                  trigger={<Icon name=\"paper plane outline neutral\" size=\"large\" />}\n                  ariaLabel={i18next.t(\"Submission information\")}\n                  content={i18next.t(\n                    \"Submission to this community does not require review, and will be published immediately.\"\n                  )}\n                />\n              )}\n            </span>\n          )}\n          {actions}\n        </div>\n      </div>\n\n      <div className=\"full-width\">\n        {metadata.description && (\n          <p className=\"truncate-lines-1 text size small text-muted mt-5 rel-mb-1\">\n            {_truncate(metadata.description, { length: 50 })}\n          </p>\n        )}\n\n        <div className=\"rel-mt-1\">\n          {(result.access.visibility === \"restricted\" ||\n            communityType ||\n            extraLabels) && (\n            <>\n              <RestrictedLabel access={access.visibility} />\n              <CommunityTypeLabel type={communityType} />\n              {extraLabels}\n            </>\n          )}\n          {isCommunityDefault && (\n            <Label color=\"purple\" size=\"tiny\">\n              <Icon name=\"paint brush\" />\n              {i18next.t(\"Branding\")}\n            </Label>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nCommunityCompactItemMobile.propTypes = {\n  result: PropTypes.object.isRequired,\n  extraLabels: PropTypes.node,\n  itemClassName: PropTypes.string,\n  showPermissionLabel: PropTypes.bool,\n  actions: PropTypes.node,\n  detailUrl: PropTypes.string,\n  isCommunityDefault: PropTypes.bool.isRequired,\n};\n\nCommunityCompactItemMobile.defaultProps = {\n  actions: undefined,\n  extraLabels: undefined,\n  itemClassName: \"\",\n  showPermissionLabel: false,\n  detailUrl: undefined,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { CommunityCompactItemComputer } from \"./CommunityCompactItemComputer\";\nimport { CommunityCompactItemMobile } from \"./CommunityCompactItemMobile\";\n\nexport function CommunityCompactItem({\n  result,\n  actions,\n  extraLabels,\n  itemClassName,\n  showPermissionLabel,\n  detailUrl,\n  isCommunityDefault,\n}) {\n  return (\n    <>\n      <CommunityCompactItemComputer\n        result={result}\n        actions={actions}\n        extraLabels={extraLabels}\n        itemClassName={itemClassName}\n        showPermissionLabel={showPermissionLabel}\n        detailUrl={detailUrl}\n        isCommunityDefault={isCommunityDefault}\n      />\n      <CommunityCompactItemMobile\n        result={result}\n        actions={actions}\n        extraLabels={extraLabels}\n        itemClassName={itemClassName}\n        showPermissionLabel={showPermissionLabel}\n        detailUrl={detailUrl}\n        isCommunityDefault={isCommunityDefault}\n      />\n    </>\n  );\n}\n\nCommunityCompactItem.propTypes = {\n  result: PropTypes.object.isRequired,\n  actions: PropTypes.node,\n  extraLabels: PropTypes.node,\n  itemClassName: PropTypes.string,\n  showPermissionLabel: PropTypes.bool,\n  detailUrl: PropTypes.string,\n  isCommunityDefault: PropTypes.bool.isRequired,\n};\n\nCommunityCompactItem.defaultProps = {\n  actions: undefined,\n  extraLabels: undefined,\n  itemClassName: \"\",\n  showPermissionLabel: false,\n  detailUrl: undefined,\n};\n","/*\n * This file is part of Invenio.\n * Copyright (C) 2016-2021 CERN.\n *\n * Invenio is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { createSearchAppInit } from \"@js/invenio_search_ui\";\nimport {\n  ContribBucketAggregationElement,\n  ContribBucketAggregationValuesElement,\n  ContribSearchAppFacets,\n} from \"@js/invenio_search_ui/components\";\nimport { overrideStore, parametrize } from \"react-overridable\";\nimport {\n  CommunitiesResults,\n  CommunitiesSearchBarElement,\n  CommunitiesSearchLayout,\n  CommunityItem,\n  ResultsGridItemTemplate,\n} from \"./\";\n\nconst appName = \"InvenioCommunities.Search\";\n\nconst ContribSearchAppFacetsWithConfig = parametrize(ContribSearchAppFacets, {\n  help: false,\n});\n\nconst CommunitiesSearchLayoutConfig = parametrize(CommunitiesSearchLayout, {\n  appName: appName,\n});\n\nexport const defaultComponents = {\n  [`${appName}.BucketAggregation.element`]: ContribBucketAggregationElement,\n  [`${appName}.BucketAggregationValues.element`]: ContribBucketAggregationValuesElement,\n  [`${appName}.SearchApp.facets`]: ContribSearchAppFacetsWithConfig,\n  [`${appName}.ResultsList.item`]: CommunityItem,\n  [`${appName}.ResultsGrid.item`]: ResultsGridItemTemplate,\n  [`${appName}.SearchApp.layout`]: CommunitiesSearchLayoutConfig,\n  [`${appName}.SearchBar.element`]: CommunitiesSearchBarElement,\n  [`${appName}.SearchApp.results`]: CommunitiesResults,\n};\n\nconst overriddenComponents = overrideStore.getAll();\n\n// Auto-initialize search app\ncreateSearchAppInit(\n  { ...defaultComponents, ...overriddenComponents },\n  true,\n  \"invenio-search-config\",\n  true\n);\n"],"names":["CarouselItem","_Component","_classCallCheck","_callSuper","arguments","_inherits","_createClass","key","value","_this$props","this","props","community","defaultLogo","className","showUploadBtn","self_link","links","self_html","replace","pattern","GeoPattern","slug","React","Overridable","id","Item","concat","Image","size","src","logo","fallbackSrc","toDataUri","Content","Header","as","Grid","stackable","Column","computer","tablet","href","metadata","title","Button","content","i18next","t","positive","Description","_truncate","description","length","Component","propTypes","PropTypes","isRequired","defaultProps","component","CommunitiesCarousel","_this","_defineProperty","index","itemsPerPage","hits","state","data","i","parseInt","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","newIndex","activeIndex","animationDirection","_context","prev","next","setState","getDataIndex","stop","_x","apply","_this$state","intervalDelay","carouselTimer","setInterval","runCarousel","clearInterval","setCarouselTimer","_callee2","fetchUrl","response","_context2","cancellableFetch","withCancel","http","get","promise","sent","isLoading","t0","console","error","Container","fluid","container","width","Group","Placeholder","square","Line","Paragraph","_data$hits","_this$state2","sliceEnd","slice","map","fetchData","cancel","stopCarousel","_this2","_this$state3","_this$props2","animationSpeed","carouselSlides","startCarousel","renderPlaceholder","_isEmpty","onFocus","onBlur","verticalAlign","textAlign","Icon","inverted","role","name","onClick","onKeyDown","event","tabIndex","Transition","duration","animation","directional","FeaturedCommunities","errorMessage","message","undefined","columnNumber","widescreenColumnWidth","mobileColumnWidth","tabletColumnWidth","computerColumnWidth","Loader","active","inline","Message","negative","columns","centered","hit","FeaturedCommunity","mobile","widescreen","Segment","compact","CommunityCompactItemComputer","_ui$type","_ui$permissions","result","actions","extraLabels","itemClassName","showPermissionLabel","detailUrl","isCommunityDefault","ui","access","communityType","type","title_l10n","wrapped","alt","target","rel","visibility","RestrictedLabel","CommunityTypeLabel","Label","color","permissions","can_include_directly","InvenioPopup","popupId","trigger","ariaLabel","CommunityCompactItemMobile","_result$ui","CommunityCompactItem","appName","ContribSearchAppFacetsWithConfig","parametrize","ContribSearchAppFacets","help","CommunitiesSearchLayoutConfig","CommunitiesSearchLayout","defaultComponents","ContribBucketAggregationElement","ContribBucketAggregationValuesElement","CommunityItem","ResultsGridItemTemplate","CommunitiesSearchBarElement","CommunitiesResults","overriddenComponents","overrideStore","getAll","createSearchAppInit","_objectSpread"],"sourceRoot":""}