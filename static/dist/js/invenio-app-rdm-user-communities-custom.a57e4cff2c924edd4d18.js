"use strict";(self.webpackChunkinvenio_assets=self.webpackChunkinvenio_assets||[]).push([[4671],{38992:(e,t,r)=>{r.d(t,{$:()=>s,h:()=>i});var n=r(58156),a=r.n(n),l=r(96540),c=r(70742),o=r(91272);function i(e){var t=e.creators,r=e.className,n=e.othersLink,o="creatibutor-wrap separated";function i(e){var t=a()(e,"person_or_org.identifiers",[]),r=a()(e,"person_or_org.name","No name");return t.map((function(e){return function(e,t,r){var n=null,a=null,o=null,i="";switch(e){case"orcid":n="https://orcid.org/".concat(t),a=c.M.t("ORCID profile"),o="/static/images/orcid.svg",i="ORCID logo";break;case"ror":n="https://ror.org/".concat(t),a=c.M.t("ROR profile"),o="/static/images/ror-icon.svg",i="ROR logo";break;case"gnd":n="https://d-nb.info/gnd/".concat(t),a=c.M.t("GND profile"),o="/static/images/gnd-icon.svg",i="GND logo";break;default:return null}return l.createElement("a",{className:"no-text-decoration mr-0",href:n,"aria-label":"".concat(r,": ").concat(a),title:"".concat(r,": ").concat(a),key:e},l.createElement("img",{className:"inline-id-icon ml-5",src:o,alt:i}))}(e.scheme,e.identifier,r)}))}r&&(o+=" ".concat(r));var s,u=t.slice(0,3).map((function(e){return l.createElement("span",{className:o,key:e.person_or_org.name},function(e){var t=a()(e,"person_or_org.name","No name");return l.createElement("a",{className:"creatibutor-link",href:'/search?q=metadata.creators.person_or_org.name:"'.concat(t,'"'),title:"".concat(t,": ").concat(c.M.t("Search"))},l.createElement("span",{className:"creatibutor-name"},t))}(e),i(e))})),m=t.length-3;0<m&&(s=1===m?"and {{count}} other":"and {{count}} others",u.push(l.createElement("span",{className:o,key:s},l.createElement("a",{className:"creatibutor-link",href:n},l.createElement("span",{className:"creatibutor-name"},c.M.t(s,{count:m}))))));return u}var s=function(e){return o.DateTime.fromISO(e).setLocale(c.M.language).toRelative()}},91382:(e,t,r)=>{var n=r(64467),a=r(86763),l=r(70742),c=r(30612),o=r(41274),i=r(5905),s=r(58156),u=r.n(s),m=r(92516),p=r.n(m),d=r(96540),f=r(53196),g=r(98871),h=(r(83794),r(92257)),E=(r(50363),r(28085)),b=r(1489),y=r(27041),A=r(3487),v=r(76217),O=r(2685),R=(r(87395),r(23029)),w=r(92901),N=r(56822),S=r(53954),_=r(85501),j=r(38992),q=r(5556),k=r.n(q),P=r(23848),D=r(93682),C=function(e){var t=e.uniqueViews,r=e.uniqueDownloads;return d.createElement(d.Fragment,null,null!=t&&d.createElement(D.A,{size:"tiny",content:l.M.t("Views"),trigger:d.createElement(E.A,{className:"transparent"},d.createElement(v.A,{name:"eye"}),t)}),null!=r&&d.createElement(D.A,{size:"tiny",content:l.M.t("Downloads"),trigger:d.createElement(E.A,{className:"transparent"},d.createElement(v.A,{name:"download"}),r)}))};function M(e,t,r){return t=(0,S.A)(t),(0,N.A)(e,z()?Reflect.construct(t,r||[],(0,S.A)(e).constructor):t.apply(e,r))}function z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(z=function(){return!!e})()}C.propTypes={uniqueViews:k().number,uniqueDownloads:k().number},C.defaultProps={uniqueViews:null,uniqueDownloads:null};var x=function(e){function t(){return(0,R.A)(this,t),M(this,t,arguments)}return(0,_.A)(t,e),(0,w.A)(t,[{key:"render",value:function(){var e=this.props,t=e.currentQueryState,r=e.result,n=e.key,a=e.appName,c=u()(r,"ui.access_status.id","open"),o=u()(r,"ui.access_status.title_l10n","Open"),i=u()(r,"ui.access_status.icon","unlock"),s=u()(r,"ui.created_date_l10n_long","No creation date found."),m=r.ui.creators.creators,h=u()(r,"ui.description_stripped","No description"),b=u()(r,"ui.publication_date_l10n_long","No publication date found."),y=u()(r,"ui.resource_type.title_l10n","No resource type"),A=u()(r,"ui.subjects",[]),O=u()(r,"metadata.title","No title"),R=u()(r,"ui.version",null),w=u()(r,"versions"),N=u()(r,"stats.all_versions.unique_views",0),S=u()(r,"stats.all_versions.unique_downloads",0),_=u()(r,"ui.publishing_information.journal",""),q=t&&Object.fromEntries(t.filters),k=null===q||void 0===q?void 0:q.allversions,D=w.index-1,M="/records/".concat(r.id);return d.createElement(f.default,{id:(0,g.z_)("RecordsResultsListItem.layout","",a),result:r,key:n,accessStatusId:c,accessStatus:o,accessStatusIcon:i,createdDate:s,creators:m,descriptionStripped:h,publicationDate:b,resourceType:y,subjects:A,title:O,version:R,versions:w,allVersionsVisible:k,numOtherVersions:D},d.createElement(P.A,{key:null!==n&&void 0!==n?n:r.id},d.createElement(P.A.Content,null,d.createElement(P.A.Extra,{className:"labels-actions"},d.createElement(E.A,{horizontal:!0,size:"small",className:"primary"},b," (",R,")"),d.createElement(E.A,{horizontal:!0,size:"small",className:"neutral"},y),d.createElement(E.A,{horizontal:!0,size:"small",className:"access-status ".concat(c)},i&&d.createElement(v.A,{name:i}),o)),d.createElement(P.A.Header,{as:"h2"},d.createElement("a",{href:M},O)),d.createElement(P.A,{className:"creatibutors"},d.createElement(j.h,{creators:m,othersLink:M})),d.createElement(P.A.Description,null,p()(h,{length:350})),d.createElement(P.A.Extra,null,A.map((function(e){return d.createElement(E.A,{key:e.title_l10n,size:"tiny"},e.title_l10n)})),d.createElement("div",{className:"flex justify-space-between align-items-end"},d.createElement("small",null,d.createElement("p",null,s&&d.createElement(d.Fragment,null,l.M.t("Uploaded on {{uploadDate}}",{uploadDate:s})),s&&_&&" | ",_&&d.createElement(d.Fragment,null,l.M.t("Published in: {{publishInfo}}",{publishInfo:_}))),!k&&w.index>1&&d.createElement("p",null,d.createElement("b",null,l.M.t("{{count}} more versions exist for this record",{count:D})))),d.createElement("small",null,d.createElement(C,{uniqueViews:N,uniqueDownloads:S})))))))}}])}(d.Component);x.propTypes={currentQueryState:k().object,result:k().object.isRequired,key:k().string,appName:k().string},x.defaultProps={key:null,currentQueryState:null,appName:""};const I=f.default.component("RecordsResultsListItem",x);var Q=r(52822);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=(0,g.Q2)((function(e){var t=e.currentQueryState,r=e.result,n=e.appName;return d.createElement(I,{currentQueryState:t,result:r,appName:n})}));T.propTypes={currentQueryState:k().object,result:k().object.isRequired},T.defaultProps={currentQueryState:null};k().object.isRequired;k().string.isRequired;k().string.isRequired,k().func.isRequired;var L=(0,g.Q2)((function(e){var t=e.placeholder,r=e.queryString,n=e.onInputChange,a=e.updateQueryState,c=e.currentQueryState,o=t||l.M.t("Search"),i=function(){a(F(F({},c),{},{queryString:r}))};return d.createElement(h.A,{action:{icon:"search",onClick:function(){i()},className:"search","aria-label":l.M.t("Search")},fluid:!0,placeholder:o,"aria-label":o,onChange:function(e,t){var r=t.value;n(r)},value:r,onKeyPress:function(e){"Enter"===e.key&&i()}})}));k().string.isRequired,k().string.isRequired,k().array.isRequired,k().array.isRequired,k().func.isRequired;k().number.isRequired;var B=function(e){var t=e.queryString,r=e.searchPath,n=e.resetQuery;return d.createElement(b.A,null,d.createElement(b.A.Row,{centered:!0},d.createElement(b.A.Column,{width:12,textAlign:"center"},d.createElement(y.A,{as:"h2"},l.M.t("We couldn't find any matches for {{- search}}",{search:t&&"'".concat(t,"'")||"your search"})))),d.createElement(b.A.Row,{centered:!0},d.createElement(b.A.Column,{width:8,textAlign:"center"},d.createElement(A.A,{primary:!0,onClick:n},d.createElement(v.A,{name:"search"}),l.M.t("Start over")))),d.createElement(b.A.Row,{centered:!0},d.createElement(b.A.Column,{width:12},d.createElement(O.A,{secondary:!0,padded:!0,size:"large"},d.createElement(y.A,{as:"h3",size:"small"},l.M.t("ProTip"),"!"),d.createElement(Q.x,null,d.createElement("p",null,d.createElement("a",{href:"".concat(r,"?q=metadata.publication_date:[2017-01-01 TO *]")},"metadata.publication_date:[2017-01-01 TO *]")," ","will give you all the publications from 2017 until today.")),d.createElement(Q.x,null,d.createElement("p",null,"For more tips, check out our"," ",d.createElement("a",{href:"/help/search",title:l.M.t("Search guide")},"search guide")," ","for defining advanced search queries."))))))};B.propTypes={queryString:k().string.isRequired,resetQuery:k().func.isRequired,searchPath:k().string},B.defaultProps={searchPath:"/search"};k().object.isRequired;var G=r(80296),U=r(81057);function H(e){var t=e.sortOptions,r=e.paginationOptions,n=e.currentResultsState,a=e.appName,l=n.data.total;return l&&d.createElement(b.A,null,d.createElement(f.default,{id:(0,g.z_)("ResultView.resultList","",a),sortOptions:t,paginationOptions:r,currentResultsState:n,appName:a},d.createElement(b.A.Row,null,d.createElement(b.A.Column,null,d.createElement(g.dy,null)))),d.createElement(f.default,{id:(0,g.z_)("ResultView.resultFooter","",a),sortOptions:t,paginationOptions:r,currentResultsState:n,appName:a},d.createElement(i.xD,{total:l,paginationOptions:r})))}H.propTypes={sortOptions:k().array.isRequired,paginationOptions:k().object.isRequired,currentResultsState:k().object.isRequired,appName:k().string},H.defaultProps={appName:""};function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $="InvenioAppRdm.DashboardCommunities",J=function(e){var t=e.searchBarPlaceholder,r=void 0===t?"":t,n=e.appName,a=void 0===n?void 0:n,c=function(e){var t=d.useState(!1),n=(0,G.A)(t,2),c=n[0],o=n[1],s=e.config;return d.createElement(b.A,null,d.createElement(f.default,{id:(0,g.z_)("SearchLayout.searchHeader","",a),sortOptions:s.sortOptions,appName:a},d.createElement(d.Fragment,null,d.createElement(b.A.Row,{className:"mobile tablet only"},d.createElement(b.A.Column,{mobile:2,tablet:1,verticalAlign:"middle"},d.createElement(A.A,{basic:!0,icon:"sliders",onClick:function(){return o(!0)},"aria-label":l.M.t("Filter results")})),d.createElement(b.A.Column,{mobile:14,tablet:10,verticalAlign:"middle",floated:"right"},d.createElement(g.IW,{placeholder:r}))),d.createElement(b.A.Row,{className:"mobile tablet only"},d.createElement(b.A.Column,{width:16,textAlign:"right"},s.sortOptions&&d.createElement(g.FU,{values:s.sortOptions,label:function(e){return d.createElement(d.Fragment,null,d.createElement("label",{className:"mr-10"},l.M.t("Sort by")),e)}}))),d.createElement(b.A.Row,{className:"computer only"},d.createElement(b.A.Column,{width:8,floated:"right"},d.createElement(g.IW,{placeholder:r})),d.createElement(b.A.Column,{width:4,textAlign:"right"},s.sortOptions&&d.createElement(g.FU,{values:s.sortOptions,label:function(e){return d.createElement(d.Fragment,null,d.createElement("label",{className:"mr-10"},l.M.t("Sort by")),e)}}))))),d.createElement(b.A.Row,null,d.createElement(U.GridResponsiveSidebarColumn,{width:4,open:c,onHideClick:function(){return o(!1)}},d.createElement(i.gf,{aggs:s.aggs,appName:a})),d.createElement(b.A.Column,{mobile:16,tablet:16,computer:12},d.createElement(i.s9,{layoutOptions:s.layoutOptions,appName:a}))))};return c.propTypes={config:k().object.isRequired},c}({searchBarPlaceholder:l.M.t("Search in my collections..."),appName:$}),X=(0,f.parametrize)(H,{appName:$}),Y=(0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)({},"".concat($,".BucketAggregation.element"),i.Ox),"".concat($,".BucketAggregationValues.element"),i.O6),"".concat($,".EmptyResults.element"),c.R5),"".concat($,".SearchApp.facets"),i.rn),"".concat($,".ResultsList.item"),o.z),"".concat($,".ResultsGrid.item"),c.AV),"".concat($,".SearchApp.layout"),J),"".concat($,".SearchApp.results"),X),"".concat($,".SearchBar.element"),L),Z=f.overrideStore.getAll();console.log("communities.js"),(0,a.U)(K(K({},Y),Z),!0,"invenio-search-config",!0)}},e=>{e.O(0,[402,1057,7655,5373,6267,9777,5941,7501,4218,8010,73,6767,8102,742,6528,3532,1751,226,5580,5167],(()=>{return t=91382,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=invenio-app-rdm-user-communities-custom.a57e4cff2c924edd4d18.js.map