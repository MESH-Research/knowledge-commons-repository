{"version":3,"file":"js/5848.993180d79dbee0816236.js","mappings":"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","sources":["webpack://invenio-assets/./templates/custom_fields/AIUsageField.js","webpack://invenio-assets/./node_modules/lodash/defaults.js","webpack://invenio-assets/./node_modules/lodash/isEqual.js","webpack://invenio-assets/./node_modules/lodash/join.js","webpack://invenio-assets/./node_modules/lodash/unionBy.js","webpack://invenio-assets/./node_modules/react-i18next/dist/es/I18nextProvider.js","webpack://invenio-assets/./node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js","webpack://invenio-assets/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://invenio-assets/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://invenio-assets/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://invenio-assets/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport { i18next } from \"@translations/invenio_rdm_records/i18next\";\nimport { getIn, useFormikContext } from \"formik\";\nimport { Form } from \"semantic-ui-react\";\nimport { BooleanCheckbox, FieldLabel } from \"react-invenio-forms\";\nimport { FormValuesContext } from \"@js/invenio_modular_deposit_form\";\nimport { TextArea } from \"@js/invenio_modular_deposit_form/replacement_components/TextArea\";\n\nconst AIUsageField = ({\n  fieldPath,\n  label,\n  icon,\n  description,\n  ai_used,\n  ai_description,\n  ...restProps\n}) => {\n  const { values, setFieldValue } = useFormikContext();\n  const {\n    currentValues,\n    handleValuesChange,\n    currentErrors,\n    handleErrorsChange,\n  } = useContext(FormValuesContext);\n\n  // useEffect(() => {\n  //   // setFieldValue(fieldPath, { ai_used: false, ai_description: \"\" });\n  // }, []);\n\n  // useEffect(() => {\n  //   // console.log('changed');\n  //   handleValuesChange(values);\n  //   // console.log(values.custom_fields);\n  // }, [values]);\n  console.log(\"AI field\", getIn(values, `${fieldPath}`, undefined));\n\n  return (\n    <Form.Field id={fieldPath} name={fieldPath}>\n      <FieldLabel htmlFor={fieldPath} icon={icon} label={label} />\n      <BooleanCheckbox\n        fieldPath={`${fieldPath}.ai_used`}\n        // label=\"Did generative AI contribute to the production of this work?\"\n        label={ai_used.description}\n        trueLabel=\"Yes\"\n        falseLabel=\"No\"\n        // icon={ai_used.icon}\n        required={false}\n        description=\"\"\n        // value={values.custom_fields?.[\"kcr:ai_usage\"]?.ai_used}\n        value={getIn(values, `${fieldPath}.ai_used`, false)}\n        initialValue={getIn(values, `${fieldPath}.ai_used`, false)}\n      />\n      {!!values.custom_fields\n        ? values.custom_fields[\"kcr:ai_usage\"]?.ai_used === true && (\n            <TextArea\n              fieldPath={`${fieldPath}.ai_description`}\n              // label={ai_description.label}\n              description={ai_description.description}\n              required={false}\n            />\n          )\n        : \"\"}\n    </Form.Field>\n  );\n};\n\nexport default AIUsageField;\n","var baseRest = require('./_baseRest'),\n    eq = require('./eq'),\n    isIterateeCall = require('./_isIterateeCall'),\n    keysIn = require('./keysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(object, sources) {\n  object = Object(object);\n\n  var index = -1;\n  var length = sources.length;\n  var guard = length > 2 ? sources[2] : undefined;\n\n  if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n    length = 1;\n  }\n\n  while (++index < length) {\n    var source = sources[index];\n    var props = keysIn(source);\n    var propsIndex = -1;\n    var propsLength = props.length;\n\n    while (++propsIndex < propsLength) {\n      var key = props[propsIndex];\n      var value = object[key];\n\n      if (value === undefined ||\n          (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        object[key] = source[key];\n      }\n    }\n  }\n\n  return object;\n});\n\nmodule.exports = defaults;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeJoin = arrayProto.join;\n\n/**\n * Converts all elements in `array` into a string separated by `separator`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to convert.\n * @param {string} [separator=','] The element separator.\n * @returns {string} Returns the joined string.\n * @example\n *\n * _.join(['a', 'b', 'c'], '~');\n * // => 'a~b~c'\n */\nfunction join(array, separator) {\n  return array == null ? '' : nativeJoin.call(array, separator);\n}\n\nmodule.exports = join;\n","var baseFlatten = require('./_baseFlatten'),\n    baseIteratee = require('./_baseIteratee'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    last = require('./last');\n\n/**\n * This method is like `_.union` except that it accepts `iteratee` which is\n * invoked for each element of each `arrays` to generate the criterion by\n * which uniqueness is computed. Result values are chosen from the first\n * array in which the value occurs. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nvar unionBy = baseRest(function(arrays) {\n  var iteratee = last(arrays);\n  if (isArrayLikeObject(iteratee)) {\n    iteratee = undefined;\n  }\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), baseIteratee(iteratee, 2));\n});\n\nmodule.exports = unionBy;\n","import { createElement, useMemo } from 'react';\nimport { I18nContext } from './context';\nexport function I18nextProvider(_ref) {\n  var i18n = _ref.i18n,\n      defaultNS = _ref.defaultNS,\n      children = _ref.children;\n  var value = useMemo(function () {\n    return {\n      i18n: i18n,\n      defaultNS: defaultNS\n    };\n  }, [i18n, defaultNS]);\n  return createElement(I18nContext.Provider, {\n    value: value\n  }, children);\n}","export default function _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure \" + obj);\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["_ref","_values$custom_fields","fieldPath","label","icon","ai_used","description","ai_description","_useFormikContext","_objectWithoutProperties","_excluded","useFormikContext","values","_useContext","setFieldValue","useContext","FormValuesContext","currentValues","handleValuesChange","currentErrors","handleErrorsChange","console","log","getIn","concat","undefined","React","Form","Field","id","name","FieldLabel","htmlFor","BooleanCheckbox","trueLabel","falseLabel","required","value","initialValue","custom_fields","TextArea","baseRest","eq","isIterateeCall","keysIn","objectProto","Object","prototype","hasOwnProperty","defaults","object","sources","index","length","guard","source","props","propsIndex","propsLength","key","call","module","exports","baseIsEqual","other","nativeJoin","Array","join","array","separator","baseFlatten","baseIteratee","baseUniq","isArrayLikeObject","last","unionBy","arrays","iteratee","I18nextProvider","i18n","defaultNS","children","useMemo","createElement","Provider","_objectDestructuringEmpty","obj","TypeError","_toConsumableArray","arr","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray"],"sourceRoot":""}