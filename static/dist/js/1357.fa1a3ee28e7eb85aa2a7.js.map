{"version":3,"file":"js/1357.fa1a3ee28e7eb85aa2a7.js","mappings":"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","sources":["webpack://invenio-assets/./js/invenio_requests/api/InvenioRequestEventsApi.js","webpack://invenio-assets/./js/invenio_requests/api/InvenioRequestApi.js","webpack://invenio-assets/./js/invenio_requests/api/serializers.js","webpack://invenio-assets/./js/invenio_requests/components/Buttons.js","webpack://invenio-assets/./js/invenio_requests/components/Error.js","webpack://invenio-assets/./js/invenio_requests/request/RequestTypeLabel.js","webpack://invenio-assets/./js/invenio_requests/request/actions/RequestActionButton.js","webpack://invenio-assets/./js/invenio_requests/request/actions/RequestActionModal.js","webpack://invenio-assets/./js/invenio_requests/request/actions/RequestActionModalTrigger.js","webpack://invenio-assets/./js/invenio_requests/request/actions/RequestAction.js","webpack://invenio-assets/./js/invenio_requests/request/actions/RequestActionController.js","webpack://invenio-assets/./js/invenio_requests/request/actions/RequestActions.js","webpack://invenio-assets/./js/invenio_requests/request/actions/context.js","webpack://invenio-assets/./js/invenio_theme/Media.js"],"sourcesContent":["// This file is part of InvenioRequests\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\nimport { http } from \"react-invenio-forms\";\n\nexport class RequestEventsLinksExtractor {\n  #links;\n\n  constructor(links) {\n    this.#links = links;\n  }\n\n  get eventUrl() {\n    if (!this.#links.self) {\n      throw TypeError(\"Self link missing from resource.\");\n    }\n    return this.#links.self;\n  }\n}\n\nexport class InvenioRequestEventsApi {\n  #links;\n\n  constructor(links) {\n    this.#links = links;\n  }\n\n  getComment = async () => {\n    return await http.get(this.#links.eventUrl, { params: { expand: 1 } });\n  };\n\n  updateComment = async (payload) => {\n    return http.put(this.#links.eventUrl, payload, { params: { expand: 1 } });\n  };\n\n  deleteComment = async () => {\n    return await http.delete(this.#links.eventUrl);\n  };\n}\n","// This file is part of InvenioRequests\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport _isEmpty from \"lodash/isEmpty\";\nimport { http } from \"react-invenio-forms\";\n\nexport class RequestLinksExtractor {\n  #urls;\n\n  constructor(request) {\n    if (!request?.links) {\n      throw TypeError(\"Request resource links are undefined\");\n    }\n    this.#urls = request.links;\n  }\n\n  get self() {\n    return this.#urls.self;\n  }\n\n  get timeline() {\n    if (!this.#urls.timeline) {\n      throw TypeError(\"Timeline link missing from resource.\");\n    }\n    return this.#urls.timeline;\n  }\n\n  get comments() {\n    if (!this.#urls.comments) {\n      throw TypeError(\"Comments link missing from resource.\");\n    }\n    return this.#urls.comments;\n  }\n\n  get actions() {\n    if (!this.#urls.actions) {\n      throw TypeError(\"Actions link missing from resource.\");\n    }\n    return this.#urls.actions;\n  }\n}\n\nexport class InvenioRequestsAPI {\n  #urls;\n\n  constructor(requestLinksExtractor) {\n    this.#urls = requestLinksExtractor;\n  }\n\n  get availableRequestStatuses() {\n    return [\"accepted\", \"declined\", \"expired\", \"cancelled\"];\n  }\n\n  getTimeline = async (params) => {\n    return await http.get(this.#urls.timeline, {\n      params: {\n        expand: 1,\n        ...params,\n      },\n    });\n  };\n\n  getRequest = async () => {\n    return await http.get(this.#urls.self, { params: { expand: 1 } });\n  };\n\n  submitComment = async (payload) => {\n    return await http.post(this.#urls.comments, payload, {\n      params: { expand: 1 },\n    });\n  };\n\n  performAction = async (action, commentContent = null) => {\n    let payload = {};\n    if (!_isEmpty(commentContent)) {\n      payload = {\n        payload: {\n          content: commentContent,\n          format: \"html\",\n        },\n      };\n    }\n    return await http.post(this.#urls.actions[action], payload, {\n      params: { expand: 1 },\n    });\n  };\n}\n","// This file is part of InvenioRequests\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\nexport const payloadSerializer = (content, format) => ({\n  payload: {\n    content,\n    format,\n  },\n});\n\nexport const errorSerializer = (error) =>\n  error?.response?.data?.message || error?.message;\n","// This file is part of InvenioRequests\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\nimport { i18next } from \"@translations/invenio_requests/i18next\";\nimport React, { useEffect } from \"react\";\nimport { Button } from \"semantic-ui-react\";\n\n// components for most common actions, used in other modules, not explicitly in invenio-requests\n\nexport const SaveButton = (props) => (\n  <Button\n    icon=\"save\"\n    labelPosition=\"left\"\n    positive\n    size=\"mini\"\n    content={i18next.t(\"Save\")}\n    {...props}\n  />\n);\n\nexport const RequestDeclineButton = ({\n  onClick,\n  loading,\n  ariaAttributes,\n  size,\n  className,\n}) => {\n  return (\n    <Button\n      icon=\"cancel\"\n      labelPosition=\"left\"\n      content={i18next.t(\"Decline\")}\n      onClick={onClick}\n      loading={loading}\n      disabled={loading}\n      negative\n      size={size}\n      className={className}\n      {...ariaAttributes}\n    />\n  );\n};\n\nexport const RequestAcceptButton = ({\n  onClick,\n  requestType,\n  loading,\n  ariaAttributes,\n  size,\n  className,\n}) => {\n  const requestIsCommunitySubmission = requestType === \"community-submission\";\n  const buttonText = requestIsCommunitySubmission\n    ? i18next.t(\"Accept and publish\")\n    : i18next.t(\"Accept\");\n  return (\n    <Button\n      icon=\"checkmark\"\n      labelPosition=\"left\"\n      content={buttonText}\n      onClick={onClick}\n      positive\n      loading={loading}\n      disabled={loading}\n      size={size}\n      className={className}\n      {...ariaAttributes}\n    />\n  );\n};\n\nexport const CancelButton = React.forwardRef((props, ref) => {\n  useEffect(() => {\n    ref?.current?.focus();\n  }, []);\n\n  return (\n    <Button\n      ref={ref}\n      icon=\"cancel\"\n      labelPosition=\"left\"\n      content={i18next.t(\"Cancel\")}\n      size=\"mini\"\n      {...props}\n    />\n  );\n});\n\nexport const RequestCancelButton = ({\n  onClick,\n  loading,\n  ariaAttributes,\n  size,\n  content = i18next.t(\"Cancel request\"),\n  className,\n  negative = true,\n}) => {\n  return (\n    <Button\n      icon=\"cancel\"\n      labelPosition=\"left\"\n      content={content}\n      onClick={onClick}\n      loading={loading}\n      disabled={loading}\n      size={size}\n      negative={negative}\n      className={className}\n      {...ariaAttributes}\n    />\n  );\n};\n\nexport const RequestSubmitButton = ({\n  onClick,\n  loading,\n  ariaAttributes,\n  size,\n  content,\n  className,\n}) => {\n  return (\n    <Button\n      icon=\"unlock alternate\"\n      labelPosition=\"left\"\n      content={i18next.t(\"Request access\")}\n      onClick={onClick}\n      positive\n      loading={loading}\n      disabled={loading}\n      size={size}\n      className={className}\n      {...ariaAttributes}\n    />\n  );\n};\n","import React, { Component } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Message } from \"semantic-ui-react\";\nimport PropTypes from \"prop-types\";\nimport { i18next } from \"@translations/invenio_requests/i18next\";\n\nclass Error extends Component {\n  render() {\n    const { children, error, errorInfo } = this.props;\n    if (error) {\n      return (\n        <Overridable id=\"Error.layout\" {...this.props}>\n          <Message negative>\n            <Message.Header>{i18next.t(\"Something went wrong.\")}</Message.Header>\n            <p>\n              {error && error.toString()}\n              <br />\n              {errorInfo}\n            </p>\n          </Message>\n        </Overridable>\n      );\n    }\n    return children;\n  }\n}\n\nError.propTypes = {\n  error: PropTypes.object,\n  errorInfo: PropTypes.string,\n  children: PropTypes.node,\n};\n\nError.defaultProps = {\n  error: null,\n  children: null,\n};\n\nexport default Overridable.component(\"Error\", Error);\n","// This file is part of InvenioRequests\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n// This file is part of InvenioRequests\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Overridable from \"react-overridable\";\nimport { Label } from \"semantic-ui-react\";\n\nclass RequestTypeLabel extends Component {\n  render() {\n    const { type } = this.props;\n    return (\n      <Overridable id={`RequestTypeLabel.layout.${type}`}>\n        <Label>{type}</Label>\n      </Overridable>\n    );\n  }\n}\n\nRequestTypeLabel.propTypes = {\n  type: PropTypes.string.isRequired,\n};\n\nexport default Overridable.component(\n  \"InvenioRequests.RequestTypeLabel\",\n  RequestTypeLabel\n);\n","// This file is part of InvenioRequests\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Button } from \"semantic-ui-react\";\n\nexport const RequestActionButton = ({\n  action,\n  handleActionClick,\n  loading,\n  className,\n  size,\n  requestType,\n}) => {\n  return (\n    <Overridable\n      id={`RequestActionButton.${action}`}\n      onClick={handleActionClick}\n      loading={loading}\n      className={className}\n      size={size}\n    >\n      <Button onClick={handleActionClick} loading={loading} requestType={requestType}>\n        <>{action}</>\n      </Button>\n    </Overridable>\n  );\n};\n\nexport default Overridable.component(\n  \"InvenioRequests.RequestActionButton\",\n  RequestActionButton\n);\n","// This file is part of InvenioRequests\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { RequestActionContext } from \"@js/invenio_requests/request/actions/context\";\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { Trans } from \"react-i18next\";\nimport Overridable from \"react-overridable\";\nimport { Modal } from \"semantic-ui-react\";\nimport Error from \"../../components/Error\";\nimport { CancelButton } from \"../../components/Buttons\";\nimport { RequestActionButton } from \"./RequestActionButton\";\n\nexport class RequestActionModal extends Component {\n  constructor(props) {\n    super(props);\n    this.cancelBtnRef = React.createRef();\n  }\n  static contextType = RequestActionContext;\n\n  componentDidMount() {\n    this.subscribeToContext();\n  }\n\n  subscribeToContext = () => {\n    const { modalId } = this.props;\n    const { modalOpen } = this.context;\n    if (modalId in modalOpen) {\n      modalOpen[modalId] = false;\n    }\n  };\n\n  render() {\n    const { action, handleActionClick, modalId, children, requestType } = this.props;\n    const { modalOpen, loading, toggleModal, error, cleanError, className, size } =\n      this.context;\n\n    const currentModalOpen = modalOpen[modalId];\n\n    return (\n      <Overridable id=\"InvenioRequests.RequestActionModal.layout\" {...this.props}>\n        {/*currentModalOpen prevents mounting multiple instances*/}\n        {currentModalOpen && (\n          <Modal aria-label={action} role=\"dialog\" id={modalId} open={currentModalOpen}>\n            <Modal.Header as=\"h2\" className=\"capitalize-first-char\">\n              <Overridable id={`RequestActionModal.title.${action}`}>\n                <Trans defaults=\"{{action}} request\" values={{ action: action }} />\n              </Overridable>\n            </Modal.Header>\n            <Modal.Content>\n              <Modal.Description>\n                {error && <Error error={error.message} />}\n                {children}\n              </Modal.Description>\n            </Modal.Content>\n            <Modal.Actions>\n              <CancelButton\n                ref={this.cancelBtnRef}\n                onClick={() => {\n                  cleanError();\n                  toggleModal(modalId, false);\n                }}\n                loading={loading}\n                disabled={loading}\n                floated=\"left\"\n                size=\"medium\"\n              />\n              <RequestActionButton\n                action={action}\n                handleActionClick={handleActionClick}\n                loading={loading}\n                className={className}\n                size={size}\n                requestType={requestType}\n              />\n            </Modal.Actions>\n          </Modal>\n        )}\n      </Overridable>\n    );\n  }\n}\n\nRequestActionModal.propTypes = {\n  handleActionClick: PropTypes.func.isRequired,\n  modalId: PropTypes.string.isRequired,\n  requestType: PropTypes.string.isRequired,\n};\n\nRequestActionModal.defaultProps = {\n  loading: false,\n  modalOpen: false,\n};\n\nexport default Overridable.component(\n  \"InvenioRequests.RequestActionModal\",\n  RequestActionModal\n);\n","// This file is part of InvenioRequests\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Overridable from \"react-overridable\";\nimport { Button } from \"semantic-ui-react\";\n\nexport class RequestActionModalTrigger extends Component {\n  render() {\n    const { action, toggleModal, loading, modalOpen, requestType, size } = this.props;\n    const buttonAria = {\n      \"aria-expanded\": !!modalOpen[action],\n      \"aria-haspopup\": \"dialog\",\n      \"aria-controls\": action,\n    };\n    return (\n      <Overridable\n        id={`RequestActionModalTrigger.${action}`}\n        onClick={() => toggleModal(action, true)}\n        loading={loading}\n        action={action}\n        requestType={requestType}\n        ariaAttributes={buttonAria}\n        size={size}\n      >\n        <Button\n          onClick={() => toggleModal(action, true)}\n          loading={loading}\n          {...buttonAria}\n        >\n          {action}\n        </Button>\n      </Overridable>\n    );\n  }\n}\n\nRequestActionModalTrigger.propTypes = {\n  toggleModal: PropTypes.func.isRequired,\n  action: PropTypes.string.isRequired,\n  loading: PropTypes.bool.isRequired,\n  modalOpen: PropTypes.object.isRequired,\n  requestType: PropTypes.string.isRequired,\n  size: PropTypes.string,\n};\n\nexport default Overridable.component(\n  \"InvenioRequests.RequestActionModalTrigger\",\n  RequestActionModalTrigger\n);\n","// This file is part of InvenioRequests\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { RequestActionContext } from \"@js/invenio_requests/request/actions/context\";\nimport { RichEditor } from \"react-invenio-forms\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Overridable from \"react-overridable\";\nimport { Divider, Modal, Message } from \"semantic-ui-react\";\nimport { RequestActionModal } from \"./RequestActionModal\";\nimport { RequestActionModalTrigger } from \"./RequestActionModalTrigger\";\nimport { i18next } from \"@translations/invenio_requests/i18next\";\n\nexport class RequestAction extends Component {\n  static contextType = RequestActionContext;\n\n  constructor(props) {\n    super(props);\n    this.state = { actionComment: \"\", modalOpen: false };\n  }\n\n  onCommentChange = (event, editor) => {\n    this.setState({ actionComment: editor.getContent() });\n  };\n\n  handleActionClick = () => {\n    const { performAction } = this.context;\n    const { action } = this.props;\n    const { actionComment } = this.state;\n    performAction(action, actionComment);\n  };\n\n  render() {\n    const { loading, performAction, toggleModal, error, modalOpen } = this.context;\n    const { action, requestType, size } = this.props;\n    const modalId = action;\n    return (\n      <Overridable\n        id=\"InvenioRequests.RequestAction.layout\"\n        action={action}\n        loading={loading}\n        performAction={performAction}\n      >\n        <>\n          <RequestActionModalTrigger\n            action={action}\n            loading={loading}\n            toggleModal={toggleModal}\n            modalOpen={modalOpen}\n            requestType={requestType}\n            size={size}\n          />\n\n          <RequestActionModal\n            action={action}\n            handleActionClick={this.handleActionClick}\n            modalId={modalId}\n            requestType={requestType}\n          >\n            <Modal.Content>\n              {error && (\n                <Message negative>\n                  <p>{error}</p>\n                </Message>\n              )}\n              <Modal.Description>\n                {i18next.t(\"Add comment (optional)\")}\n                <Divider hidden />\n                <RichEditor onChange={this.onCommentChange} />\n              </Modal.Description>\n            </Modal.Content>\n          </RequestActionModal>\n        </>\n      </Overridable>\n    );\n  }\n}\n\nRequestAction.propTypes = {\n  action: PropTypes.string.isRequired,\n  requestType: PropTypes.string.isRequired,\n  size: PropTypes.string,\n};\n\nexport default Overridable.component(\"InvenioRequests.RequestAction\", RequestAction);\n","import { RequestLinksExtractor, InvenioRequestsAPI } from \"@js/invenio_requests/api\";\nimport { errorSerializer } from \"@js/invenio_requests/api/serializers\";\nimport { RequestActions } from \"@js/invenio_requests/request/actions/RequestActions\";\nimport PropTypes from \"prop-types\";\nimport { RequestActionContext } from \"./context\";\nimport React, { Component } from \"react\";\n\nexport class RequestActionController extends Component {\n  constructor(props) {\n    super(props);\n    const { request, requestApi } = props;\n    this.linkExtractor = new RequestLinksExtractor(request);\n    this.requestApi = requestApi || new InvenioRequestsAPI(this.linkExtractor);\n    this.state = { modalOpen: {}, loading: false, error: undefined };\n  }\n\n  toggleActionModal = (actionId, val) => {\n    const { modalOpen } = this.state;\n    if (val) {\n      modalOpen[actionId] = val;\n    } else {\n      modalOpen[actionId] = !modalOpen[actionId];\n    }\n    this.setState({ modalOpen: { ...modalOpen } });\n  };\n\n  performAction = async (action, commentContent) => {\n    this.setState({ loading: true });\n    const { actionSuccessCallback } = this.props;\n    try {\n      const response = await this.requestApi.performAction(action, commentContent);\n      this.setState({ loading: false });\n      this.toggleActionModal(action, false);\n      actionSuccessCallback(response.data);\n    } catch (error) {\n      console.error(error);\n      this.setState({ loading: false, error: errorSerializer(error) });\n    }\n  };\n\n  cleanError = () => {\n    this.setState({ error: undefined });\n  };\n\n  render() {\n    const { modalOpen, error, loading } = this.state;\n    const { request, children, size } = this.props;\n\n    return (\n      <RequestActionContext.Provider\n        value={{\n          modalOpen: modalOpen,\n          toggleModal: this.toggleActionModal,\n          linkExtractor: this.linkExtractor,\n          requestApi: this.requestApi,\n          performAction: this.performAction,\n          cleanError: this.cleanError,\n          error: error,\n          loading: loading,\n        }}\n      >\n        <RequestActions request={request} size={size} />\n        {children}\n      </RequestActionContext.Provider>\n    );\n  }\n}\n\nRequestActionController.propTypes = {\n  request: PropTypes.object.isRequired,\n  requestApi: PropTypes.instanceOf(InvenioRequestsAPI),\n  actionSuccessCallback: PropTypes.func,\n  size: PropTypes.string,\n};\n\nRequestActionController.defaultProps = {\n  actionSuccessCallback: () => {},\n};\n","// This file is part of InvenioRequests\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { RequestLinksExtractor } from \"../../api\";\nimport React from \"react\";\nimport Overridable from \"react-overridable\";\nimport { RequestAction } from \"./RequestAction\";\nimport { Dropdown } from \"semantic-ui-react\";\nimport { AppMedia } from \"@js/invenio_theme/Media\";\n\nexport const RequestActions = ({ request, size }) => {\n  const actions = Object.keys(new RequestLinksExtractor(request).actions);\n  const { MediaContextProvider, Media } = AppMedia;\n\n  return (\n    <Overridable\n      id=\"InvenioRequests.RequestActions.layout\"\n      request={request}\n      actions={actions}\n    >\n      <MediaContextProvider>\n        <Media greaterThanOrEqual=\"tablet\" className=\"media-inline-block\">\n          {actions.map((action) => (\n            <RequestAction\n              action={action}\n              key={action}\n              requestType={request.type}\n              size={size}\n            />\n          ))}\n        </Media>\n        <Media lessThan=\"tablet\">\n          <Dropdown\n            text=\"Actions\"\n            icon=\"caret down\"\n            floating\n            labeled\n            button\n            className=\"icon tiny\"\n          >\n            <Dropdown.Menu>\n              {actions.map((action) => {\n                return (\n                  <RequestAction\n                    key={action}\n                    action={action}\n                    requestType={request.type}\n                  />\n                );\n              })}\n            </Dropdown.Menu>\n          </Dropdown>\n        </Media>\n      </MediaContextProvider>\n    </Overridable>\n  );\n};\n\nexport default Overridable.component(\"InvenioRequests.RequestActions\", RequestActions);\n","import React from \"react\";\n\nexport const RequestActionContext = React.createContext({\n  modalOpen: false,\n  toggleModal: () => {},\n  linkExtractor: undefined,\n  requestApi: undefined,\n  performAction: () => {},\n  cleanError: () => {},\n  error: undefined,\n  loading: false,\n});\n","/*\n * This file is part of Invenio.\n * Copyright (C) 2017-2022 CERN.\n *\n * Invenio is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { createMedia } from \"@artsy/fresnel\";\n\n// IMPORTANT: align changes with site.variables\nexport const breakpoints = {\n  void: 0,\n  mobile: 320,\n  tablet: 768,\n  computer: 1300,\n  largeScreen: 1680,\n  widescreen: 1920,\n};\n\nexport const AppMedia = createMedia({\n  breakpoints: breakpoints,\n});\n\n"],"names":["_links","WeakMap","RequestEventsLinksExtractor","_createClass","links","_classCallCheck","_classPrivateFieldInitSpec","_classPrivateFieldSet","this","key","get","_classPrivateFieldGet","self","TypeError","_links2","InvenioRequestEventsApi","_this","_defineProperty","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","http","eventUrl","params","expand","abrupt","sent","stop","_ref2","_callee2","payload","_context2","put","_x","apply","arguments","_callee3","_context3","_urls","RequestLinksExtractor","request","timeline","comments","actions","_urls2","InvenioRequestsAPI","requestLinksExtractor","_ref","_objectSpread","_ref3","post","_x2","_ref4","_callee4","action","commentContent","_args4","_context4","length","undefined","_isEmpty","content","format","_x3","payloadSerializer","errorSerializer","error","_error$response","response","data","message","SaveButton","props","React","Button","_extends","icon","labelPosition","positive","size","i18next","t","RequestDeclineButton","onClick","loading","ariaAttributes","className","disabled","negative","RequestAcceptButton","requestType","buttonText","CancelButton","ref","useEffect","_ref$current","current","focus","RequestCancelButton","_ref3$content","_ref3$negative","RequestSubmitButton","Error","_Component","_callSuper","_inherits","value","_this$props","children","errorInfo","Overridable","id","Message","Header","toString","Component","propTypes","PropTypes","defaultProps","component","RequestTypeLabel","type","concat","Label","isRequired","RequestActionButton","handleActionClick","RequestActionModal","modalId","modalOpen","context","cancelBtnRef","subscribeToContext","_this$context","toggleModal","cleanError","currentModalOpen","Modal","role","open","as","Trans","defaults","values","Content","Description","Actions","floated","RequestActionContext","RequestActionModalTrigger","buttonAria","RequestAction","event","editor","setState","actionComment","getContent","performAction","state","Divider","hidden","RichEditor","onChange","onCommentChange","RequestActionController","actionId","val","actionSuccessCallback","requestApi","toggleActionModal","t0","console","linkExtractor","_this$state","Provider","RequestActions","Object","keys","MediaContextProvider","AppMedia","Media","greaterThanOrEqual","map","lessThan","Dropdown","text","floating","labeled","button","Menu","createMedia","breakpoints","void","mobile","tablet","computer","largeScreen","widescreen"],"sourceRoot":""}