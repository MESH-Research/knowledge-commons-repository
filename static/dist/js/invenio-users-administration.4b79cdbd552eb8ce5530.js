"use strict";(self.webpackChunkinvenio_assets=self.webpackChunkinvenio_assets||[]).push([[325],{62673:(e,t,r)=>{var n=r(64467),a=r(74812),l=r(86763),c=r(23029),i=r(92901),o=r(56822),s=r(53954),u=r(85501),m=r(60834),d=r(5556),p=r.n(d),f=r(96540),v=r(53959),y=r(34667),E=r(76217),b=r(98871),A=r(28021),h=r(81057),k=r(70742);function g(e,t,r){return t=(0,s.A)(t),(0,o.A)(e,w()?Reflect.construct(t,r||[],(0,s.A)(e).constructor):t.apply(e,r))}function w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(w=function(){return!!e})()}var O=function(e){function t(){var e;(0,c.A)(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=g(this,t,[].concat(a)),(0,n.A)(e,"refreshAfterAction",(function(){var t=e.props;(0,t.updateQueryState)(t.currentQueryState)})),e}return(0,u.A)(t,e),(0,i.A)(t,[{key:"render",value:function(){var e=this.props,t=e.result,r=e.idKeyPath,n=e.listUIEndpoint;return f.createElement(v.A.Row,null,f.createElement(v.A.Cell,{key:"user-column-".concat(t.id),"data-label":k.M.t("User")},f.createElement(h.UserListItemCompact,{user:t,id:t.id,linkToDetailView:A.Q.detailsView(n,t,r)})),f.createElement(v.A.Cell,{key:"user-name-".concat(t.id),"data-label":k.M.t("Username")},"@",t.username,t.identities.orcid&&f.createElement("img",{className:"inline-id-icon ml-5",src:"/static/images/orcid.svg",alt:"ORCID"}),f.createElement(a.Dp,{tooltip:k.M.t("GitHub"),icon:"github",color:"black",value:t.identities.github})),f.createElement(v.A.Cell,{key:"user-email-".concat(t.id),"data-label":k.M.t("Email"),collapsing:!0,className:"word-break-all"},f.createElement(a.Dp,{tooltip:k.M.t("New"),icon:"hourglass end",color:"grey",value:1==t.domaininfo.status}),f.createElement(a.Dp,{tooltip:k.M.t("Moderated"),icon:"eye",color:"grey",value:2==t.domaininfo.status}),f.createElement(a.Dp,{tooltip:k.M.t("Verified"),icon:"check",color:"green",value:3==t.domaininfo.status}),f.createElement(a.Dp,{tooltip:k.M.t("Blocked"),icon:"ban",color:"red",value:4==t.domaininfo.status}),t.email),f.createElement(v.A.Cell,{collapsing:!0,key:"user-status-".concat(t.id),"data-label":k.M.t("Status"),className:"word-break-all"},f.createElement(a.Dp,{tooltip:k.M.t("Verified"),icon:"star",color:"yellow",value:"verified"==t.status}),f.createElement(a.Dp,{tooltip:k.M.t("Confirmed"),icon:"check",color:"green",value:"confirmed"==t.status}),f.createElement(a.Dp,{tooltip:k.M.t("New"),icon:"hourglass",color:"grey",value:"new"==t.status}),f.createElement(a.Dp,{tooltip:k.M.t("Inactive"),icon:"times",color:"red",value:"inactive"==t.status}),f.createElement(a.Dp,{tooltip:k.M.t("Blocked"),icon:"ban",color:"red",value:"blocked"==t.status})),f.createElement(v.A.Cell,{collapsing:!0,key:"user-created-".concat(t.id),"data-label":k.M.t("Created"),className:"word-break-all"},f.createElement(a.pw,{value:t.created})),f.createElement(v.A.Cell,{collapsing:!0,key:"user-updated-".concat(t.id),"data-label":k.M.t("Updated"),className:"word-break-all"},f.createElement(a.pw,{value:t.updated})),f.createElement(v.A.Cell,{collapsing:!0,key:"user-links-".concat(t.id),"data-label":k.M.t("Links"),className:"word-break-all"},f.createElement(y.A,{text:f.createElement(E.A,{name:"eye"})},f.createElement(y.A.Menu,null,f.createElement(y.A.Item,{text:"Records",onClick:function(){return window.location=t.links.admin_records_html}}),f.createElement(y.A.Item,{text:"Drafts",onClick:function(){return window.location=t.links.admin_drafts_html}}),f.createElement(y.A.Item,{text:"Moderation",onClick:function(){return window.location=t.links.admin_moderation_html}})))),f.createElement(v.A.Cell,{collapsing:!0},f.createElement(m.z,{useDropdown:!0,user:t,successCallback:this.refreshAfterAction,displayImpersonateUser:!0,displayQuota:!0})))}}])}(f.Component);O.propTypes={result:p().object.isRequired,idKeyPath:p().string.isRequired,updateQueryState:p().func.isRequired,currentQueryState:p().object.isRequired,listUIEndpoint:p().string.isRequired},O.defaultProps={};var C=(0,b.Q2)(O),M=r(5905),N=r(59945),U=r(3487);function D(e,t,r){return t=(0,s.A)(t),(0,o.A)(e,R()?Reflect.construct(t,r||[],(0,s.A)(e).constructor):t.apply(e,r))}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(R=function(){return!!e})()}var S=function(e){function t(e){var r;return(0,c.A)(this,t),r=D(this,t,[e]),(0,n.A)(r,"retrieveUsers",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=r.props,l=a.currentQueryState,c=a.updateQueryState,i=a.keepFiltersOnUpdate;r.state.selected!==e&&(l.filters=[],r.setState({selected:e}),l.filters=i?l.filters.filter((function(e){return e[0]!==t})):[],l.filters.push([t,n]),c(l))})),(0,n.A)(r,"retrieveActive",(function(){r.retrieveUsers("active","is_active",1)})),(0,n.A)(r,"retrieveInactive",(function(){r.retrieveUsers("inactive","is_active",0)})),(0,n.A)(r,"retrieveBlocked",(function(){r.retrieveUsers("blocked","is_blocked")})),r.state={selected:"active"},r}return(0,u.A)(t,e),(0,i.A)(t,[{key:"componentDidMount",value:function(){this.props.currentQueryState.filters.find((function(e){return e.includes("active")}))&&this.setState({selected:"active"})}},{key:"render",value:function(){var e=this.state.selected;return f.createElement(U.A.Group,{basic:!0},f.createElement(U.A,{className:"user-search-filter",onClick:this.retrieveActive,active:"active"===e},N.M.t("Active")),f.createElement(U.A,{className:"user-search-filter",onClick:this.retrieveInactive,active:"inactive"===e},N.M.t("Inactive")),f.createElement(U.A,{className:"user-search-filter",onClick:this.retrieveBlocked,active:"blocked"===e},N.M.t("Blocked")))}}])}(f.Component);S.propTypes={updateQueryState:p().func.isRequired,currentQueryState:p().object.isRequired,keepFiltersOnUpdate:p().bool},S.defaultProps={keepFiltersOnUpdate:!1};var j=(0,b.Q2)(S),I=r(1489);function P(e,t,r){return t=(0,s.A)(t),(0,o.A)(e,Q()?Reflect.construct(t,r||[],(0,s.A)(e).constructor):t.apply(e,r))}function Q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Q=function(){return!!e})()}var B=function(e){function t(){return(0,c.A)(this,t),P(this,t,arguments)}return(0,u.A)(t,e),(0,i.A)(t,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.appName;return f.createElement(f.Fragment,null,f.createElement("div",{className:"auto-column-grid"},f.createElement("div",{className:"flex column-mobile"},f.createElement("div",{className:"mobile only rel-mb-1 flex align-items-center justify-space-between"},f.createElement(j,{keepFiltersOnUpdate:!0})),f.createElement("div",{className:"tablet only computer only rel-mr-2"},f.createElement(j,{keepFiltersOnUpdate:!0})),f.createElement("div",{className:"full-width"},f.createElement(b.IW,{fluid:!0}))),f.createElement("div",{className:"flex align-items-center column-mobile"},f.createElement("div",{className:"full-width flex align-items-center justify-end column-mobile"},f.createElement(b.FU,{values:t.sortOptions})))),f.createElement("div",{className:"rel-mb-1"}),f.createElement(I.A,null,f.createElement(I.A.Column,{computer:4,mobile:16,tablet:16,largeScreen:2,widescreen:2},f.createElement(a.tE,{aggs:t.aggs,appName:r})),f.createElement(I.A.Column,{mobile:16,tablet:16,computer:12,largeScreen:14,widescreen:14},f.createElement(M.s9,{layoutOptions:t.layoutOptions,appName:r}))))}}])}(f.Component);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}B.propTypes={config:p().object.isRequired,appName:p().string},B.defaultProps={appName:""};var x=document.getElementById("invenio-search-config"),F=q(q({},(0,a.YR)(x)),{},{"InvenioAdministration.SearchResultItem.layout":C,"SearchApp.layout":B,"SearchApp.facets":a.tE});(0,l.U)(F,!0,"invenio-search-config",!1,a.ev)},86763:(e,t,r)=>{r.d(t,{U:()=>n.U});r(88802);var n=r(71790)}},e=>{e.O(0,[402,1057,7655,5373,6267,9777,5941,7501,4218,8010,8102,742,6528,3532,1751,226,5580,4903,2913,9945,4826,4812,834],(()=>{return t=62673,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=invenio-users-administration.4b79cdbd552eb8ce5530.js.map