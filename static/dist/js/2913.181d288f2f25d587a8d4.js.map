{"version":3,"file":"js/2913.181d288f2f25d587a8d4.js","mappings":"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","sources":["webpack://invenio-assets/./js/invenio_administration/src/actions/ActionModal.js","webpack://invenio-assets/./js/invenio_administration/src/actions/Actions.js","webpack://invenio-assets/./js/invenio_administration/src/actions/Delete.js","webpack://invenio-assets/./js/invenio_administration/src/actions/DeleteModal.js","webpack://invenio-assets/./js/invenio_administration/src/actions/DeleteModalTrigger.js","webpack://invenio-assets/./js/invenio_administration/src/actions/Edit.js","webpack://invenio-assets/./js/invenio_administration/src/actions/ResourceActions.js","webpack://invenio-assets/./js/invenio_administration/src/components/BoolFormatter.js","webpack://invenio-assets/./js/invenio_administration/src/components/DateFormatter.js","webpack://invenio-assets/./js/invenio_administration/src/components/Formatter.js","webpack://invenio-assets/./js/invenio_administration/src/formik/ActionForm.js","webpack://invenio-assets/./js/invenio_administration/src/routes.js"],"sourcesContent":["// This file is part of InvenioAdministration\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { Modal } from \"semantic-ui-react\";\nimport Overridable from \"react-overridable\";\n\nclass ActionModal extends Component {\n  render() {\n    const { children, modalOpen, resource } = this.props;\n\n    return (\n      <Overridable\n        id=\"InvenioAdministration.ActionModal.layout\"\n        modalOpen={modalOpen}\n        // eslint-disable-next-line react/no-children-prop\n        children={children}\n        resource={resource}\n      >\n        <Modal role=\"dialog\" open={modalOpen}>\n          {children}\n        </Modal>\n      </Overridable>\n    );\n  }\n}\n\nActionModal.propTypes = {\n  children: PropTypes.object,\n  modalOpen: PropTypes.bool,\n  resource: PropTypes.object.isRequired,\n};\n\nActionModal.defaultProps = {\n  modalOpen: false,\n  children: null,\n};\n\nexport default Overridable.component(\"InvenioAdministration.ActionModal\", ActionModal);\n","import Edit from \"./Edit\";\nimport Delete from \"./Delete\";\nimport { DeleteModalTrigger } from \"./DeleteModalTrigger\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport isEmpty from \"lodash/isEmpty\";\nimport ResourceActions from \"./ResourceActions\";\nimport { Button, Dropdown } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/invenio_administration/i18next\";\nimport _get from \"lodash/get\";\n\nexport class Actions extends Component {\n  render() {\n    const {\n      title,\n      resourceName,\n      actions,\n      resource,\n      successCallback,\n      idKeyPath,\n      editUrl,\n      displayEdit,\n      displayDelete,\n      displayAsDropdown,\n    } = this.props;\n\n    // if number of actions is greater than 3, we display all in a dropdown\n    const _displayAsDropdown =\n      displayAsDropdown ||\n      (displayEdit && displayDelete && Object.keys(actions).length > 1);\n\n    if (_displayAsDropdown) {\n      return (\n        <Dropdown>\n          {!isEmpty(actions) && (\n            <ResourceActions\n              resource={resource}\n              successCallback={successCallback}\n              idKeyPath={idKeyPath}\n              actions={actions}\n              Element={Dropdown.Item}\n              trigger={\n                <Button\n                  icon=\"cog\"\n                  size=\"tiny\"\n                  className=\"transparent rel-ml-1\"\n                  aria-label={i18next.t(\"Open list of actions\")}\n                />\n              }\n            />\n          )}\n          {displayEdit && <Edit editUrl={editUrl} resource={resource} />}\n          {displayDelete && (\n            <DeleteModalTrigger\n              title={title}\n              resourceName={resourceName}\n              apiEndpoint={_get(resource, \"links.self\")}\n              resource={resource}\n              successCallback={successCallback}\n              idKeyPath={idKeyPath}\n              Element={Dropdown.Item}\n            />\n          )}\n        </Dropdown>\n      );\n    } else {\n      return (\n        <>\n          {!isEmpty(actions) && (\n            <ResourceActions\n              resource={resource}\n              successCallback={successCallback}\n              idKeyPath={idKeyPath}\n              actions={actions}\n            />\n          )}\n          {displayEdit && <Edit editUrl={editUrl} resource={resource} />}\n          {displayDelete && (\n            <Delete\n              successCallback={successCallback}\n              resource={resource}\n              resourceName={resourceName}\n              title={title}\n            />\n          )}\n        </>\n      );\n    }\n  }\n}\n\nActions.propTypes = {\n  title: PropTypes.string.isRequired,\n  resourceName: PropTypes.string.isRequired,\n  displayEdit: PropTypes.bool,\n  displayDelete: PropTypes.bool,\n  displayAsDropdown: PropTypes.bool,\n  resource: PropTypes.object.isRequired,\n  successCallback: PropTypes.func.isRequired,\n  idKeyPath: PropTypes.string,\n  actions: PropTypes.object.isRequired,\n  editUrl: PropTypes.string.isRequired,\n};\n\nActions.defaultProps = {\n  displayEdit: true,\n  displayDelete: true,\n  displayAsDropdown: false,\n  idKeyPath: \"pid\",\n};\n","import { DeleteModalTrigger } from \"./DeleteModalTrigger\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Popup } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/invenio_administration/i18next\";\nimport _get from \"lodash/get\";\nimport Overridable from \"react-overridable\";\n\nclass DeleteCmp extends Component {\n  render() {\n    const {\n      disabledMessage,\n      disable,\n      title,\n      resourceName,\n      successCallback,\n      idKeyPath,\n      resource,\n    } = this.props;\n\n    const disabled = disable(resource);\n\n    return (\n      <Popup\n        content={disabledMessage}\n        disabled={!disabled}\n        trigger={\n          <span>\n            <DeleteModalTrigger\n              title={title}\n              resourceName={resourceName}\n              resource={resource}\n              successCallback={successCallback}\n              idKeyPath={idKeyPath}\n              disabled={disabled}\n              apiEndpoint={_get(resource, \"links.self\")}\n              disabledDeleteMessage={disabledMessage}\n            />\n          </span>\n        }\n      />\n    );\n  }\n}\n\nDeleteCmp.propTypes = {\n  disabledMessage: PropTypes.string,\n  title: PropTypes.string.isRequired,\n  resourceName: PropTypes.string.isRequired,\n  successCallback: PropTypes.func.isRequired,\n  idKeyPath: PropTypes.string,\n  disable: PropTypes.func,\n  resource: PropTypes.object.isRequired,\n};\n\nDeleteCmp.defaultProps = {\n  disabledMessage: i18next.t(\"Resource is not deletable.\"),\n  idKeyPath: \"pid\",\n  disable: () => false,\n};\n\nexport default Overridable.component(\"InvenioAdministration.DeleteAction\", DeleteCmp);\n","// This file is part of InvenioAdministration\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Icon } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/invenio_administration/i18next\";\nimport { Modal } from \"semantic-ui-react\";\nimport { Trans } from \"react-i18next\";\nimport isEmpty from \"lodash/isEmpty\";\nimport { ErrorMessage } from \"../ui_messages/messages\";\nimport { NotificationContext } from \"../ui_messages/context\";\nimport Overridable from \"react-overridable\";\nimport { InvenioAdministrationActionsApi } from \"../api/actions\";\n\nclass DeleteModal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { loading: false, error: undefined };\n    this.cancelButton = React.createRef();\n  }\n\n  componentDidUpdate() {\n    this.cancelButton.current?.focus();\n  }\n\n  static contextType = NotificationContext;\n\n  cleanError = () => {\n    this.setState({ error: undefined });\n  };\n\n  handleOnButtonClick = async () => {\n    const { successCallback, apiEndpoint, toggleModal } = this.props;\n    const { addNotification } = this.context;\n    try {\n      await InvenioAdministrationActionsApi.deleteResource(apiEndpoint);\n      toggleModal(false);\n      addNotification({\n        title: \"Success\",\n        content: \"Resource was successfully deleted.\",\n        type: \"success\",\n      });\n      successCallback();\n    } catch (e) {\n      this.setState({\n        error: { header: \"Action error\", content: e.message, id: e.code },\n      });\n    }\n  };\n\n  resetErrorState = () => {\n    this.setState({ error: undefined });\n  };\n\n  render() {\n    const { loading, error } = this.state;\n    const { modalOpen, toggleModal, children, title } = this.props;\n    return (\n      <Overridable\n        id=\"DeleteModal.layout\"\n        {...this.props}\n        handleOnButtonClick={this.handleOnButtonClick}\n        cleanError={this.cleanError}\n        resetErrorState={this.resetErrorState}\n      >\n        <Modal role=\"dialog\" open={modalOpen}>\n          <Modal.Header as=\"h2\">\n            <Trans defaults=\"Delete {{title}}\" values={{ title: title }} />\n          </Modal.Header>\n          <Modal.Content>\n            <Modal.Description>\n              {children}\n              {!isEmpty(error) && (\n                <ErrorMessage {...error} removeNotification={this.resetErrorState} />\n              )}\n            </Modal.Description>\n          </Modal.Content>\n          <Modal.Actions>\n            <Button\n              ref={this.cancelButton}\n              icon=\"cancel\"\n              onClick={() => {\n                this.cleanError();\n                toggleModal(false);\n              }}\n              loading={loading}\n              content={i18next.t(\"Cancel\")}\n              floated=\"left\"\n              size=\"medium\"\n            />\n            <Button negative onClick={this.handleOnButtonClick} loading={loading}>\n              <Icon name=\"trash alternate\" />\n              {i18next.t(\"Delete\")}\n            </Button>\n          </Modal.Actions>\n        </Modal>\n      </Overridable>\n    );\n  }\n}\n\nDeleteModal.propTypes = {\n  title: PropTypes.string.isRequired,\n  apiEndpoint: PropTypes.string.isRequired,\n  successCallback: PropTypes.func.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n  modalOpen: PropTypes.bool.isRequired,\n  children: PropTypes.node,\n};\n\nDeleteModal.defaultProps = {\n  children: null,\n};\n\nexport default Overridable.component(\"DeleteModal\", DeleteModal);\n","// This file is part of InvenioAdministration\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { i18next } from \"@translations/invenio_administration/i18next\";\nimport { Button, Icon } from \"semantic-ui-react\";\nimport DeleteModal from \"./DeleteModal\";\nimport { Modal } from \"semantic-ui-react\";\nimport { Trans } from \"react-i18next\";\nimport _get from \"lodash/get\";\nimport Overridable from \"react-overridable\";\n\nexport class DeleteModalTrigger extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { modalOpen: false };\n  }\n\n  toggleModal = (open) => {\n    this.setState({ modalOpen: open });\n  };\n\n  render() {\n    const {\n      title,\n      resourceName,\n      apiEndpoint,\n      resource,\n      successCallback,\n      idKeyPath,\n      Element,\n      disabled,\n      disabledDeleteMessage,\n    } = this.props;\n    const { modalOpen } = this.state;\n    const triggerId = `delete-modal-trigger-${resource.id}`;\n    return (\n      <Overridable id=\"InvenioAdministration.DeleteModalTrigger\">\n        <>\n          <Element\n            id={triggerId}\n            disabled={disabled}\n            icon\n            negative\n            onClick={() => this.toggleModal(true)}\n            aria-label={i18next.t(\"Delete\")}\n            aria-controls=\"delete-modal\"\n            aria-expanded={modalOpen}\n            aria-haspopup=\"dialog\"\n            title={disabledDeleteMessage}\n          >\n            <Icon name=\"trash alternate\" />\n          </Element>\n          <DeleteModal\n            id=\"delete-modal\"\n            aria-labelledby={triggerId}\n            title={title}\n            apiEndpoint={apiEndpoint}\n            resource={resource}\n            successCallback={successCallback}\n            idKeyPath={idKeyPath}\n            toggleModal={this.toggleModal}\n            modalOpen={modalOpen}\n          >\n            <Modal.Content>\n              <Modal.Description>\n                <Trans\n                  defaults=\"Are you sure you want to delete {{resourceName}}? \"\n                  values={{ resourceName: _get(resource, resourceName) }}\n                />\n              </Modal.Description>\n            </Modal.Content>\n          </DeleteModal>\n        </>\n      </Overridable>\n    );\n  }\n}\n\nDeleteModalTrigger.propTypes = {\n  title: PropTypes.string.isRequired,\n  resourceName: PropTypes.string.isRequired,\n  apiEndpoint: PropTypes.string.isRequired,\n  resource: PropTypes.object.isRequired,\n  successCallback: PropTypes.func.isRequired,\n  Element: PropTypes.object,\n  idKeyPath: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  disabledDeleteMessage: PropTypes.string,\n};\n\nDeleteModalTrigger.defaultProps = {\n  Element: Button,\n  disabled: false,\n  disabledDeleteMessage: \"\",\n};\n","import PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { i18next } from \"@translations/invenio_administration/i18next\";\nimport { Button, Popup, Icon } from \"semantic-ui-react\";\nimport Overridable from \"react-overridable\";\n\nclass EditCmp extends Component {\n  render() {\n    const { display, editUrl, disable, disabledMessage, resource } = this.props;\n    if (!display) {\n      return null;\n    }\n    const disabled = disable(resource);\n\n    return (\n      <Popup\n        content={disabledMessage}\n        disabled={!disabled}\n        trigger={\n          <span className=\"mr-5\">\n            <Button as=\"a\" disabled={disabled} href={editUrl} icon labelPosition=\"left\">\n              <Icon name=\"pencil\" />\n              {i18next.t(\"Edit\")}\n            </Button>\n          </span>\n        }\n      />\n    );\n  }\n}\n\nEditCmp.propTypes = {\n  display: PropTypes.bool,\n  editUrl: PropTypes.string.isRequired,\n  disable: PropTypes.func,\n  disabledMessage: PropTypes.string,\n  resource: PropTypes.object,\n};\n\nEditCmp.defaultProps = {\n  display: true,\n  disable: () => false,\n  disabledMessage: i18next.t(\"Resource is not editable.\"),\n  resource: undefined,\n};\n\nexport default Overridable.component(\"InvenioAdministration.EditAction\", EditCmp);\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Modal } from \"semantic-ui-react\";\nimport { ActionForm } from \"../formik\";\nimport ActionModal from \"./ActionModal\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport Overridable from \"react-overridable\";\n\nclass ResourceActions extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalOpen: false,\n      modalHeader: undefined,\n      modalBody: undefined,\n    };\n  }\n\n  onModalTriggerClick = (e, { payloadSchema, dataName, dataActionKey }) => {\n    const { resource } = this.props;\n    this.setState({\n      modalOpen: true,\n      modalHeader: dataName,\n      modalBody: (\n        <ActionForm\n          actionKey={dataActionKey}\n          actionSchema={payloadSchema}\n          actionSuccessCallback={this.onModalClose}\n          actionCancelCallback={this.closeModal}\n          resource={resource}\n        />\n      ),\n    });\n  };\n\n  closeModal = () => {\n    this.setState({\n      modalOpen: false,\n      modalHeader: undefined,\n      modalBody: undefined,\n    });\n  };\n\n  onModalClose = () => {\n    const { successCallback } = this.props;\n    this.setState({\n      modalOpen: false,\n      modalHeader: undefined,\n      modalBody: undefined,\n    });\n    successCallback();\n  };\n\n  render() {\n    const { actions, Element, resource } = this.props;\n    const { modalOpen, modalHeader, modalBody } = this.state;\n    return (\n      <>\n        {Object.entries(actions).map(([actionKey, actionConfig]) => {\n          return (\n            <Element\n              key={actionKey}\n              onClick={this.onModalTriggerClick}\n              payloadSchema={actionConfig.payload_schema}\n              dataName={actionConfig.text}\n              dataActionKey={actionKey}\n              basic\n            >\n              {actionConfig.text}\n            </Element>\n          );\n        })}\n        <ActionModal modalOpen={modalOpen} resource={resource}>\n          {modalHeader && <Modal.Header>{modalHeader}</Modal.Header>}\n          {!_isEmpty(modalBody) && modalBody}\n        </ActionModal>\n      </>\n    );\n  }\n}\n\nResourceActions.propTypes = {\n  resource: PropTypes.object.isRequired,\n  successCallback: PropTypes.func.isRequired,\n  actions: PropTypes.shape({\n    text: PropTypes.string.isRequired,\n    payload_schema: PropTypes.object.isRequired,\n    order: PropTypes.number.isRequired,\n  }),\n  Element: PropTypes.node,\n};\n\nResourceActions.defaultProps = {\n  Element: Button,\n  actions: undefined,\n};\n\nexport default Overridable.component(\n  \"InvenioAdministration.ResourceActions\",\n  ResourceActions\n);\n","/*\n * This file is part of Invenio.\n * Copyright (C) 2022 CERN.\n *\n * Invenio is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { Icon } from \"semantic-ui-react\";\nimport Overridable from \"react-overridable\";\n\nclass BoolFormatter extends React.Component {\n  render() {\n    const { value, icon, color, tooltip } = this.props;\n    if (!value) {\n      return null;\n    }\n    return <Icon title={tooltip} name={icon} color={color} />;\n  }\n}\n\nBoolFormatter.propTypes = {\n  value: PropTypes.string.isRequired,\n  icon: PropTypes.string,\n  color: PropTypes.string,\n  tooltip: PropTypes.string,\n};\n\nBoolFormatter.defaultProps = {\n  icon: \"check\",\n  color: \"green\",\n};\n\nexport default Overridable.component(\n  \"InvenioAdministration.BoolFormatter\",\n  BoolFormatter\n);\n","/*\n * This file is part of Invenio.\n * Copyright (C) 2022 CERN.\n *\n * Invenio is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { DateTime } from \"luxon\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nclass DateFormatter extends React.Component {\n  render() {\n    const { value } = this.props;\n\n    if (!value) {\n      return null;\n    }\n\n    const date = DateTime.fromISO(value);\n    return (\n      <p data-testid=\"date-formatter\">{date.toLocaleString(DateTime.DATETIME_MED)}</p>\n    );\n  }\n}\n\nDateFormatter.propTypes = {\n  value: PropTypes.string.isRequired,\n};\n\nexport default DateFormatter;\n","/*\n * This file is part of Invenio.\n * Copyright (C) 2022 CERN.\n *\n * Invenio is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport _get from \"lodash/get\";\nimport DateFormatter from \"./DateFormatter\";\nimport BoolFormatter from \"./BoolFormatter\";\n\nconst elementTypeMap = {\n  datetime: DateFormatter,\n  date: DateFormatter,\n  bool: BoolFormatter,\n};\n\nclass Formatter extends React.Component {\n  render() {\n    const { resourceSchema, result, property, fieldSchema, ...uiProps } = this.props;\n\n    const resourceSchemaProperty = property.replace(/\\./g, \".properties.\");\n    const typePath = `${resourceSchemaProperty}.type`;\n\n    const type = _get(resourceSchema, typePath);\n    const Element = _get(elementTypeMap, type);\n    let value = _get(result, property, null);\n\n    if (fieldSchema?.escape) {\n      return <div dangerouslySetInnerHTML={{ __html: value }} />;\n    }\n\n    if (Element) {\n      return <Element value={value} {...uiProps} />;\n    } else {\n      return value;\n    }\n  }\n}\n\nFormatter.propTypes = {\n  resourceSchema: PropTypes.object.isRequired,\n  result: PropTypes.object.isRequired,\n  property: PropTypes.string.isRequired,\n  fieldSchema: PropTypes.object.isRequired,\n};\n\nexport default Formatter;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Form, Formik } from \"formik\";\nimport { InvenioAdministrationActionsApi } from \"../api/actions\";\nimport { Button, Modal } from \"semantic-ui-react\";\nimport { Form as SemanticForm } from \"semantic-ui-react\";\nimport _get from \"lodash/get\";\nimport { ErrorMessage } from \"../ui_messages\";\nimport isEmpty from \"lodash/isEmpty\";\nimport { GenerateForm } from \"./GenerateForm\";\nimport { deserializeFieldErrors } from \"../components/utils\";\nimport { i18next } from \"@translations/invenio_administration/i18next\";\n\nexport class ActionForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      error: undefined,\n      formData: {},\n    };\n  }\n\n  onSubmit = async (formData, actions) => {\n    this.setState({ loading: true });\n    const { actionKey, actionSuccessCallback } = this.props;\n    const actionEndpoint = this.getEndpoint(actionKey);\n\n    try {\n      const response = await InvenioAdministrationActionsApi.resourceAction(\n        actionEndpoint,\n        formData\n      );\n      this.setState({ loading: false });\n      actionSuccessCallback(response.data);\n    } catch (e) {\n      console.error(e);\n      this.setState({ loading: false });\n      let errorMessage = e.message;\n\n      // API errors need to be de-serialised to highlight fields.\n      const apiResponse = e?.response?.data;\n      if (apiResponse) {\n        const apiErrors = apiResponse.errors || [];\n        const deserializedErrors = deserializeFieldErrors(apiErrors);\n        actions.setErrors(deserializedErrors);\n        errorMessage = apiResponse.message || errorMessage;\n      }\n\n      this.setState({\n        error: { header: \"Action error\", content: errorMessage, id: e.code },\n      });\n    }\n  };\n\n  getEndpoint = (actionKey) => {\n    const { resource } = this.props;\n    let endpoint;\n    // get the action endpoint from the current resource links\n    endpoint = _get(resource, `links.actions[${actionKey}]`);\n\n    // endpoint can be also within links, not links.action\n    // TODO: handle it in a nicer way\n    if (isEmpty(endpoint)) {\n      endpoint = _get(resource, `links[${actionKey}]`);\n    }\n    if (!endpoint) {\n      console.error(\"Action endpoint not found in the resource!\");\n    }\n    return endpoint;\n  };\n\n  resetErrorState = () => {\n    this.setState({ error: undefined });\n  };\n\n  render() {\n    const { actionSchema, formFields, actionCancelCallback } = this.props;\n    const { loading, formData, error } = this.state;\n    return (\n      <Formik initialValues={formData} onSubmit={this.onSubmit}>\n        {(props) => (\n          <>\n            <Modal.Content>\n              <SemanticForm as={Form} id=\"action-form\" onSubmit={props.handleSubmit}>\n                <GenerateForm\n                  jsonSchema={actionSchema}\n                  formFields={actionSchema}\n                  create\n                  dropDumpOnly\n                />\n                {!isEmpty(error) && (\n                  <ErrorMessage {...error} removeNotification={this.resetErrorState} />\n                )}\n              </SemanticForm>\n            </Modal.Content>\n\n            <Modal.Actions>\n              <Button type=\"submit\" primary form=\"action-form\" loading={loading}>\n                {i18next.t(\"Save\")}\n              </Button>\n              <Button\n                onClick={actionCancelCallback}\n                floated=\"left\"\n                icon=\"cancel\"\n                labelPosition=\"left\"\n                content={i18next.t(\"Cancel\")}\n              />\n            </Modal.Actions>\n          </>\n        )}\n      </Formik>\n    );\n  }\n}\n\nActionForm.propTypes = {\n  resource: PropTypes.object.isRequired,\n  actionSchema: PropTypes.object.isRequired,\n  actionKey: PropTypes.string.isRequired,\n  actionSuccessCallback: PropTypes.func.isRequired,\n  actionCancelCallback: PropTypes.func.isRequired,\n  formFields: PropTypes.object,\n};\n\nActionForm.defaultProps = {\n  formFields: {},\n};\n","import _get from \"lodash/get\";\n\nconst AdminUIRoutesGenerators = {\n  detailsView: (routePrefix, resource, idKeyPath = \"pid\") => {\n    return `${routePrefix}/${_get(resource, idKeyPath)}`;\n  },\n  editView: (routePrefix, resource, idKeyPath = \"pid\") => {\n    return `${routePrefix}/${_get(resource, idKeyPath)}/edit`;\n  },\n};\n\nexport const AdminUIRoutes = {\n  ...AdminUIRoutesGenerators,\n};\n"],"names":["ActionModal","_Component","_classCallCheck","_callSuper","arguments","_inherits","_createClass","key","value","_this$props","this","props","children","modalOpen","resource","React","Overridable","id","Modal","role","open","Component","propTypes","PropTypes","isRequired","defaultProps","component","Actions","title","resourceName","actions","successCallback","idKeyPath","editUrl","displayEdit","displayDelete","displayAsDropdown","Object","keys","length","Dropdown","isEmpty","ResourceActions","Element","Item","trigger","Button","icon","size","className","i18next","t","Edit","DeleteModalTrigger","apiEndpoint","_get","Delete","DeleteCmp","disabledMessage","disable","disabled","Popup","content","disabledDeleteMessage","DeleteModal","_this","_defineProperty","setState","error","undefined","_asyncToGenerator","_regeneratorRuntime","_callee","toggleModal","addNotification","_context","prev","next","context","InvenioAdministrationActionsApi","deleteResource","type","t0","header","message","code","stop","state","loading","cancelButton","_this$cancelButton$cu","current","focus","_this2","_this$state","_this$props2","_extends","handleOnButtonClick","cleanError","resetErrorState","Header","as","Trans","defaults","values","Content","Description","ErrorMessage","removeNotification","ref","onClick","floated","negative","Icon","name","NotificationContext","triggerId","concat","EditCmp","display","href","labelPosition","e","_ref","payloadSchema","dataName","dataActionKey","modalHeader","modalBody","ActionForm","actionKey","actionSchema","actionSuccessCallback","onModalClose","actionCancelCallback","closeModal","entries","map","_ref2","_ref3","_slicedToArray","actionConfig","onModalTriggerClick","payload_schema","text","basic","_isEmpty","order","BoolFormatter","_React$Component","color","tooltip","DateFormatter","date","DateTime","fromISO","toLocaleString","DATETIME_MED","elementTypeMap","datetime","bool","Formatter","resourceSchema","result","property","fieldSchema","uiProps","_objectWithoutProperties","_excluded","resourceSchemaProperty","replace","typePath","escape","dangerouslySetInnerHTML","__html","formData","actionEndpoint","response","_e$response","errorMessage","apiResponse","apiErrors","deserializedErrors","getEndpoint","resourceAction","sent","data","console","errors","deserializeFieldErrors","setErrors","_x","_x2","apply","endpoint","formFields","Formik","initialValues","onSubmit","SemanticForm","Form","handleSubmit","GenerateForm","jsonSchema","create","dropDumpOnly","primary","form","AdminUIRoutes","_objectSpread","detailsView","routePrefix","editView"],"sourceRoot":""}