"use strict";(self.webpackChunkinvenio_assets=self.webpackChunkinvenio_assets||[]).push([[8389],{8322:(e,t,a)=>{var i=a(45458),n=a(80296),r=a(96540),l=a(40961),s=a(11990),o=a(81057),c=function(){return r.createElement("div",{className:"ui label small horizontal access-status restricted",title:s.M.t("Collection visibility"),"data-tooltip":s.M.t("The collection is restricted to users with access."),"data-inverted":"","data-position":"top right"},r.createElement("i",{className:"icon ban","aria-hidden":"true"})," ",s.M.t("Restricted"))},m=a(16767),d=a.n(m),u=a(5556),h=function(e){var t=e.activeMenuItem,a=e.canModerate,l=e.canRead,m=e.canSearchRequests,u=e.canUpdate,h=e.communityLogoUrl,b=e.communityTitle,p=e.communityType,y=e.hasCurationPolicyContent,g=e.hasAboutContent,v=e.organizations,f=e.rorIconUrl,w=e.slug,E=e.visibility,T=e.website,N="";if(console.log("logo",h),["/static/images/square-placeholder.png",void 0,null].includes(h)){var C=(N=d().generate(w)).color.match(/\w\w/g).map((function(e){return parseInt(e,16)})),A=(0,n.A)(C,3),k=A[0],S=A[1],I=A[2];document.getElementsByClassName("page-subheader-outer")[0].style.backgroundColor="rgba( ".concat(k,", ").concat(S,", ").concat(I,", ").concat(.1," )")}var L=[{name:"search",text:"Works",icon:"file alternate",permissions:l,url:"/collections/".concat(w)},{name:"members",text:"Members",icon:"users",permissions:l,url:"/collections/".concat(w,"/members")},{name:"requests",text:"Requests",icon:"inbox",permissions:m,url:"/collections/".concat(w,"/requests")},{name:"settings",text:"Settings",icon:"settings",permissions:u,url:"/collections/".concat(w,"/settings")}];y&&(L=[].concat((0,i.A)(L.slice(0,1)),[{name:"curation_policy",text:"Curation policy",icon:"balance scale",permissions:l,url:"/collections/".concat(w,"/curation-policy")}],(0,i.A)(L.slice(1)))),g&&(L=[{name:"about",text:"About",icon:"info",permissions:l,url:"/collections/".concat(w,"/about")}].concat((0,i.A)(L))),console.log("canRead",l),console.log("canSearchRequests",m),console.log("canUpdate",u),console.log("canModerate",a);var M=L.filter((function(e){return!!e.permissions}));return console.log("menu_items",M),r.createElement("div",{class:"ui container relaxed grid page-subheader mr-0-mobile ml-0-mobile"},r.createElement("div",{className:"row pb-0"},r.createElement("div",{className:"sixteen wide mobile sixteen wide tablet thirteen wide computer column"},r.createElement("div",{className:"community-header flex align-items-center column-mobile align-items-start-mobile"},r.createElement("div",{className:"flex align-items-center"},r.createElement("div",{className:"ui rounded image community-image mt-5 rel-mr-2"},r.createElement(o.Image,{src:"/static/images/square-placeholder.png"!==h?h:"/static/images/square-placeholder-fake.png",alt:"logo for ".concat(b," collection"),className:"rel-mb-1",fallbackSrc:""!==N?N.toDataUri():""})),r.createElement("div",{className:"mobile only"},r.createElement("h1",{className:"ui medium header mb-5"},b))),r.createElement("div",null,r.createElement("div",{className:"flex align-items-center mb-5 tablet computer only"},r.createElement("h1",{className:"ui medium header mb-0"},b),"restricted"==E&&r.createElement("div",{className:"rel-ml-1"},r.createElement(c,null))),r.createElement("div",null,"restricted"==E&&r.createElement("div",{className:"mobile only rel-mb-1"},r.createElement(c,null)),T&&r.createElement("div",{className:"inline-computer mt-5 rel-mr-1"},r.createElement("i",{className:"linkify icon","aria-hidden":"true"}),r.createElement("a",{href:T},T)),p&&r.createElement("div",{className:"inline-computer mt-5 rel-mr-1"},r.createElement("i",{className:"tag icon","aria-hidden":"true"}),r.createElement("span",{className:"label label-keyword"},p)),v&&v.map((function(e,t){return r.createElement("div",{className:"inline-computer mt-5",key:t},0==t&&r.createElement("i",{className:"building outline icon","aria-hidden":"true"}),e.name,e.id&&r.createElement("a",{href:"https://ror.org/".concat(e.id),"aria-label":"".concat(e.name,"'s ROR ").concat(s.M.t("profile")),title:"".concat(e.name,"'s ROR ").concat(s.M.t("profile")),target:"_blank"},r.createElement("img",{className:"inline-id-icon",src:f,alt:""})),t<=v.length-2&&r.createElement("span",null,",\xa0"))})))))),r.createElement("div",{className:"sixteen wide mobile sixteen wide tablet three wide computer right aligned column"},r.createElement("a",{href:"/uploads/new?community=".concat(w),className:"ui positive button labeled icon rel-mt-1 theme-secondary"},r.createElement("i",{className:"upload icon","aria-hidden":"true"}),s.M.t("Contribute a work")),a&&r.createElement("a",{href:"/administration/communities?q=slug:".concat(w),className:"ui button labeled icon rel-mt-1"},r.createElement("i",{className:"cog icon","aria-hidden":"true"}),s.M.t("Manage collection")))),r.createElement("div",{className:"ui divider mobile only"}),r.createElement("div",{className:"ui container secondary pointing stackable menu page-subheader pl-0 pr-0 theme-primary"},M.map((function(e){return r.createElement("a",{className:"item ".concat(t===e.name||"search"===t&&"records"===e.name?"active":""),href:e.url},r.createElement("i",{"aria-hidden":"true",className:"".concat(e.icon," icon")}),e.text)}))))};h.propTypes={communityLogoUrl:u.PropTypes.string,communityTitle:u.PropTypes.string.isRequired,communityType:u.PropTypes.string,organizations:u.PropTypes.array,rorIconUrl:u.PropTypes.string.isRequired,slug:u.PropTypes.string.isRequired,visibility:u.PropTypes.string,website:u.PropTypes.string},document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("community-detail-header");console.log("headerContainer.dataset",e.dataset);var t=e.dataset.activeMenuItem,a="True"===e.dataset.canModerate,i="True"===e.dataset.canRead,n="True"===e.dataset.canSearchRequests,s="True"===e.dataset.canUpdate,o=e.dataset.communityLogoUrl,c=e.dataset.communityTitle,m=e.dataset.communityType,d=e.dataset.hasCurationPolicyContent,u=e.dataset.hasAboutContent,b=JSON.parse(e.dataset.organizations),p=e.dataset.rorIconUrl,y=e.dataset.slug,g=e.dataset.visibility,v=e.dataset.website;e&&l.render(r.createElement(h,{canModerate:a,canRead:i,canSearchRequests:n,canUpdate:s,communityLogoUrl:o,communityTitle:c,communityType:m,organizations:b,rorIconUrl:p,slug:y,visibility:g,website:v,hasCurationPolicyContent:d,hasAboutContent:u,activeMenuItem:t}),e)}))},11990:(e,t,a)=>{a.d(t,{M:()=>m});var i=a(47127),n=a(17508);const r=JSON.parse('{"Copy to clipboard":"Copy to clipboard","Copied!":"Copied!","This set is not editable as it was created by the system.":"This set is not editable as it was created by the system.","This set is not deletable as it was created by the system.":"This set is not deletable as it was created by the system.","Links":"Links","Format":"Format","List records":"List records","Opens in new tab":"Opens in new tab","List identifiers":"List identifiers","Before deleting, make sure to alert all harvesters that this set will no longer be available.":"Before deleting, make sure to alert all harvesters that this set will no longer be available.","I have alerted all harvesters that this set will no longer be available.":"I have alerted all harvesters that this set will no longer be available.","Cancel":"Cancel","Delete":"Delete","Delete {{title}}":"Delete {{title}}","This will delete the set \'{{title}}\'.":"This will delete the set \'{{title}}\'."}'),l=JSON.parse('{"Copy to clipboard":"","Copied!":"","This set is not editable as it was created by the system.":"","This set is not deletable as it was created by the system.":"","Links":"","Format":"","List records":"","Opens in new tab":"","List identifiers":"","Before deleting, make sure to alert all harvesters that this set will no longer be available.":"","I have alerted all harvesters that this set will no longer be available.":"","Cancel":"","Delete":"","Delete {{title}}":"Delete {{title}}","This will delete the set \'{{title}}\'.":"This will delete the set \'{{title}}\'."}');var s={el:{translation:JSON.parse('{"Copy to clipboard":"","Copied!":"","This set is not editable as it was created by the system.":"","This set is not deletable as it was created by the system.":"","Links":"","Format":"","List records":"","Opens in new tab":"","List identifiers":"","Before deleting, make sure to alert all harvesters that this set will no longer be available.":"","I have alerted all harvesters that this set will no longer be available.":"","Cancel":"","Delete":"","Delete {{title}}":"Delete {{title}}","This will delete the set \'{{title}}\'.":"This will delete the set \'{{title}}\'."}')},en:{translation:r},de:{translation:l}},o=a(65414),c={fallbackLng:"en",returnEmptyString:!1,debug:!1,resources:s,keySeparator:!1,nsSeparator:!1,detection:{order:["htmlTag"],caches:[]},react:{transKeepBasicHtmlNodesFor:[]}},m=i.A.createInstance();m.use(n.A).use(o.r9).init(c)},43145:(e,t,a)=>{function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}a.d(t,{A:()=>i})},80296:(e,t,a)=>{a.d(t,{A:()=>n});var i=a(27800);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i,n,r,l,s=[],o=!0,c=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;o=!1}else for(;!(o=(i=r.call(a)).done)&&(s.push(i.value),s.length!==t);o=!0);}catch(e){c=!0,n=e}finally{try{if(!o&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(c)throw n}}return s}}(e,t)||(0,i.A)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},45458:(e,t,a)=>{a.d(t,{A:()=>r});var i=a(43145);var n=a(27800);function r(e){return function(e){if(Array.isArray(e))return(0,i.A)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,n.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},27800:(e,t,a)=>{a.d(t,{A:()=>n});var i=a(43145);function n(e,t){if(e){if("string"===typeof e)return(0,i.A)(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?(0,i.A)(e,t):void 0}}}},e=>{e.O(0,[402,1057,7655,73,6767],(()=>{return t=8322,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=invenio-communities-header.f7552fcad70359af16f8.js.map