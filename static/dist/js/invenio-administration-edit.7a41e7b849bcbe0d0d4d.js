"use strict";(self.webpackChunkinvenio_assets=self.webpackChunkinvenio_assets||[]).push([[1709],{51826:(e,r,t)=>{t.d(r,{A:()=>A});var n=t(23029),o=t(92901),c=t(56822),a=t(53954),i=t(85501),u=t(5556),s=t.n(u),l=t(96540),p=t(76217),d=t(53196);function f(e,r,t){return r=(0,a.A)(r),(0,c.A)(e,m()?Reflect.construct(r,t||[],(0,a.A)(e).constructor):r.apply(e,t))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}var v=function(e){function r(){return(0,n.A)(this,r),f(this,r,arguments)}return(0,i.A)(r,e),(0,o.A)(r,[{key:"render",value:function(){var e=this.props,r=e.value,t=e.icon,n=e.color,o=e.tooltip;return r?l.createElement(p.A,{title:o,name:t,color:n}):null}}])}(l.Component);v.propTypes={value:s().string.isRequired,icon:s().string,color:s().string,tooltip:s().string},v.defaultProps={icon:"check",color:"green"};const A=d.default.component("InvenioAdministration.BoolFormatter",v)},90462:(e,r,t)=>{t.d(r,{A:()=>v});var n=t(23029),o=t(92901),c=t(56822),a=t(53954),i=t(85501),u=t(91272),s=t(5556),l=t.n(s),p=t(96540);function d(e,r,t){return r=(0,a.A)(r),(0,c.A)(e,f()?Reflect.construct(r,t||[],(0,a.A)(e).constructor):r.apply(e,t))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}var m=function(e){function r(){return(0,n.A)(this,r),d(this,r,arguments)}return(0,i.A)(r,e),(0,o.A)(r,[{key:"render",value:function(){var e=this.props.value;if(!e)return null;var r=u.DateTime.fromISO(e);return p.createElement("p",{"data-testid":"date-formatter"},r.toLocaleString(u.DateTime.DATETIME_MED))}}])}(p.Component);m.propTypes={value:l().string.isRequired};const v=m},56954:(e,r,t)=>{t.d(r,{A:()=>S});var n=t(58168),o=t(80045),c=t(23029),a=t(92901),i=t(56822),u=t(53954),s=t(85501),l=t(96540),p=t(5556),d=t.n(p),f=t(58156),m=t.n(f),v=t(90462),A=t(51826),h=["resourceSchema","result","property","fieldSchema"];function y(e,r,t){return r=(0,u.A)(r),(0,i.A)(e,E()?Reflect.construct(r,t||[],(0,u.A)(e).constructor):r.apply(e,t))}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}var g={datetime:v.A,date:v.A,bool:A.A},R=function(e){function r(){return(0,c.A)(this,r),y(this,r,arguments)}return(0,s.A)(r,e),(0,a.A)(r,[{key:"render",value:function(){var e=this.props,r=e.resourceSchema,t=e.result,c=e.property,a=e.fieldSchema,i=(0,o.A)(e,h),u=c.replace(/\./g,".properties."),s="".concat(u,".type"),p=m()(r,s),d=m()(g,p),f=m()(t,c,null);return null!==a&&void 0!==a&&a.escape?l.createElement("div",{dangerouslySetInnerHTML:{__html:f}}):d?l.createElement(d,(0,n.A)({value:f},i)):f}}])}(l.Component);R.propTypes={resourceSchema:d().object.isRequired,result:d().object.isRequired,property:d().string.isRequired,fieldSchema:d().object.isRequired};const S=R},75785:(e,r,t)=>{t.d(r,{A:()=>h});var n=t(58168),o=t(23029),c=t(92901),a=t(56822),i=t(53954),u=t(85501),s=t(96540),l=t(53196),p=t(6549),d=t(5556),f=t.n(d);function m(e,r,t){return r=(0,i.A)(r),(0,a.A)(e,v()?Reflect.construct(r,t||[],(0,i.A)(e).constructor):r.apply(e,t))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}var A=function(e){function r(){return(0,o.A)(this,r),m(this,r,arguments)}return(0,u.A)(r,e),(0,c.A)(r,[{key:"render",value:function(){var e=this.props,r=e.isLoading,t=e.children;return s.createElement(l.default,(0,n.A)({id:"Admin.Loader.layout"},this.props),r?s.createElement(p.A,{active:!0,size:"huge",inline:"centered"}):s.createElement(s.Fragment,null,t))}}])}(s.Component);A.propTypes={isLoading:f().bool,children:f().node},A.defaultProps={isLoading:!1,children:null};const h=l.default.component("Loader",A)},11813:(e,r,t)=>{t.d(r,{Dp:()=>o.A,pw:()=>n.A,M:()=>k,aH:()=>c.A});var n=t(90462),o=t(51826),c=(t(56954),t(75785)),a=t(58168),i=t(23029),u=t(92901),s=t(56822),l=t(53954),p=t(85501),d=t(96540),f=t(27089),m=t(27041),v=t(76217),A=t(53196),h=t(5556),y=t.n(h),E=t(87229);function g(e,r,t){return r=(0,l.A)(r),(0,s.A)(e,R()?Reflect.construct(r,t||[],(0,l.A)(e).constructor):r.apply(e,t))}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(R=function(){return!!e})()}var S=function(e){function r(){return(0,i.A)(this,r),g(this,r,arguments)}return(0,p.A)(r,e),(0,u.A)(r,[{key:"render",value:function(){var e=this.props,r=e.errorCode,t=e.errorMessage,n=e.error,o=e.children;return d.createElement(A.default,(0,a.A)({id:"Admin.ErrorPage.layout"},this.props),n?d.createElement(f.A,{textAlign:"center",className:"error-handler"},d.createElement(m.A,{as:"h1",icon:!0},d.createElement(v.A,{name:"warning",circular:!0}),r,d.createElement(m.A.Subheader,null,t))):d.createElement(d.Fragment,null,o))}}])}(d.Component);S.propTypes={errorCode:y().string,errorMessage:y().string,error:y().bool,children:y().element},S.defaultProps={errorCode:E.M.t("Error"),errorMessage:E.M.t("Server was not able to process your request."),error:!1,children:void 0};const k=A.default.component("ErrorPage",S)},52025:(e,r,t)=>{t.d(r,{o:()=>b});var n=t(10467),o=t(23029),c=t(92901),a=t(56822),i=t(53954),u=t(85501),s=t(64467),l=t(54756),p=t.n(l),d=t(96540),f=t(5556),m=t.n(f),v=t(90196),A=t(1489),h=t(34903),y=t(75785),E=t(11813),g=t(62193),R=t.n(g);function S(e,r,t){return r=(0,i.A)(r),(0,a.A)(e,k()?Reflect.construct(r,t||[],(0,i.A)(e).constructor):r.apply(e,t))}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}var b=function(e){function r(e){var t;return(0,o.A)(this,r),t=S(this,r,[e]),(0,s.A)(t,"getResource",(0,n.A)(p().mark((function e(){var r,n,o,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,n=r.apiEndpoint,o=r.pid,e.prev=1,e.next=4,v.Y.getResource(n,o);case 4:c=e.sent,t.setState({loading:!1,resource:c.data,error:void 0}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),t.setState({error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))),(0,s.A)(t,"handleOnEditSuccess",(function(){var e=t.props.listUIEndpoint;window.location.replace(e)})),t.state={loading:!0,resource:void 0,error:void 0},t}return(0,u.A)(r,e),(0,c.A)(r,[{key:"componentDidMount",value:function(){this.getResource()}},{key:"render",value:function(){var e=this.props,r=e.resourceSchema,t=e.apiEndpoint,n=e.pid,o=e.formFields,c=this.state,a=c.loading,i=c.resource,u=c.error;return d.createElement(y.A,{isLoading:a},d.createElement(E.M,{error:!R()(u),errorCode:null===u||void 0===u?void 0:u.response.status,errorMessage:null===u||void 0===u?void 0:u.response.data},d.createElement(A.A,null,d.createElement(A.A.Column,{width:12},d.createElement(h.o,{resourceSchema:r,resource:i,apiEndpoint:t,formFields:o,pid:n,successCallback:this.handleOnEditSuccess})))))}}])}(d.Component);b.propTypes={resourceSchema:m().object.isRequired,apiEndpoint:m().string.isRequired,pid:m().string.isRequired,formFields:m().object,listUIEndpoint:m().string.isRequired},b.defaultProps={formFields:void 0}},59342:(e,r,t)=>{var n=t(96540),o=t(40961),c=t(52025),a=t(58156),i=t.n(a),u=t(85544),s=document.getElementById("invenio-administration-edit-root"),l=JSON.parse(s.dataset.resourceSchema),p=i()(s.dataset,"apiEndpoint"),d=JSON.parse(s.dataset.pid),f=JSON.parse(s.dataset.formFields),m=s.dataset.listEndpoint;o.render(n.createElement(u.e,null,n.createElement(c.o,{resourceSchema:l,apiEndpoint:p,formFields:f,pid:d,listUIEndpoint:m})),s)}},e=>{e.O(0,[402,1057,7655,9611,4903],(()=>{return r=59342,e(e.s=r);var r}));e.O()}]);
//# sourceMappingURL=invenio-administration-edit.7a41e7b849bcbe0d0d4d.js.map