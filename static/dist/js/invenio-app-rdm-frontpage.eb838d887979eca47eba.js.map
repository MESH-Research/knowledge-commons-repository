{"version":3,"file":"js/invenio-app-rdm-frontpage.eb838d887979eca47eba.js","mappings":"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","sources":["webpack://invenio-assets/./js/invenio_app_rdm/components/CompactStats.js","webpack://invenio-assets/./js/invenio_app_rdm/components/DisplayPartOfCommunities.js","webpack://invenio-assets/./js/invenio_app_rdm/components/DisplayVerifiedCommunity.js","webpack://invenio-assets/./js/invenio_app_rdm/components/RecordsResultsListItem.js","webpack://invenio-assets/./js/invenio_app_rdm/frontpage/RecordsList.js","webpack://invenio-assets/./js/invenio_app_rdm/frontpage/index.js","webpack://invenio-assets/./js/invenio_app_rdm/utils.js"],"sourcesContent":["// This file is part of InvenioRDM\n// Copyright (C) 2022 CERN.\n//\n// Invenio App RDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { Icon, Label, Popup } from \"semantic-ui-react\";\n\nexport const CompactStats = ({ uniqueViews, uniqueDownloads }) => {\n  return (\n    <>\n      {uniqueViews != null && (\n        <Popup\n          size=\"tiny\"\n          content={i18next.t(\"Views\")}\n          trigger={\n            <Label className=\"transparent\">\n              <Icon name=\"eye\" />\n              {uniqueViews}\n            </Label>\n          }\n        />\n      )}\n      {uniqueDownloads != null && (\n        <Popup\n          size=\"tiny\"\n          content={i18next.t(\"Downloads\")}\n          trigger={\n            <Label className=\"transparent\">\n              <Icon name=\"download\" />\n              {uniqueDownloads}\n            </Label>\n          }\n        />\n      )}\n    </>\n  );\n};\n\nCompactStats.propTypes = {\n  uniqueViews: PropTypes.number,\n  uniqueDownloads: PropTypes.number,\n};\n\nCompactStats.defaultProps = {\n  uniqueViews: null,\n  uniqueDownloads: null,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2024-2024 CERN.\n//\n// Invenio App RDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\n\nexport const DisplayPartOfCommunities = ({ communities }) => {\n  const PartOfCommunities = () => {\n    // FIXME: Uncomment to enable themed banner\n    // const communitiesEntries = communities.entries?.filter((community) => !(community.id === communities?.default && community?.theme));\n    const communitiesEntries = communities.entries;\n\n    if (communitiesEntries?.length > 0) {\n      return (\n        <>\n          {i18next.t(\"Part of \")}\n          {communitiesEntries.map((community, index) => {\n            return (\n              <>\n                <a href={`/communities/${community.slug}`}>\n                  {community.metadata?.title}\n                </a>\n                {index !== communitiesEntries.length - 1 && \", \"}\n              </>\n            );\n          })}\n        </>\n      );\n    }\n  };\n  return (\n    <p>\n      <b>{PartOfCommunities()}</b>\n    </p>\n  );\n};\n\nDisplayPartOfCommunities.propTypes = {\n  communities: PropTypes.object.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2024-2024 CERN.\n//\n// Invenio App RDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Label, Image } from \"semantic-ui-react\";\n\nexport const DisplayVerifiedCommunity = ({ communities }) => {\n  const filterBrandedCommunity = (parentCommunities) => {\n    const brandedCommunityId = parentCommunities?.default;\n    const communities = parentCommunities?.entries;\n    let displayCommunity = null;\n\n    if (communities) {\n      communities.map((community) => {\n        if (community.id === brandedCommunityId && community?.theme) {\n          displayCommunity = community;\n        }\n        return displayCommunity;\n      });\n    }\n\n    return displayCommunity;\n  };\n\n  const verifiedCommunity = filterBrandedCommunity(communities);\n  return (\n    <>\n      {verifiedCommunity && (\n        <Label\n          as=\"a\"\n          href={`/communities/${verifiedCommunity.slug}`}\n          style={{ backgroundColor: verifiedCommunity?.theme?.style?.primaryColor }}\n          className=\"themed-community-label\"\n        >\n          {verifiedCommunity.metadata.title}\n          <Image\n            className=\"themed-community-logo right-floated\"\n            src={`/api/communities/${verifiedCommunity.slug}/logo`}\n            alt=\"\"\n          />\n        </Label>\n      )}\n    </>\n  );\n};\n\nDisplayVerifiedCommunity.propTypes = {\n  communities: PropTypes.object.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2022-2024 CERN.\n//\n// Invenio RDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport _get from \"lodash/get\";\nimport _truncate from \"lodash/truncate\";\nimport React, { Component } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { SearchItemCreators } from \"../utils\";\nimport PropTypes from \"prop-types\";\nimport { Item, Label, Icon } from \"semantic-ui-react\";\nimport { buildUID } from \"react-searchkit\";\nimport { CompactStats } from \"./CompactStats\";\nimport { DisplayVerifiedCommunity } from \"./DisplayVerifiedCommunity\";\nimport { DisplayPartOfCommunities } from \"./DisplayPartOfCommunities\";\n\nclass RecordsResultsListItem extends Component {\n  render() {\n    const { currentQueryState, result, key, appName } = this.props;\n\n    const accessStatusId = _get(result, \"ui.access_status.id\", \"open\");\n    const accessStatus = _get(result, \"ui.access_status.title_l10n\", \"Open\");\n    const accessStatusIcon = _get(result, \"ui.access_status.icon\", \"unlock\");\n    const createdDate = _get(\n      result,\n      \"ui.created_date_l10n_long\",\n      \"No creation date found.\"\n    );\n\n    const creators = result.ui.creators.creators;\n\n    const descriptionStripped = _get(\n      result,\n      \"ui.description_stripped\",\n      \"No description\"\n    );\n\n    const publicationDate = _get(\n      result,\n      \"ui.publication_date_l10n_long\",\n      \"No publication date found.\"\n    );\n    const resourceType = _get(\n      result,\n      \"ui.resource_type.title_l10n\",\n      \"No resource type\"\n    );\n    const subjects = _get(result, \"ui.subjects\", []);\n    const title = _get(result, \"metadata.title\", \"No title\");\n    const version = _get(result, \"ui.version\", null);\n    const versions = _get(result, \"versions\");\n    const uniqueViews = _get(result, \"stats.all_versions.unique_views\", 0);\n    const uniqueDownloads = _get(result, \"stats.all_versions.unique_downloads\", 0);\n\n    const publishingInformation = _get(result, \"ui.publishing_information.journal\", \"\");\n\n    const filters = currentQueryState && Object.fromEntries(currentQueryState.filters);\n    const allVersionsVisible = filters?.allversions;\n    const numOtherVersions = versions.index - 1;\n\n    // Derivatives\n    const viewLink = `/records/${result.id}`;\n    return (\n      <Overridable\n        id={buildUID(\"RecordsResultsListItem.layout\", \"\", appName)}\n        result={result}\n        key={key}\n        accessStatusId={accessStatusId}\n        accessStatus={accessStatus}\n        accessStatusIcon={accessStatusIcon}\n        createdDate={createdDate}\n        creators={creators}\n        descriptionStripped={descriptionStripped}\n        publicationDate={publicationDate}\n        resourceType={resourceType}\n        subjects={subjects}\n        title={title}\n        version={version}\n        versions={versions}\n        allVersionsVisible={allVersionsVisible}\n        numOtherVersions={numOtherVersions}\n      >\n        <Item key={key ?? result.id}>\n          <Item.Content>\n            {/* FIXME: Uncomment to enable themed banner */}\n            {/* <DisplayVerifiedCommunity communities={result.parent?.communities} /> */}\n            <Item.Extra className=\"labels-actions\">\n              <Label horizontal size=\"small\" className=\"primary\">\n                {publicationDate} ({version})\n              </Label>\n              <Label horizontal size=\"small\" className=\"neutral\">\n                {resourceType}\n              </Label>\n              <Label\n                horizontal\n                size=\"small\"\n                className={`access-status ${accessStatusId}`}\n              >\n                {accessStatusIcon && <Icon name={accessStatusIcon} />}\n                {accessStatus}\n              </Label>\n            </Item.Extra>\n            <Item.Header as=\"h2\">\n              <a href={viewLink}>{title}</a>\n            </Item.Header>\n            <Item className=\"creatibutors\">\n              <SearchItemCreators creators={creators} othersLink={viewLink} />\n            </Item>\n            <Item.Description>\n              {_truncate(descriptionStripped, { length: 350 })}\n            </Item.Description>\n            <Item.Extra>\n              {subjects.map((subject) => (\n                <Label key={subject.title_l10n} size=\"tiny\">\n                  {subject.title_l10n}\n                </Label>\n              ))}\n\n              <div className=\"flex justify-space-between align-items-end\">\n                <small>\n                  <DisplayPartOfCommunities communities={result.parent?.communities} />\n                  <p>\n                    {createdDate && (\n                      <>\n                        {i18next.t(\"Uploaded on {{uploadDate}}\", {\n                          uploadDate: createdDate,\n                        })}\n                      </>\n                    )}\n                    {createdDate && publishingInformation && \" | \"}\n\n                    {publishingInformation && (\n                      <>\n                        {i18next.t(\"Published in: {{publishInfo}}\", {\n                          publishInfo: publishingInformation,\n                        })}\n                      </>\n                    )}\n                  </p>\n\n                  {!allVersionsVisible && versions.index > 1 && (\n                    <p>\n                      <b>\n                        {i18next.t(\"{{count}} more versions exist for this record\", {\n                          count: numOtherVersions,\n                        })}\n                      </b>\n                    </p>\n                  )}\n                </small>\n\n                <small>\n                  <CompactStats\n                    uniqueViews={uniqueViews}\n                    uniqueDownloads={uniqueDownloads}\n                  />\n                </small>\n              </div>\n            </Item.Extra>\n          </Item.Content>\n        </Item>\n      </Overridable>\n    );\n  }\n}\n\nRecordsResultsListItem.propTypes = {\n  currentQueryState: PropTypes.object,\n  result: PropTypes.object.isRequired,\n  key: PropTypes.string,\n  appName: PropTypes.string,\n};\n\nRecordsResultsListItem.defaultProps = {\n  key: null,\n  currentQueryState: null,\n  appName: \"\",\n};\n\nexport default Overridable.component(\"RecordsResultsListItem\", RecordsResultsListItem);\n","// This file is part of InvenioRDM\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { withCancel, http } from \"react-invenio-forms\";\nimport {\n  Placeholder,\n  Divider,\n  Container,\n  Header,\n  Item,\n  Button,\n  Message,\n} from \"semantic-ui-react\";\nimport Overridable from \"react-overridable\";\nimport RecordsResultsListItem from \"@js/invenio_app_rdm/components/RecordsResultsListItem\";\nimport isEmpty from \"lodash/isEmpty\";\nimport { buildUID } from \"react-searchkit\";\n\nexport class RecordsList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: { hits: [] },\n      isLoading: false,\n      error: null,\n    };\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentWillUnmount() {\n    this.cancellableFetch && this.cancellableFetch.cancel();\n  }\n\n  fetchData = async () => {\n    const { fetchUrl } = this.props;\n    this.setState({ isLoading: true });\n\n    this.cancellableFetch = withCancel(\n      http.get(fetchUrl, {\n        headers: {\n          Accept: \"application/vnd.inveniordm.v1+json\",\n        },\n      })\n    );\n\n    try {\n      const response = await this.cancellableFetch.promise;\n      this.setState({ data: response.data.hits, isLoading: false });\n    } catch (error) {\n      console.error(error);\n      this.setState({ error: error.response.data.message, isLoading: false });\n    }\n  };\n\n  renderPlaceHolder = () => {\n    const { title } = this.props;\n\n    return (\n      <Container>\n        <Header as=\"h2\">{title}</Header>\n        {Array.from(Array(10)).map((item, index) => (\n          <div key={index}>\n            <Placeholder fluid className=\"rel-mt-3\">\n              <Placeholder.Header>\n                <Placeholder.Line />\n              </Placeholder.Header>\n\n              <Placeholder.Paragraph>\n                <Placeholder.Line />\n              </Placeholder.Paragraph>\n\n              <Placeholder.Paragraph>\n                <Placeholder.Line />\n                <Placeholder.Line />\n                <Placeholder.Line />\n              </Placeholder.Paragraph>\n            </Placeholder>\n\n            {index < 9 && <Divider className=\"rel-mt-2 rel-mb-2\" />}\n          </div>\n        ))}\n      </Container>\n    );\n  };\n\n  render() {\n    const { isLoading, data, error } = this.state;\n    const { title, appName } = this.props;\n\n    const listItems = data.hits?.map((record) => {\n      return (\n        <RecordsResultsListItem result={record} key={record.id} appName={appName} />\n      );\n    });\n\n    return (\n      <>\n        {isLoading && this.renderPlaceHolder()}\n\n        {!isLoading && !error && !isEmpty(listItems) && (\n          <Container>\n            <Header as=\"h2\">{title}</Header>\n\n            <Item.Group relaxed link divided>\n              {listItems}\n            </Item.Group>\n\n            <Container textAlign=\"center\">\n              <Button href=\"/search\">{i18next.t(\"More\")}</Button>\n            </Container>\n\n            {error && <Message content={error} error icon=\"warning sign\" />}\n          </Container>\n        )}\n      </>\n    );\n  }\n}\n\nRecordsList.propTypes = {\n  title: PropTypes.string.isRequired,\n  fetchUrl: PropTypes.string.isRequired,\n  appName: PropTypes.string,\n};\n\nRecordsList.defaultProps = {\n  appName: \"\",\n};\n\nexport class RecordsListOverridable extends Component {\n  render() {\n    const { title, fetchUrl, appName } = this.props;\n    return (\n      <Overridable\n        id={buildUID(\"layout\", \"\", appName)}\n        title={title}\n        fetchUrl={fetchUrl}\n        appName={appName}\n      >\n        <RecordsList title={title} fetchUrl={fetchUrl} appName={appName} />\n      </Overridable>\n    );\n  }\n}\n\nRecordsListOverridable.propTypes = {\n  title: PropTypes.string.isRequired,\n  fetchUrl: PropTypes.string.isRequired,\n  appName: PropTypes.string,\n};\n\nRecordsListOverridable.defaultProps = {\n  appName: \"\",\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { RecordsListOverridable } from \"./RecordsList\";\nimport { OverridableContext, overrideStore } from \"react-overridable\";\n\nconst overriddenComponents = overrideStore.getAll();\nconst recordsListContainer = document.getElementById(\"records-list\");\nconst title = recordsListContainer.dataset.title;\nconst fetchUrl = recordsListContainer.dataset.fetchUrl;\nconst appName = \"InvenioAppRDM.RecordsList\";\n\nReactDOM.render(\n  <OverridableContext.Provider value={overriddenComponents}>\n    <RecordsListOverridable title={title} fetchUrl={fetchUrl} appName={appName} />\n  </OverridableContext.Provider>,\n  recordsListContainer\n);\n","// This file is part of InvenioRDM\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 New York University.\n// Copyright (C) 2022 data-futures.\n// Copyright (C) 2023 Northwestern University.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport _get from \"lodash/get\";\nimport React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { DateTime } from \"luxon\";\n\nexport function SearchItemCreators({ creators, className, othersLink }) {\n  let spanClass = \"creatibutor-wrap separated\";\n  className && (spanClass += ` ${className}`);\n\n  function makeIcon(scheme, identifier, name) {\n    let link = null;\n    let linkTitle = null;\n    let icon = null;\n    let alt = \"\";\n\n    switch (scheme) {\n      case \"orcid\":\n        link = `https://orcid.org/${identifier}`;\n        linkTitle = i18next.t(\"ORCID profile\");\n        icon = \"/static/images/orcid.svg\";\n        alt = \"ORCID logo\";\n        break;\n      case \"ror\":\n        link = `https://ror.org/${identifier}`;\n        linkTitle = i18next.t(\"ROR profile\");\n        icon = \"/static/images/ror-icon.svg\";\n        alt = \"ROR logo\";\n        break;\n      case \"gnd\":\n        link = `https://d-nb.info/gnd/${identifier}`;\n        linkTitle = i18next.t(\"GND profile\");\n        icon = \"/static/images/gnd-icon.svg\";\n        alt = \"GND logo\";\n        break;\n      default:\n        return null;\n    }\n\n    icon = (\n      <a\n        className=\"no-text-decoration mr-0\"\n        href={link}\n        aria-label={`${name}: ${linkTitle}`}\n        title={`${name}: ${linkTitle}`}\n        key={scheme}\n      >\n        <img className=\"inline-id-icon ml-5\" src={icon} alt={alt} />\n      </a>\n    );\n    return icon;\n  }\n\n  function getIcons(creator) {\n    let ids = _get(creator, \"person_or_org.identifiers\", []);\n    let creatorName = _get(creator, \"person_or_org.name\", \"No name\");\n    let icons = ids.map((c) => makeIcon(c.scheme, c.identifier, creatorName));\n    return icons;\n  }\n\n  function getLink(creator) {\n    let creatorName = _get(creator, \"person_or_org.name\", \"No name\");\n    let link = (\n      <a\n        className=\"creatibutor-link\"\n        href={`/search?q=metadata.creators.person_or_org.name:\"${creatorName}\"`}\n        title={`${creatorName}: ${i18next.t(\"Search\")}`}\n      >\n        <span className=\"creatibutor-name\">{creatorName}</span>\n      </a>\n    );\n    return link;\n  }\n\n  const numDisplayed = 3;\n  const result = creators.slice(0, numDisplayed).map((creator) => (\n    <span className={spanClass} key={creator.person_or_org.name}>\n      {getLink(creator)}\n      {getIcons(creator)}\n    </span>\n  ));\n\n  const numExtra = creators.length - numDisplayed;\n  if (0 < numExtra) {\n    let text;\n    if (numExtra === 1) {\n      text = \"and {{count}} other\";\n    } else {\n      text = \"and {{count}} others\";\n    }\n    result.push(\n      <span className={spanClass} key={text}>\n        <a className=\"creatibutor-link\" href={othersLink}>\n          <span className=\"creatibutor-name\">\n            {i18next.t(text, { count: numExtra })}\n          </span>\n        </a>\n      </span>\n    );\n  }\n\n  return result;\n}\n\n/**\n * Returns a human readable timestamp in the format \"4 days ago\".\n *\n * @param {Date} timestamp\n * @returns string\n */\nexport const timestampToRelativeTime = (timestamp) =>\n  DateTime.fromISO(timestamp).setLocale(i18next.language).toRelative();\n"],"names":["CompactStats","_ref","uniqueViews","uniqueDownloads","React","Popup","size","content","i18next","t","trigger","Label","className","Icon","name","propTypes","PropTypes","defaultProps","DisplayPartOfCommunities","communities","communitiesEntries","entries","length","map","community","index","_community$metadata","href","concat","slug","metadata","title","PartOfCommunities","isRequired","RecordsResultsListItem","_Component","_classCallCheck","_callSuper","arguments","_inherits","_createClass","key","value","_result$parent","_this$props","this","props","currentQueryState","result","appName","accessStatusId","_get","accessStatus","accessStatusIcon","createdDate","creators","ui","descriptionStripped","publicationDate","resourceType","subjects","version","versions","publishingInformation","filters","Object","fromEntries","allVersionsVisible","allversions","numOtherVersions","viewLink","id","Overridable","buildUID","Item","Content","Extra","horizontal","Header","as","SearchItemCreators","othersLink","Description","_truncate","subject","title_l10n","parent","uploadDate","publishInfo","count","Component","component","RecordsList","_this","_defineProperty","_asyncToGenerator","_regeneratorRuntime","_callee","fetchUrl","response","_context","prev","next","setState","isLoading","cancellableFetch","withCancel","http","get","headers","Accept","promise","sent","data","hits","t0","console","error","message","stop","Container","Array","from","item","Placeholder","fluid","Line","Paragraph","Divider","state","fetchData","cancel","_data$hits","_this$state","listItems","record","renderPlaceHolder","isEmpty","Group","relaxed","link","divided","textAlign","Button","Message","icon","RecordsListOverridable","_Component2","_this$props2","overriddenComponents","overrideStore","getAll","recordsListContainer","document","getElementById","dataset","ReactDOM","OverridableContext","Provider","spanClass","getIcons","creator","ids","creatorName","c","scheme","identifier","linkTitle","alt","src","makeIcon","text","slice","person_or_org","getLink","numExtra","push","timestampToRelativeTime","timestamp","DateTime","fromISO","setLocale","language","toRelative"],"sourceRoot":""}