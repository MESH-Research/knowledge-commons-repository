"use strict";(self.webpackChunkinvenio_assets=self.webpackChunkinvenio_assets||[]).push([[1484],{99309:(e,t,a)=>{a.d(t,{N:()=>E,t:()=>A});var n=a(80296),l=a(5905),r=a(70742),s=a(96540),i=a(98871),c=a(81057),o=a(1489),u=a(3487),m=a(5556),d=a.n(m),p=a(53196);function E(e){var t=e.sortOptions,a=e.paginationOptions,n=e.currentResultsState,r=e.appName,c=n.data.total;return c&&s.createElement(o.A,null,s.createElement(p.default,{id:(0,i.z_)("ResultView.resultList","",r),sortOptions:t,paginationOptions:a,currentResultsState:n,appName:r},s.createElement(o.A.Row,null,s.createElement(o.A.Column,null,s.createElement(i.dy,null)))),s.createElement(p.default,{id:(0,i.z_)("ResultView.resultFooter","",r),sortOptions:t,paginationOptions:a,currentResultsState:n,appName:r},s.createElement(l.xD,{total:c,paginationOptions:a})))}E.propTypes={sortOptions:d().array.isRequired,paginationOptions:d().object.isRequired,currentResultsState:d().object.isRequired,appName:d().string},E.defaultProps={appName:""};var A=function(e){var t=e.searchBarPlaceholder,a=void 0===t?"":t,m=e.appName,E=void 0===m?void 0:m,A=function(e){var t=s.useState(!1),m=(0,n.A)(t,2),d=m[0],A=m[1],b=e.config;return s.createElement(o.A,null,s.createElement(p.default,{id:(0,i.z_)("SearchLayout.searchHeader","",E),sortOptions:b.sortOptions,appName:E},s.createElement(s.Fragment,null,s.createElement(o.A.Row,{className:"mobile tablet only"},s.createElement(o.A.Column,{mobile:2,tablet:1,verticalAlign:"middle"},s.createElement(u.A,{basic:!0,icon:"sliders",onClick:function(){return A(!0)},"aria-label":r.M.t("Filter results")})),s.createElement(o.A.Column,{mobile:14,tablet:10,verticalAlign:"middle",floated:"right"},s.createElement(i.IW,{placeholder:a}))),s.createElement(o.A.Row,{className:"mobile tablet only"},s.createElement(o.A.Column,{width:16,textAlign:"right"},b.sortOptions&&s.createElement(i.FU,{values:b.sortOptions,label:function(e){return s.createElement(s.Fragment,null,s.createElement("label",{className:"mr-10"},r.M.t("Sort by")),e)}}))),s.createElement(o.A.Row,{className:"computer only"},s.createElement(o.A.Column,{width:8,floated:"right"},s.createElement(i.IW,{placeholder:a})),s.createElement(o.A.Column,{width:4,textAlign:"right"},b.sortOptions&&s.createElement(i.FU,{values:b.sortOptions,label:function(e){return s.createElement(s.Fragment,null,s.createElement("label",{className:"mr-10"},r.M.t("Sort by")),e)}}))))),s.createElement(o.A.Row,null,s.createElement(c.GridResponsiveSidebarColumn,{width:4,open:d,onHideClick:function(){return A(!1)}},s.createElement(l.gf,{aggs:b.aggs,appName:E})),s.createElement(o.A.Column,{mobile:16,tablet:16,computer:12},s.createElement(l.s9,{layoutOptions:b.layoutOptions,appName:E}))))};return A.propTypes={config:d().object.isRequired},A}},62646:(e,t,a)=>{var n=a(64467),l=a(58168),r=a(70742),s=a(58156),i=a.n(s),c=a(92516),o=a.n(c),u=a(96540),m=a(83794),d=a(2685),p=a(27041),E=a(36713),A=a(3487),b=a(53196),h=a(11636),f=a(81057),v=a(99309),g=a(86763),y=a(5556),N=a.n(y),w=a(76217),M=a(23848),R=a(28085),O=a(38992),_=a(63360),S=(a(75747),a(16367)),j=function(e){var t,a=e.result,n=e.editRecord,l=e.statuses,s=e.access,c=e.uiMetadata,m=s.accessStatusId,d=s.accessStatus,p=s.accessStatusIcon,E=c.descriptionStripped,b=c.title,h=c.creators,f=c.subjects,v=c.publicationDate,g=c.resourceType,y=c.createdDate,N=c.version,j=c.isPublished,q=c.viewLink,z=c.publishingInformation,D=j?u.createElement(w.A,{name:"check",className:"positive"}):u.createElement(w.A,{name:"upload",className:"negative"}),k=i()(a,"stats.all_versions.unique_views",0),x=i()(a,"stats.all_versions.unique_downloads",0);return u.createElement(M.A,{key:a.id,className:"deposits-list-item computer tablet only flex"},u.createElement("div",{className:"status-icon mr-10"},u.createElement(M.A.Content,{verticalAlign:"top"},u.createElement(M.A.Extra,null,D))),u.createElement(M.A.Content,null,u.createElement(M.A.Extra,{className:"labels-actions"},a.status in l&&"published"!==a.status&&u.createElement(R.A,{horizontal:!0,size:"small",className:l[a.status].color},l[a.status].title),u.createElement(R.A,{horizontal:!0,size:"small",className:"primary"},v," (",N,")"),u.createElement(R.A,{horizontal:!0,size:"small",className:"neutral"},g),u.createElement(R.A,{horizontal:!0,size:"small",className:"access-status ".concat(m)},u.createElement("i",{className:"icon ".concat(p)}),d),u.createElement(A.A,{compact:!0,size:"small",floated:"right",onClick:function(){return n()},labelPosition:"left",icon:"edit",content:r.M.t("Edit")}),j&&u.createElement(A.A,{compact:!0,size:"small",floated:"right",href:q,labelPosition:"left",icon:"eye",content:r.M.t("View")})),u.createElement(M.A.Header,{as:"h2"},u.createElement("a",{href:q,className:"truncate-lines-2"},b)),u.createElement(M.A.Meta,null,u.createElement("div",{className:"creatibutors"},u.createElement(O.h,{creators:h}))),u.createElement(M.A.Description,null,o()(E,{length:350})),u.createElement(M.A.Extra,null,f.map((function(e){return u.createElement(R.A,{key:e.title_l10n,size:"tiny"},e.title_l10n)})),u.createElement("div",{className:"flex justify-space-between align-items-end"},u.createElement("small",null,u.createElement(S.a,{communities:null===(t=a.parent)||void 0===t?void 0:t.communities}),y?u.createElement(u.Fragment,null,r.M.t("Uploaded on {{uploadDate}}",{uploadDate:y})):r.M.t("No creation date found."),z&&u.createElement("span",null," ","|"," ",r.M.t("Published in: {{publishInfo}}",{publishInfo:z}))),u.createElement("small",null,u.createElement(_.f,{uniqueViews:k,uniqueDownloads:x}))))))};j.propTypes={result:N().object.isRequired,editRecord:N().func.isRequired,statuses:N().object.isRequired,access:N().object.isRequired,uiMetadata:N().object.isRequired};var q=a(34667),z=function(e){var t,a=e.result,n=e.editRecord,l=e.statuses,s=e.access,c=e.uiMetadata,m=s.accessStatusId,d=s.accessStatus,p=s.accessStatusIcon,E=c.descriptionStripped,A=c.title,b=c.creators,h=c.subjects,f=c.publicationDate,v=c.resourceType,g=c.createdDate,y=c.version,N=c.isPublished,j=c.viewLink,z=c.publishingInformation,D=N?u.createElement(w.A,{name:"check",className:"positive mr-10"}):u.createElement(w.A,{name:"upload",className:"negative mr-10"}),k=i()(a,"stats.all_versions.unique_views",0),x=i()(a,"stats.all_versions.unique_downloads",0);return u.createElement(M.A,{key:a.id,className:"deposits-list-item mobile only flex"},u.createElement(M.A.Content,{className:"centered"},u.createElement(M.A.Extra,{className:"labels-actions"},a.status in l&&"published"!==a.status&&u.createElement(R.A,{horizontal:!0,size:"small",className:l[a.status].color},l[a.status].title),u.createElement(R.A,{horizontal:!0,size:"small",className:"primary"},f," (",y,")"),u.createElement(R.A,{horizontal:!0,size:"small",className:"neutral"},v),u.createElement(R.A,{horizontal:!0,size:"small",className:"access-status ".concat(m)},u.createElement("i",{className:"icon ".concat(p)}),d)),u.createElement(M.A.Header,{as:"h2"},u.createElement("a",{href:j,className:"truncate-lines-2"},D,A)),u.createElement(M.A.Meta,null,u.createElement("div",{className:"creatibutors"},u.createElement(O.h,{creators:b}))),u.createElement(M.A.Description,null,o()(E,{length:100})),u.createElement(M.A.Extra,null,u.createElement(M.A.Extra,null,h.map((function(e){return u.createElement(R.A,{key:e.title_l10n,size:"tiny"},e.title_l10n)})),u.createElement("div",null,u.createElement("small",null,u.createElement(S.a,{communities:null===(t=a.parent)||void 0===t?void 0:t.communities}),g?u.createElement(u.Fragment,null,r.M.t("Uploaded on {{uploadDate}}",{uploadDate:g})):r.M.t("No creation date found.")),u.createElement("small",null,z&&u.createElement("span",null,r.M.t("Published in: {{publishedIn}}",{publishedIn:z}))),u.createElement("div",{className:"rel-mt-1"},u.createElement("small",null,u.createElement(_.f,{uniqueViews:k,uniqueDownloads:x})))))),u.createElement(M.A.Extra,null,u.createElement(q.A,{button:!0,text:r.M.t("Actions"),labeled:!0,className:"icon"},u.createElement(q.A.Menu,null,u.createElement(q.A.Item,{onClick:function(){return n()},labelPosition:"left",icon:"edit",content:r.M.t("Edit")}),N&&u.createElement(q.A.Item,{labelPosition:"left",href:j,icon:"eye",content:r.M.t("View")}))))))};z.propTypes={result:N().object.isRequired,editRecord:N().func.isRequired,statuses:N().object.isRequired,access:N().object.isRequired,uiMetadata:N().object.isRequired};var D,k=a(5905);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){(0,n.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P={in_review:{color:"warning",title:r.M.t("In review")},declined:{color:"negative",title:r.M.t("Declined")},expired:{color:"expired",title:r.M.t("Expired")},draft_with_review:{color:"neutral",title:r.M.t("Draft")},draft:{color:"neutral",title:r.M.t("Draft")},new_version_draft:{color:"neutral",title:r.M.t("New version draft")}},I=function(e){var t,a,n,l=e.result,s=function(){f.http.post("/api/records/".concat(l.id,"/draft"),{},{headers:{"Content-Type":"application/json",Accept:"application/vnd.inveniordm.v1+json"}}).then((function(){window.location="/uploads/".concat(l.id)})).catch((function(e){console.error(e.response.data)}))},c=l.is_published,o={accessStatusId:i()(l,"ui.access_status.id",r.M.t("open")),accessStatus:i()(l,"ui.access_status.title_l10n",r.M.t("Open")),accessStatusIcon:i()(l,"ui.access_status.icon",r.M.t("unlock"))},m={descriptionStripped:i()(l,"ui.description_stripped",r.M.t("No description")),title:i()(l,"metadata.title",r.M.t("No title")),creators:i()(l,"ui.creators.creators",[]).slice(0,3),subjects:i()(l,"ui.subjects",[]),publicationDate:i()(l,"ui.publication_date_l10n_long",r.M.t("No publication date found.")),resourceType:i()(l,"ui.resource_type.title_l10n",r.M.t("No resource type")),createdDate:null===(t=l.ui)||void 0===t?void 0:t.created_date_l10n_long,version:null!==(a=null===(n=l.ui)||void 0===n?void 0:n.version)&&void 0!==a?a:"",isPublished:c,viewLink:c?"/records/".concat(l.id):"/uploads/".concat(l.id),publishingInformation:i()(l,"ui.publishing_information.journal","")};return u.createElement(u.Fragment,null,u.createElement(j,{result:l,editRecord:s,statuses:P,access:o,uiMetadata:m}),u.createElement(z,{result:l,editRecord:s,statuses:P,access:o,uiMetadata:m}))};I.propTypes={result:N().object.isRequired};var T=function(e){var t=e.result,a=e.index,n=i()(t,"ui.description_stripped","No description");return u.createElement(m.A,{fluid:!0,key:a,href:"/records/".concat(t.id)},u.createElement(m.A.Content,null,u.createElement(m.A.Header,null,t.metadata.title),u.createElement(m.A.Description,null,o()(n,{length:200}))))};T.propTypes={result:N().object.isRequired,index:N().string.isRequired};var F=function(e){return""===e.queryString?u.createElement(d.A.Group,null,u.createElement(d.A,{placeholder:!0,textAlign:"center",padded:"very"},u.createElement(p.A,{as:"h1",align:"center"},u.createElement(p.A.Content,null,r.M.t("Get started!"),u.createElement(p.A.Subheader,null,r.M.t("Make your first upload!")))),u.createElement(E.A,{hidden:!0}),u.createElement(A.A,{positive:!0,icon:"upload",floated:"right",href:"/uploads/new",content:r.M.t("New upload")}))):u.createElement(d.A,{padded:"very"},u.createElement(h.rQ,(0,l.A)({},e,{searchPath:"/me/uploads"})))};F.propTypes={queryString:N().string.isRequired};var L="InvenioAppRdm.DashboardUploads",V=(0,v.t)({searchBarPlaceholder:r.M.t("Search in my uploads..."),newBtn:u.createElement(A.A,{positive:!0,icon:"upload",href:"/uploads/new",content:r.M.t("New upload"),floated:"right"}),appName:L}),B=(0,b.parametrize)(k.rn,{toggle:!0}),U=(0,b.parametrize)(v.N,{appName:L}),H=(D={},(0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)(D,"".concat(L,".BucketAggregation.element"),k.Ox),"".concat(L,".BucketAggregationValues.element"),k.O6),"".concat(L,".Count.element"),h.wL),"".concat(L,".EmptyResults.element"),F),"".concat(L,".ResultsList.item"),I),"".concat(L,".ResultsGrid.item"),T),"".concat(L,".SearchApp.facets"),B),"".concat(L,".SearchApp.layout"),V),"".concat(L,".SearchApp.results"),U),"".concat(L,".SearchBar.element"),h._w),(0,n.A)(D,"".concat(L,".SearchFilters.Toggle.element"),h.lK)),G=b.overrideStore.getAll();(0,g.U)(C(C({},H),G),!0,"invenio-search-config",!0)}},e=>{e.O(0,[402,1057,7655,5373,6267,9777,5941,7501,4218,8010,8102,742,6528,3532,1751,226,5580,3624],(()=>{return t=62646,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=invenio-app-rdm-user-uploads.2d839e683a428dc0987c.js.map