{"version":3,"file":"js/invenio-app-rdm-landing-page.885c9b0d2ab8e3087517.js","mappings":"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","sources":["webpack://invenio-assets/./js/invenio_app_rdm/components/CopyButton.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/EditButton.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/ShareOptions/AccessLinks/CreateAccessLink.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/ShareOptions/AccessLinks/AccessDropdown.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/ShareOptions/AccessLinks/LinksSearchItem.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/ShareOptions/AccessLinks/LinksSearchResultContainer.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/ShareOptions/AccessLinks/LinksTab.js","webpack://invenio-assets/./js/invenio_app_rdm/requests/AccessRequestExpiration.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/ShareOptions/AccessRequests/AccessRequestsTab.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/ShareOptions/AccessUsers/UserAccessSearchResult.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/ShareOptions/AccessUsers/AccessUsers.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/ShareOptions/ShareModal.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/ShareOptions/ShareButton.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/ManageButton.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/RecordManagement.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/RecordVersionsList.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/RecordCitationField.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/ExportDropdown.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/RemoveFromCommunity/RemoveFromCommunityAction.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/ManageDefaultBrandingAction/ManageDefaultBrandingAction.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/RecordCommunitiesListModal/RecordCommunitiesSearchItem.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/RecordCommunitiesListModal/RecordCommunitiesSearch.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/RecordCommunitiesListModal/RecordCommunitiesListModal.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/RecordCommunitiesList.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/PendingCommunitiesModal/PendingCommunityRequestItem.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/PendingCommunitiesModal/PendingCommunitiesSearch.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/PendingCommunitiesModal/PendingCommunitiesModal.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/RecordCommunitySubmission/RecordCommunitySubmissionModal.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/CommunitiesManagementDropdown.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/CommunitiesManagement.js","webpack://invenio-assets/./js/invenio_app_rdm/landing_page/index.js","webpack://invenio-assets/./js/invenio_app_rdm/utils.js","webpack://invenio-assets/./js/invenio_communities/members/components/ErrorPopup.js","webpack://invenio-assets/./js/invenio_communities/members/components/SuccessIcon.js","webpack://invenio-assets/./node_modules/lodash/defaults.js","webpack://invenio-assets/./node_modules/lodash/isEqual.js","webpack://invenio-assets/./node_modules/lodash/join.js","webpack://invenio-assets/./node_modules/lodash/unionBy.js","webpack://invenio-assets/./node_modules/react-i18next/dist/es/I18nextProvider.js","webpack://invenio-assets/./node_modules/redux-devtools-extension/index.js","webpack://invenio-assets/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://invenio-assets/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://invenio-assets/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://invenio-assets/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["// This file is part of InvenioRDM\n// Copyright (C) 2021 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Popup } from \"semantic-ui-react\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\n\nclass SimpleCopyButton extends React.Component {\n  render() {\n    const { text, onCopy, hoverState } = this.props;\n\n    return (\n      <CopyToClipboard\n        text={text}\n        onCopy={() => {\n          onCopy(text);\n        }}\n      >\n        <Button\n          className=\"copy\"\n          basic\n          icon=\"copy\"\n          aria-label={i18next.t(\"Copy to clipboard\")}\n          onMouseEnter={hoverState}\n          onMouseLeave={hoverState}\n        />\n      </CopyToClipboard>\n    );\n  }\n}\n\nSimpleCopyButton.propTypes = {\n  text: PropTypes.string.isRequired,\n  onCopy: PropTypes.func.isRequired,\n  hoverState: PropTypes.func,\n};\n\nSimpleCopyButton.defaultProps = {\n  hoverState: null,\n};\n\nexport class CopyButton extends Component {\n  constructor(props) {\n    super(props);\n    this.INITIAL_STATE = {\n      confirmationPopupIsOpen: false,\n      confirmationPopupMsg: \"\",\n      hoverPopupIsOpen: false,\n      stateReset: null,\n    };\n    this.state = this.INITIAL_STATE;\n  }\n\n  componentWillUnmount() {\n    const { stateReset } = this.state;\n    // Avoid state update after component is unmounted:\n    if (stateReset) clearTimeout(stateReset);\n  }\n\n  onCopy = () => {\n    this.setState(() => ({\n      confirmationPopupIsOpen: true,\n      confirmationPopupMsg: i18next.t(\"Copied!\"),\n    }));\n\n    this.delayClosePopup();\n  };\n\n  delayClosePopup = () => {\n    let stateReset = setTimeout(() => {\n      this.setState(this.INITIAL_STATE);\n    }, 1500);\n\n    this.setState({ stateReset });\n  };\n\n  hoverStateHandler = (event) => {\n    event.persist();\n    if (event.type === \"mouseenter\") this.setState({ hoverPopupIsOpen: true });\n    if (event.type === \"mouseleave\") this.setState({ hoverPopupIsOpen: false });\n  };\n\n  render() {\n    const { text, popUpPosition } = this.props;\n    const { confirmationPopupMsg, confirmationPopupIsOpen, hoverPopupIsOpen } =\n      this.state;\n\n    return (\n      text && (\n        <Popup\n          role=\"alert\"\n          open={hoverPopupIsOpen || confirmationPopupIsOpen}\n          content={confirmationPopupMsg || i18next.t(\"Copy to clipboard\")}\n          inverted={!!confirmationPopupMsg}\n          position={popUpPosition}\n          size=\"mini\"\n          trigger={\n            <SimpleCopyButton\n              text={text}\n              onCopy={this.onCopy}\n              hoverState={this.hoverStateHandler}\n            />\n          }\n        />\n      )\n    );\n  }\n}\n\nCopyButton.propTypes = {\n  popUpPosition: PropTypes.string,\n  text: PropTypes.string,\n};\n\nCopyButton.defaultProps = {\n  popUpPosition: \"right center\",\n  text: \"\",\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2021 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { useState } from \"react\";\nimport { Icon, Button } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { http } from \"react-invenio-forms\";\nimport PropTypes from \"prop-types\";\n\nexport const EditButton = ({ recid, onError }) => {\n  const [loading, setLoading] = useState(false);\n\n  const handleClick = async () => {\n    setLoading(true);\n    try {\n      await http.post(\n        `/api/records/${recid}/draft`,\n        {},\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/vnd.inveniordm.v1+json\",\n          },\n        }\n      );\n      window.location = `/uploads/${recid}`;\n    } catch (error) {\n      setLoading(false);\n      onError(error.response.data.message);\n    }\n  };\n\n  return (\n    <Button\n      fluid\n      className=\"warning\"\n      size=\"medium\"\n      onClick={handleClick}\n      loading={loading}\n      icon\n      labelPosition=\"left\"\n    >\n      <Icon name=\"edit\" />\n      {i18next.t(\"Edit\")}\n    </Button>\n  );\n};\n\nEditButton.propTypes = {\n  recid: PropTypes.string.isRequired,\n  onError: PropTypes.func.isRequired,\n};\n","/*\n * This file is part of Invenio.\n * Copyright (C) 2023 CERN.\n *\n * Invenio is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Table, Input, Dropdown, Button, Icon, Grid } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { dropdownOptions } from \"./LinksSearchResultContainer\";\n\nexport class CreateAccessLink extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      description: undefined,\n      expiresAt: undefined,\n      permission: dropdownOptions[0].key,\n    };\n  }\n\n  render() {\n    const { permission, expiresAt, description } = this.state;\n    const { handleCreation, loading } = this.props;\n    return (\n      <Table.Row>\n        <Table.Cell width={16}>\n          <Grid>\n            <Grid.Column width={4}>\n              <Input\n                id=\"access-request-description\"\n                onChange={(e, data) => this.setState({ description: data.value })}\n                fluid\n              />\n              <label\n                htmlFor=\"access-request-description\"\n                className=\"helptext mb-0 mt-10\"\n              >\n                {i18next.t(\"Short name for your link (optional).\")}\n              </label>\n            </Grid.Column>\n            <Grid.Column width={4}>\n              <Input\n                id=\"access-request-expires-at\"\n                onChange={(e, data) => {\n                  this.setState({ expiresAt: data.value });\n                }}\n                fluid\n                placeholder={i18next.t(\"Expiration date format: YYYY-MM-DD\")}\n              />\n              <label\n                htmlFor=\"access-request-expires-at\"\n                className=\"helptext mb-0 mt-10\"\n              >\n                {i18next.t(\"Expiration date: YYYY-MM-DD or never if blank (optional).\")}\n              </label>\n            </Grid.Column>\n            <Grid.Column width={4}>\n              <Dropdown\n                placeholder={i18next.t(\"Select permissions\")}\n                fluid\n                selection\n                onChange={(event, data) => this.setState({ permission: data.value })}\n                options={dropdownOptions}\n                defaultValue={permission}\n              />\n            </Grid.Column>\n\n            <Grid.Column width={4} textAlign=\"right\">\n              <Button\n                onClick={() => handleCreation(permission, expiresAt, description)}\n                icon\n                loading={loading}\n                disabled={loading}\n                labelPosition=\"left\"\n                positive\n              >\n                <Icon name=\"code branch\" />\n                {i18next.t(\"Create a new link\")}\n              </Button>\n            </Grid.Column>\n          </Grid>\n        </Table.Cell>\n      </Table.Row>\n    );\n  }\n}\n\nCreateAccessLink.propTypes = {\n  handleCreation: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n};\n","/*\n * This file is part of Invenio.\n * Copyright (C) 2023 CERN.\n *\n * Invenio is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Dropdown } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { http } from \"react-invenio-forms\";\nimport { SuccessIcon, ErrorPopup } from \"@js/invenio_communities/members\";\nimport { withCancel } from \"react-invenio-forms\";\nimport { dropdownOptions } from \"./LinksSearchResultContainer\";\n\nexport const errorSerializer = (error) =>\n  error?.response?.data?.message || error?.message;\n\nexport class AccessDropdown extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: undefined, loading: false, actionSuccess: undefined };\n  }\n\n  componentWillUnmount() {\n    this.cancellableAction && this.cancellableAction.cancel();\n  }\n\n  handleUpdate = async (permission) => {\n    const { record, result } = this.props;\n    const data = { permission: permission };\n    this.setState({ loading: true, actionSuccess: false });\n    this.cancellableAction = withCancel(\n      http.patch(`${record.links.access_links}/${result.id}`, data)\n    );\n\n    try {\n      await this.cancellableAction.promise;\n      this.setState({ loading: false, actionSuccess: true, error: undefined });\n    } catch (error) {\n      if (error === \"UNMOUNTED\") return;\n      this.setState({\n        loading: false,\n        actionSuccess: false,\n        error: errorSerializer(error),\n      });\n      console.error(error);\n    }\n  };\n\n  render() {\n    const { result } = this.props;\n    const { loading, actionSuccess, error } = this.state;\n    return (\n      <div className=\"flex align-items-center access-dropdown-container\">\n        <Dropdown\n          placeholder={i18next.t(\"Select permissions\")}\n          fluid\n          loading={loading}\n          selection\n          options={dropdownOptions}\n          onChange={(event, data) => this.handleUpdate(data.value)}\n          defaultValue={result.permission}\n        />\n        <div className=\"ml-5 action-status-container\">\n          {actionSuccess && <SuccessIcon timeOutDelay={3000} show={actionSuccess} />}\n          {error && <ErrorPopup error={error} />}\n        </div>\n      </div>\n    );\n  }\n}\n\nAccessDropdown.propTypes = {\n  result: PropTypes.object.isRequired,\n  record: PropTypes.object.isRequired,\n};\n","/*\n * This file is part of Invenio.\n * Copyright (C) 2023 CERN.\n *\n * Invenio is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Table, Popup, Icon, Button } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { timestampToRelativeTime } from \"../../../utils\";\nimport { AccessDropdown } from \"./AccessDropdown\";\nimport _truncate from \"lodash/truncate\";\nimport { isEmpty } from \"lodash\";\nimport { withCancel, http } from \"react-invenio-forms\";\n\nexport const LinksSearchItem = ({ result, record, fetchData }) => {\n  const [copied, setCopied] = useState(false);\n  const [loading, setLoading] = useState(false);\n  var cancellableAction = undefined;\n\n  useEffect(() => {\n    return () => {\n      cancellableAction && cancellableAction.cancel();\n    };\n  }, [cancellableAction]);\n\n  const handleDelete = async () => {\n    setLoading(true);\n    cancellableAction = withCancel(\n      http.delete(`${record.links.access_links}/${result.id}`)\n    );\n    try {\n      await cancellableAction.promise;\n      setLoading(false);\n      fetchData();\n    } catch (error) {\n      setLoading(false);\n      console.error(error);\n    }\n  };\n\n  const copyButtonRef = React.createRef();\n\n  useEffect(() => {\n    copyButtonRef.current?.focus(); // Accessiblity: focus the copy-button when modal opens\n  }, [copyButtonRef]);\n\n  useEffect(() => {\n    let popupTimeout = setTimeout(() => {\n      setCopied(false);\n    }, 1500);\n\n    return () => {\n      clearTimeout(popupTimeout);\n    };\n  }, [copied]);\n\n  const copyAccessLink = () => {\n    const accessLink = `${record.links.self_html}?token=${result.token}`;\n    navigator.clipboard.writeText(accessLink);\n    setCopied(true);\n  };\n\n  return (\n    <Table.Row key={result.id}>\n      <Table.Cell width={3} data-label=\"Link title\">\n        {isEmpty(result.description)\n          ? \"-\"\n          : _truncate(result.description, { length: 60 })}\n      </Table.Cell>\n      <Table.Cell width={3} data-label=\"Created\">\n        {timestampToRelativeTime(result.created_at)}\n      </Table.Cell>\n      <Table.Cell width={3} data-label=\"Expires at\">\n        {isEmpty(result.expires_at)\n          ? i18next.t(\"Never\")\n          : `${timestampToRelativeTime(result.expires_at)} (${result.expires_at})`}\n      </Table.Cell>\n      <Table.Cell width={3} data-label=\"Access\">\n        <AccessDropdown record={record} result={result} />\n      </Table.Cell>\n      <Table.Cell width={4}>\n        <Button\n          loading={loading}\n          disabled={loading}\n          onClick={handleDelete}\n          icon\n          labelPosition=\"left\"\n          negative\n          size=\"small\"\n        >\n          <Icon name=\"trash\" />\n          {i18next.t(\"Delete\")}\n        </Button>\n        <Popup\n          position=\"top center\"\n          content={i18next.t(\"Copied!\")}\n          inverted\n          open={copied}\n          on=\"click\"\n          size=\"small\"\n          trigger={\n            <Button\n              ref={copyButtonRef}\n              onClick={() => copyAccessLink(result?.id)}\n              aria-label={i18next.t(\"Copy link\")}\n              size=\"small\"\n              icon\n              labelPosition=\"left\"\n            >\n              <Icon name=\"copy outline\" />\n              {i18next.t(\"Copy link\")}\n            </Button>\n          }\n        />\n      </Table.Cell>\n    </Table.Row>\n  );\n};\n\nLinksSearchItem.propTypes = {\n  result: PropTypes.object.isRequired,\n  record: PropTypes.object.isRequired,\n  fetchData: PropTypes.func.isRequired,\n};\n","/*\n * This file is part of Invenio.\n * Copyright (C) 2023 CERN.\n *\n * Invenio is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport React, { Component } from \"react\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport { Table, Message, Loader } from \"semantic-ui-react\";\nimport PropTypes from \"prop-types\";\nimport { withCancel } from \"react-invenio-forms\";\nimport { http } from \"react-invenio-forms\";\nimport { CreateAccessLink } from \"./CreateAccessLink\";\nimport { LinksSearchItem } from \"./LinksSearchItem\";\n\nexport const dropdownOptions = [\n  { key: \"view\", text: i18next.t(\"Can view\"), value: \"view\" },\n  { key: \"preview\", text: i18next.t(\"Can preview\"), value: \"preview\" },\n  { key: \"edit\", text: i18next.t(\"Can edit\"), value: \"edit\" },\n];\n\nexport class LinksSearchResultContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      error: undefined,\n    };\n  }\n\n  componentWillUnmount() {\n    this.cancellableAction && this.cancellableAction.cancel();\n  }\n\n  renderErrorMessages(messages) {\n    const uniqueMessages = [...new Set(messages)];\n    if (uniqueMessages.length === 1) {\n      return messages[0];\n    } else {\n      return (\n        <ul>\n          {uniqueMessages.map((m) => (\n            <li key={m}>{m}</li>\n          ))}\n        </ul>\n      );\n    }\n  }\n\n  errorMessage = () => {\n    const { error } = this.state;\n    const errorMessage = error?.response?.data?.message || error?.message;\n    const listOfErrors = error?.response?.data?.errors;\n    return (\n      <Message className=\"mb-30\" negative>\n        {errorMessage}\n        {listOfErrors &&\n          listOfErrors.map((element) => (\n            <Message.Item key={element.field}>\n              <b>\n                {element.field.charAt(0).toUpperCase() +\n                  element.field.slice(1).replace(\"_\", \" \")}\n              </b>\n              : {this.renderErrorMessages(element.messages)}\n            </Message.Item>\n          ))}\n      </Message>\n    );\n  };\n\n  handleCreation = async (permission, expiresAt, description) => {\n    const { fetchData, record } = this.props;\n    this.setState({ loading: true });\n    try {\n      const data = {\n        permission: permission,\n        expires_at: expiresAt,\n        description: description,\n      };\n      this.cancellableAction = withCancel(http.post(record.links.access_links, data));\n      await this.cancellableAction.promise;\n      fetchData();\n      this.setState({ loading: false, error: undefined });\n    } catch (error) {\n      if (error === \"UNMOUNTED\") return;\n      this.setState({\n        loading: false,\n        error: error,\n      });\n      console.error(error);\n    }\n  };\n\n  render() {\n    const { results, record, fetchData } = this.props;\n    const { loading, error } = this.state;\n    return (\n      <>\n        {error && this.errorMessage()}\n\n        <Table className=\"fixed-header\">\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell data-label=\"Link title\" width={3}>\n                {i18next.t(\"Link title\")}\n              </Table.HeaderCell>\n              <Table.HeaderCell data-label=\"Created\" width={3}>\n                {i18next.t(\"Created\")}\n              </Table.HeaderCell>\n              <Table.HeaderCell data-label=\"Expires at\" width={3}>\n                {i18next.t(\"Expires\")}\n              </Table.HeaderCell>\n              <Table.HeaderCell data-label=\"Access\" width={3}>\n                {i18next.t(\"Access\")}\n              </Table.HeaderCell>\n              <Table.HeaderCell width={4} />\n            </Table.Row>\n          </Table.Header>\n          <Table.Body>\n            {loading ? (\n              <Loader />\n            ) : !_isEmpty(results) ? (\n              results.map((result) => (\n                <LinksSearchItem\n                  key={result.id}\n                  result={result}\n                  record={record}\n                  fetchData={fetchData}\n                />\n              ))\n            ) : (\n              <Table.Row textAlign=\"center\">\n                <p className=\"mt-10\">\n                  <i>\n                    <h5>{i18next.t(\"This record has no links generated yet.\")}</h5>\n                  </i>\n                </p>\n              </Table.Row>\n            )}\n          </Table.Body>\n        </Table>\n\n        <Table color=\"green\">\n          <CreateAccessLink handleCreation={this.handleCreation} loading={loading} />\n        </Table>\n      </>\n    );\n  }\n}\n\nLinksSearchResultContainer.propTypes = {\n  results: PropTypes.array.isRequired,\n  record: PropTypes.object.isRequired,\n  fetchData: PropTypes.func.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2023 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport { Modal, Loader, Button } from \"semantic-ui-react\";\nimport PropTypes from \"prop-types\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\n\nimport { LinksSearchResultContainer } from \"./LinksSearchResultContainer\";\nimport { withCancel } from \"react-invenio-forms\";\nimport { http } from \"react-invenio-forms\";\n\nexport class LinksTab extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      results: undefined,\n      loading: false,\n      error: undefined,\n    };\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentWillUnmount() {\n    this.cancellableAction && this.cancellableAction.cancel();\n  }\n\n  fetchData = async () => {\n    const { record } = this.props;\n    this.setState({ loading: true });\n    try {\n      this.cancellableAction = withCancel(http.get(record.links.access_links));\n      const response = await this.cancellableAction.promise;\n      this.setState({\n        loading: false,\n        error: undefined,\n        results: response.data.hits.hits,\n      });\n    } catch (error) {\n      if (error === \"UNMOUNTED\") return;\n      this.setState({\n        loading: false,\n        error: error,\n      });\n      console.error(error);\n    }\n  };\n\n  render() {\n    const { results, loading, error } = this.state;\n    const { record, handleClose } = this.props;\n    return (\n      <>\n        {error && error}\n        <Modal.Content>\n          {loading ? (\n            <Loader />\n          ) : (\n            <LinksSearchResultContainer\n              results={results}\n              record={record}\n              fetchData={this.fetchData}\n            />\n          )}\n        </Modal.Content>\n        <Modal.Actions className=\"ui clearing segment\">\n          <Button\n            size=\"small\"\n            onClick={handleClose}\n            content={i18next.t(\"Cancel\")}\n            icon=\"remove\"\n            className=\"left floated clearing\"\n          />\n        </Modal.Actions>\n      </>\n    );\n  }\n}\n\nLinksTab.propTypes = {\n  record: PropTypes.string.isRequired,\n  handleClose: PropTypes.func.isRequired,\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { SelectField } from \"react-invenio-forms\";\n\nexport class AccessRequestExpirationSelect extends Component {\n  constructor(props) {\n    super(props);\n    const { expirationOptions } = props;\n    this.expirationOptions = expirationOptions;\n  }\n\n  handleOnChange = ({ data, formikProps }) => {\n    formikProps.form.setFieldValue(\"secret_link_expiration\", data.value);\n  };\n\n  render() {\n    const { inline, expirationOptions, value } = this.props;\n    const expirationSetting = value ? value.toString() : expirationOptions[0].value;\n    return (\n      <SelectField\n        label={i18next.t(\"Link expiration\")}\n        inline={inline}\n        fieldPath=\"secret_link_expiration\"\n        options={this.expirationOptions}\n        onChange={this.handleOnChange}\n        value={expirationSetting}\n        defaultValue={expirationOptions[0]}\n      />\n    );\n  }\n}\n\nAccessRequestExpirationSelect.propTypes = {\n  expirationOptions: PropTypes.arrayOf(\n    PropTypes.shape({\n      key: PropTypes.string.isRequired,\n      text: PropTypes.string.isRequired,\n      value: PropTypes.string.isRequired,\n    })\n  ),\n  inline: PropTypes.bool,\n  value: PropTypes.string,\n};\n\nAccessRequestExpirationSelect.defaultProps = {\n  expirationOptions: [\n    { key: 0, text: i18next.t(\"Never\"), value: \"0\" },\n    { key: 30, text: i18next.t(\"In 1 month\"), value: \"30\" },\n    { key: 60, text: i18next.t(\"In 2 months\"), value: \"60\" },\n    { key: 180, text: i18next.t(\"In 6 months\"), value: \"180\" },\n    { key: 365, text: i18next.t(\"In 1 year\"), value: \"365\" },\n  ],\n  inline: false,\n  value: undefined,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2023 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport _has from \"lodash/has\";\nimport { AccessRequestExpirationSelect } from \"../../../requests\";\nimport React, { Component } from \"react\";\nimport { Modal, Divider, Grid, Form, Checkbox, Button } from \"semantic-ui-react\";\nimport PropTypes from \"prop-types\";\nimport { Formik } from \"formik\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { SuccessIcon } from \"@js/invenio_communities/members\";\nimport {\n  RadioField,\n  RichInputField,\n  http,\n  withCancel,\n  ErrorMessage,\n} from \"react-invenio-forms\";\nimport * as Yup from \"yup\";\nimport _get from \"lodash/get\";\n\nexport class AccessRequestsTab extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      error: undefined,\n      actionSuccess: undefined,\n    };\n  }\n\n  componentWillUnmount() {\n    this.cancellableAction && this.cancellableAction.cancel();\n  }\n\n  accessRequestSchema = Yup.object({\n    allow_user_requests: Yup.bool(),\n    allow_guest_requests: Yup.bool(),\n    accept_conditions_text: Yup.string().nullable(),\n    secret_link_expiration: Yup.string(),\n  });\n\n  handleSubmit = async (values) => {\n    this.setState({ loading: true, actionSuccess: false });\n    const { record, successCallback } = this.props;\n    const payload = {\n      allow_user_requests: values.allow_user_requests,\n      allow_guest_requests: values.allow_guest_requests,\n      accept_conditions_text: values.accept_conditions_text,\n      secret_link_expiration: values.secret_link_expiration,\n    };\n\n    this.cancellableAction = withCancel(http.put(record.links.access, payload));\n\n    try {\n      const response = await this.cancellableAction.promise;\n      this.setState({ loading: false, actionSuccess: true, error: undefined });\n      successCallback(response.data);\n    } catch (error) {\n      if (error === \"UNMOUNTED\") return;\n\n      this.setState({\n        error: error?.response?.data?.message || error?.message,\n        loading: false,\n        actionSuccess: false,\n      });\n      console.error(error);\n    }\n  };\n\n  initFormValues = () => {\n    const { record } = this.props;\n\n    const settings = record.parent.access.settings;\n\n    if (!_has(settings, \"secret_link_expiration\")) {\n      settings[\"secret_link_expiration\"] = 0;\n    }\n    return { ...settings };\n  };\n\n  render() {\n    const { loading, error, actionSuccess } = this.state;\n    const { handleClose } = this.props;\n    return (\n      <Formik\n        onSubmit={this.handleSubmit}\n        enableReinitialize\n        initialValues={this.initFormValues()}\n        validationSchema={this.accessRequestSchema}\n      >\n        {({ values, handleSubmit }) => {\n          return (\n            <>\n              <Modal.Content>\n                {error && (\n                  <ErrorMessage\n                    header={i18next.t(\"Unable to change the access request settings.\")}\n                    content={i18next.t(error)}\n                    icon=\"exclamation\"\n                    className=\"text-align-left\"\n                    negative\n                  />\n                )}\n                <Grid>\n                  <Form>\n                    <Grid>\n                      <Grid.Row>\n                        <Grid.Column width={16}>\n                          <Form.Field>\n                            <RadioField\n                              checked={_get(values, \"allow_user_requests\")}\n                              control={Checkbox}\n                              fieldPath=\"allow_user_requests\"\n                              label={i18next.t(\n                                \"Allow authenticated users to request access to restricted files.\"\n                              )}\n                              onChange={({ data, formikProps }) => {\n                                formikProps.form.setFieldValue(\n                                  \"allow_user_requests\",\n                                  data.checked\n                                );\n                              }}\n                            />\n                          </Form.Field>\n                          <Form.Field>\n                            <RadioField\n                              checked={_get(values, \"allow_guest_requests\")}\n                              control={Checkbox}\n                              fieldPath=\"allow_guest_requests\"\n                              label={i18next.t(\n                                \"Allow non-authenticated users to request access to restricted files.\"\n                              )}\n                              onChange={({ data, formikProps }) => {\n                                formikProps.form.setFieldValue(\n                                  \"allow_guest_requests\",\n                                  data.checked\n                                );\n                              }}\n                            />\n                          </Form.Field>\n                          <label className=\"helptext mb-0 mt-10\">\n                            {i18next.t(\n                              \"Enable users and guests to request access to your record's files. When access is requested \" +\n                                \"by someone, you will get an e-mail asking for approval. After you approve a request, \" +\n                                \"users will be granted access and guests will receive a secret link.\"\n                            )}\n                          </label>\n                        </Grid.Column>\n                      </Grid.Row>\n                      <Grid.Row>\n                        <Grid.Column>\n                          <h5>{i18next.t(\"Accept conditions\")}</h5>\n                          <label className=\"helptext mb-0 mt-10\">\n                            {i18next.t(\n                              \"Optional. Specify conditions under which you approve access. This message will be \" +\n                                \"visible for any user when requesting access to this record.\"\n                            )}\n                          </label>\n                          <Form.Field>\n                            <RichInputField fieldPath=\"accept_conditions_text\" />\n                          </Form.Field>\n                        </Grid.Column>\n                      </Grid.Row>\n                    </Grid>\n                    <h5>{i18next.t(\"Advanced options\")}</h5>\n                    <Divider />\n                    <Grid>\n                      <Grid.Row>\n                        <Grid.Column width={3}>\n                          <Form.Field>\n                            <AccessRequestExpirationSelect\n                              inline\n                              value={values.secret_link_expiration}\n                            />\n                          </Form.Field>\n                        </Grid.Column>\n                      </Grid.Row>\n                    </Grid>\n                  </Form>\n                  <Grid.Row>\n                    <Grid.Column>\n                      <br />\n                    </Grid.Column>\n                  </Grid.Row>\n                </Grid>\n              </Modal.Content>\n\n              <Modal.Actions>\n                {actionSuccess && (\n                  <SuccessIcon\n                    className=\"ml-10\"\n                    timeOutDelay={3000}\n                    show={actionSuccess}\n                  />\n                )}\n                <Button\n                  size=\"small\"\n                  onClick={handleClose}\n                  floated=\"left\"\n                  content={i18next.t(\"Cancel\")}\n                  icon=\"remove\"\n                />\n                <Button\n                  size=\"small\"\n                  labelPosition=\"left\"\n                  icon=\"checkmark\"\n                  primary\n                  content={i18next.t(\"Save\")}\n                  onClick={(event) => handleSubmit(event)}\n                  loading={loading}\n                  disabled={loading}\n                />\n              </Modal.Actions>\n            </>\n          );\n        }}\n      </Formik>\n    );\n  }\n}\n\nAccessRequestsTab.propTypes = {\n  record: PropTypes.string.isRequired,\n  successCallback: PropTypes.func.isRequired,\n  handleClose: PropTypes.func.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n// Copyright (C) 2023 TU Wien.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\nimport React, { Component } from \"react\";\nimport { Table, Button, Item, Label, Grid } from \"semantic-ui-react\";\nimport { withCancel, http } from \"react-invenio-forms\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport PropTypes from \"prop-types\";\nimport { SuccessIcon } from \"@js/invenio_communities/members\";\nimport { Image } from \"react-invenio-forms\";\n\nclass UserAccessSearchResultItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { loading: false, success: undefined };\n  }\n  handleDelete = async () => {\n    const { record, result, setError } = this.props;\n    this.setState({ loading: true });\n    const cancellableAction = withCancel(\n      http.delete(`${record.links.access_users}/${result.id}`)\n    );\n    try {\n      await cancellableAction.promise;\n      this.setState({ loading: false, success: true });\n      this.handleSuccess(result.id);\n    } catch (error) {\n      this.setState({ loading: false });\n      console.error(error);\n      setError(error);\n    }\n  };\n  handleSuccess = (data) => {\n    const { deleteSuccessCallback } = this.props;\n    deleteSuccessCallback(data);\n  };\n  render() {\n    const { result, permissions } = this.props;\n    const { loading, success } = this.state;\n    const user = result.expanded.subject;\n\n    return (\n      <Table.Row>\n        <Table.Cell>\n          <Grid textAlign=\"left\" verticalAlign=\"middle\">\n            <Grid.Column>\n              <Item\n                className={user.is_current_user ? \"flex align-no-checkbox\" : \"flex\"}\n                key={result.id}\n              >\n                <Image\n                  src={user.links.avatar}\n                  avatar\n                  className={user.is_current_user ? \"\" : \"rel-ml-1\"}\n                  alt=\"\"\n                />\n                <Item.Content className=\"ml-10\">\n                  <Item.Header\n                    className={`flex align-items-center ${\n                      !user.description ? \"mt-5\" : \"\"\n                    }`}\n                  >\n                    <b className=\"mr-10\">{user.profile.full_name || user.username}</b>\n\n                    {user.is_current_user && (\n                      <Label size=\"tiny\" className=\"primary\">\n                        {i18next.t(\"You\")}\n                      </Label>\n                    )}\n                  </Item.Header>\n                  {user.profile.affiliations && (\n                    <Item.Meta>{user.profile.affiliations}</Item.Meta>\n                  )}\n                </Item.Content>\n              </Item>\n            </Grid.Column>\n          </Grid>\n        </Table.Cell>\n\n        <Table.Cell data-label={i18next.t(\"Access\")}>{result.permission}</Table.Cell>\n\n        <Table.Cell data-label={i18next.t(\"Actions\")} textAlign=\"right\">\n          <div>\n            {permissions.can_manage && (\n              <>\n                {success && <SuccessIcon timeOutDelay={3000} show={success} />}\n                <Button\n                  size=\"small\"\n                  labelPosition=\"left\"\n                  icon=\"user delete\"\n                  className=\"fluid-computer-only\"\n                  compact\n                  negative\n                  disabled={loading}\n                  loading={loading}\n                  content={i18next.t(\"Remove access\")}\n                  onClick={this.handleDelete}\n                />\n              </>\n            )}\n          </div>\n        </Table.Cell>\n      </Table.Row>\n    );\n  }\n}\n\nUserAccessSearchResultItem.propTypes = {\n  record: PropTypes.object.isRequired,\n  result: PropTypes.object.isRequired,\n  permissions: PropTypes.object.isRequired,\n  deleteSuccessCallback: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nexport class UserAccessSearchResult extends Component {\n  render() {\n    const { results, fetchData, record, permissions, setError } = this.props;\n    return (\n      <Table>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell data-label=\"User\" width={4}>\n              {i18next.t(\"People with access\")}\n            </Table.HeaderCell>\n            <Table.HeaderCell data-label=\"Access\" width={3}>\n              {i18next.t(\"Access\")}\n            </Table.HeaderCell>\n            <Table.HeaderCell width={4} />\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>\n          {results.map((result) => (\n            <UserAccessSearchResultItem\n              key={result.id}\n              result={result}\n              record={record}\n              permissions={permissions}\n              deleteSuccessCallback={fetchData}\n              setError={setError}\n            />\n          ))}\n        </Table.Body>\n      </Table>\n    );\n  }\n}\n\nUserAccessSearchResult.propTypes = {\n  record: PropTypes.object.isRequired,\n  results: PropTypes.array.isRequired,\n  permissions: PropTypes.object.isRequired,\n  fetchData: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2023 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\nimport _isEmpty from \"lodash/isEmpty\";\nimport { UserAccessSearchResult } from \"./UserAccessSearchResult\";\nimport isEmpty from \"lodash/isEmpty\";\nimport React, { Component } from \"react\";\nimport { Modal, Loader, Button, Container } from \"semantic-ui-react\";\nimport PropTypes from \"prop-types\";\nimport { withCancel } from \"react-invenio-forms\";\nimport { http } from \"react-invenio-forms\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\n\nexport class AccessUsers extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      results: undefined,\n      loading: false,\n      error: undefined,\n    };\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentWillUnmount() {\n    this.cancellableAction && this.cancellableAction.cancel();\n  }\n\n  setError = (error) => {\n    this.setState({ error: error });\n  };\n\n  fetchData = async () => {\n    const { record } = this.props;\n    this.setState({ loading: true });\n    try {\n      this.cancellableAction = withCancel(\n        http.get(`${record.links.access_users}?expand=true`)\n      );\n      const response = await this.cancellableAction.promise;\n      this.setState({\n        loading: false,\n        error: undefined,\n        results: response.data.hits.hits,\n      });\n    } catch (error) {\n      if (error === \"UNMOUNTED\") return;\n      this.setState({\n        loading: false,\n        error: error,\n      });\n      console.error(error);\n    }\n  };\n  render() {\n    const { record, handleClose, permissions } = this.props;\n\n    const { results, loading, error } = this.state;\n\n    return (\n      <>\n        {error && error}\n        <Modal.Content>\n          {loading && <Loader isLoading active />}\n          {!loading && !isEmpty(results) && (\n            <UserAccessSearchResult\n              permissions={permissions}\n              results={results}\n              record={record}\n              fetchData={this.fetchData}\n              setError={this.setError}\n            />\n          )}\n          {_isEmpty(results) && (\n            <Container className=\"mt-10\" textAlign=\"center\">\n              <h5>{i18next.t(\"No user has access to this record yet.\")}</h5>\n            </Container>\n          )}\n        </Modal.Content>\n        <Modal.Actions className=\"ui clearing segment\">\n          <Button\n            size=\"small\"\n            onClick={handleClose}\n            floated=\"left\"\n            content={i18next.t(\"Cancel\")}\n            icon=\"remove\"\n          />\n        </Modal.Actions>\n      </>\n    );\n  }\n}\n\nAccessUsers.propTypes = {\n  record: PropTypes.object.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  permissions: PropTypes.object.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2021 Northwestern University.\n// Copyright (C) 2023 TU Wien.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport { Icon, Modal, Tab, Container } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport PropTypes from \"prop-types\";\nimport { LinksTab } from \"./AccessLinks/LinksTab\";\nimport { AccessRequestsTab } from \"./AccessRequests/AccessRequestsTab\";\nimport { AccessUsers } from \"./AccessUsers/AccessUsers\";\n\nexport class ShareModal extends Component {\n  constructor(props) {\n    super(props);\n    const { record } = this.props;\n    this.state = {\n      record: record,\n    };\n  }\n\n  handleRecordUpdate = (updatedRecord) => {\n    this.setState({ record: updatedRecord });\n  };\n\n  panes = (record, accessLinksSearchConfig, permissions) => {\n    const { handleClose } = this.props;\n    return [\n      {\n        menuItem: { icon: \"users\", content: \"People\" },\n        pane: (\n          <Tab.Pane key=\"accessUsers\" as={Container}>\n            <AccessUsers\n              record={record}\n              handleClose={handleClose}\n              permissions={permissions}\n              successCallback={this.handleRecordUpdate}\n            />\n          </Tab.Pane>\n        ),\n      },\n\n      {\n        menuItem: { icon: \"linkify\", content: \"Links\" },\n        pane: (\n          <Tab.Pane key=\"accessLinks\" as={Container}>\n            <LinksTab\n              record={record}\n              accessLinksSearchConfig={accessLinksSearchConfig}\n              handleClose={handleClose}\n            />\n          </Tab.Pane>\n        ),\n      },\n      {\n        menuItem: { icon: \"cog\", content: \"Access requests\" },\n        pane: (\n          <Tab.Pane key=\"accessRequests\" as={Container}>\n            <AccessRequestsTab\n              record={record}\n              handleClose={handleClose}\n              successCallback={this.handleRecordUpdate}\n            />\n          </Tab.Pane>\n        ),\n      },\n    ];\n  };\n\n  render() {\n    const { open, handleClose, accessLinksSearchConfig, permissions } = this.props;\n    const { record } = this.state;\n    return (\n      <Modal\n        open={open}\n        closeIcon\n        onClose={handleClose}\n        className=\"share-modal\"\n        role=\"dialog\"\n        aria-labelledby=\"access-link-modal-header\"\n        aria-modal=\"true\"\n        tab-index=\"-1\"\n        size=\"large\"\n        closeOnDimmerClick={false}\n      >\n        <Modal.Header as=\"h2\" id=\"access-link-modal-header\">\n          <Icon name=\"share square\" />\n          {i18next.t(\"Share access\")}\n        </Modal.Header>\n\n        <Tab\n          menu={{ secondary: true, pointing: true }}\n          panes={this.panes(record, accessLinksSearchConfig, permissions)}\n          renderActiveOnly={false}\n        />\n      </Modal>\n    );\n  }\n}\n\nShareModal.propTypes = {\n  record: PropTypes.object.isRequired,\n  open: PropTypes.bool.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  accessLinksSearchConfig: PropTypes.object.isRequired,\n  permissions: PropTypes.object.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n// Copyright (C) 2023 TU Wien.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { useState } from \"react\";\nimport { Icon, Button, Popup } from \"semantic-ui-react\";\nimport { ShareModal } from \"./ShareModal\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport PropTypes from \"prop-types\";\n\nexport const ShareButton = ({\n  disabled,\n  record,\n  accessLinksSearchConfig,\n  permissions,\n}) => {\n  const [modalOpen, setModalOpen] = useState(false);\n  const handleOpen = () => setModalOpen(true);\n  const handleClose = () => setModalOpen(false);\n\n  return (\n    <>\n      <Popup\n        content={i18next.t(\"You don't have permissions to share this record.\")}\n        disabled={!disabled}\n        trigger={\n          <Button\n            fluid\n            onClick={handleOpen}\n            disabled={disabled}\n            primary\n            size=\"medium\"\n            aria-haspopup=\"dialog\"\n            icon\n            labelPosition=\"left\"\n          >\n            <Icon name=\"share square\" />\n            {i18next.t(\"Share\")}\n          </Button>\n        }\n      />\n      <ShareModal\n        open={modalOpen}\n        handleClose={handleClose}\n        record={record}\n        permissions={permissions}\n        accessLinksSearchConfig={accessLinksSearchConfig}\n      />\n    </>\n  );\n};\n\nShareButton.propTypes = {\n  disabled: PropTypes.bool,\n  record: PropTypes.object.isRequired,\n  accessLinksSearchConfig: PropTypes.object.isRequired,\n  permissions: PropTypes.object.isRequired,\n};\n\nShareButton.defaultProps = {\n  disabled: false,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2023 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React from \"react\";\nimport { Dropdown } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport PropTypes from \"prop-types\";\n\nexport const ManageButton = ({ recid, recordOwnerUsername }) => {\n  return (\n    <Dropdown\n      fluid\n      text={i18next.t(\"Manage\")}\n      icon=\"cog\"\n      floating\n      labeled\n      button\n      className=\"icon text-align-center\"\n    >\n      <Dropdown.Menu>\n        <Dropdown.Item\n          as=\"a\"\n          href={`/administration/records?q=id:${recid}`}\n          target=\"_blank\"\n          key=\"manage_record\"\n          text={i18next.t(\"Manage record\")}\n        />\n        <Dropdown.Item\n          as=\"a\"\n          href={`/administration/users?q=username:${recordOwnerUsername}`}\n          target=\"_blank\"\n          key=\"manage_user\"\n          text={i18next.t(\"Manage user\")}\n        />\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n};\n\nManageButton.propTypes = {\n  recid: PropTypes.string.isRequired,\n  recordOwnerUsername: PropTypes.string.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2020-2021 CERN.\n// Copyright (C) 2020-2021 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\n\nimport React, { Component } from \"react\";\nimport { Button, Grid, Icon, Message } from \"semantic-ui-react\";\n\nimport { EditButton } from \"./EditButton\";\nimport { ShareButton } from \"./ShareOptions/ShareButton\";\nimport { NewVersionButton } from \"@js/invenio_rdm_records/\";\nimport PropTypes from \"prop-types\";\nimport Overridable from \"react-overridable\";\nimport { ManageButton } from \"./ManageButton\";\n\nexport class RecordManagement extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: \"\",\n    };\n  }\n\n  render() {\n    const {\n      record,\n      permissions,\n      isDraft,\n      isPreviewSubmissionRequest,\n      currentUserId,\n      accessLinksSearchConfig,\n      recordOwnerUsername,\n    } = this.props;\n    const { error } = this.state;\n    const { id: recid } = record;\n    const handleError = (errorMessage) => {\n      console.error(errorMessage);\n      this.setState({ error: errorMessage });\n    };\n\n    return (\n      <Grid columns={1} className=\"record-management\">\n        {permissions.can_moderate && (\n          <Grid.Column className=\"pb-5\">\n            <ManageButton recid={recid} recordOwnerUsername={recordOwnerUsername} />\n          </Grid.Column>\n        )}\n        {permissions.can_edit && !isDraft && (\n          <Grid.Column className={permissions.can_manage ? \"pb-5 pt-5\" : \"pb-5\"}>\n            <EditButton recid={recid} onError={handleError} />\n          </Grid.Column>\n        )}\n        {isPreviewSubmissionRequest && isDraft && (\n          <Grid.Column className=\"pb-20\">\n            <Button\n              fluid\n              className=\"warning\"\n              size=\"medium\"\n              onClick={() => (window.location = `/uploads/${recid}`)}\n              icon\n              labelPosition=\"left\"\n            >\n              <Icon name=\"edit\" />\n              {i18next.t(\"Edit\")}\n            </Button>\n          </Grid.Column>\n        )}\n        {!isPreviewSubmissionRequest && (\n          <>\n            <Grid.Column className=\"pt-5 pb-5\">\n              <NewVersionButton\n                fluid\n                size=\"medium\"\n                record={record}\n                onError={handleError}\n                disabled={!permissions.can_new_version}\n              />\n            </Grid.Column>\n\n            <Grid.Column className=\"pt-5\">\n              {permissions.can_manage && (\n                <ShareButton\n                  disabled={!permissions.can_update_draft}\n                  record={record}\n                  accessLinksSearchConfig={accessLinksSearchConfig}\n                  permissions={permissions}\n                />\n              )}\n            </Grid.Column>\n          </>\n        )}\n        <Overridable\n          id=\"InvenioAppRdm.RecordLandingPage.RecordManagement.container\"\n          isPreviewSubmissionRequest={isPreviewSubmissionRequest}\n          record={record}\n          currentUserId={currentUserId}\n        />\n        {error && (\n          <Grid.Row className=\"record-management\">\n            <Grid.Column>\n              <Message negative>{error}</Message>\n            </Grid.Column>\n          </Grid.Row>\n        )}\n      </Grid>\n    );\n  }\n}\n\nRecordManagement.propTypes = {\n  record: PropTypes.object.isRequired,\n  permissions: PropTypes.object.isRequired,\n  isDraft: PropTypes.bool.isRequired,\n  isPreviewSubmissionRequest: PropTypes.bool.isRequired,\n  currentUserId: PropTypes.string.isRequired,\n  recordOwnerUsername: PropTypes.object.isRequired,\n  accessLinksSearchConfig: PropTypes.object.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2020-2021 CERN.\n// Copyright (C) 2020-2021 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport _get from \"lodash/get\";\nimport React, { useEffect, useState } from \"react\";\nimport { Grid, Icon, Message, Placeholder, List, Divider } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport PropTypes from \"prop-types\";\nimport { Trans } from \"react-i18next\";\nimport { withCancel, http, ErrorMessage } from \"react-invenio-forms\";\n\nconst deserializeRecord = (record) => ({\n  id: record.id,\n  parent: record.parent,\n  parent_id: record.parent.id,\n  publication_date: record.ui.publication_date_l10n_medium,\n  version: record.ui.version,\n  links: record.links,\n  pids: record.pids,\n  new_draft_parent_doi: record.ui.new_draft_parent_doi,\n});\n\nconst NUMBER_OF_VERSIONS = 5;\n\nconst RecordVersionItem = ({ item, activeVersion }) => {\n  const doi = _get(item.pids, \"doi.identifier\", \"\");\n  return (\n    <List.Item key={item.id} {...(activeVersion && { className: \"version active\" })}>\n      <List.Content floated=\"left\">\n        {activeVersion ? (\n          <span>{i18next.t(\"Version {{version}}\", { version: item.version })}</span>\n        ) : (\n          <a href={`/records/${item.id}`}>\n            {i18next.t(\"Version {{version}}\", { version: item.version })}\n          </a>\n        )}\n\n        {doi && (\n          <a\n            href={`https://doi.org/${doi}`}\n            className={\"doi\" + (activeVersion ? \" text-muted-darken\" : \" text-muted\")}\n          >\n            {doi}\n          </a>\n        )}\n      </List.Content>\n\n      <List.Content floated=\"right\">\n        <small className={activeVersion ? \"text-muted-darken\" : \"text-muted\"}>\n          {item.publication_date}\n        </small>\n      </List.Content>\n    </List.Item>\n  );\n};\n\nRecordVersionItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  activeVersion: PropTypes.bool.isRequired,\n};\n\nconst PreviewMessage = () => {\n  return (\n    <Message info className=\"no-border-radius m-0\">\n      <Message.Header>\n        <Icon name=\"eye\" />\n        {i18next.t(\"Preview\")}\n      </Message.Header>\n      <p>{i18next.t(\"Only published versions are displayed.\")}</p>\n    </Message>\n  );\n};\n\nexport const RecordVersionsList = ({ record, isPreview }) => {\n  const recordDeserialized = deserializeRecord(record);\n  const recordParentDOI = recordDeserialized?.parent?.pids?.doi?.identifier;\n  const recordDraftParentDOIFormat = recordDeserialized?.new_draft_parent_doi;\n  const recid = recordDeserialized.id;\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [currentRecordInResults, setCurrentRecordInResults] = useState(false);\n  const [recordVersions, setRecordVersions] = useState({});\n\n  const fetchVersions = async () => {\n    return await http.get(\n      `${recordDeserialized.links.versions}?size=${NUMBER_OF_VERSIONS}&sort=version&allversions=true`,\n      {\n        headers: {\n          Accept: \"application/vnd.inveniordm.v1+json\",\n        },\n        withCredentials: true,\n      }\n    );\n  };\n\n  const cancellableFetchCitation = withCancel(fetchVersions());\n\n  useEffect(() => {\n    async function fetchVersions() {\n      try {\n        const result = await cancellableFetchCitation.promise;\n        let { hits, total } = result.data.hits;\n        hits = hits.map(deserializeRecord);\n        setCurrentRecordInResults(hits.some((record) => record.id === recid));\n        setRecordVersions({ hits, total });\n        setLoading(false);\n      } catch (error) {\n        if (error !== \"UNMOUNTED\") {\n          setError(i18next.t(\"An error occurred while fetching the versions.\"));\n          setLoading(false);\n        }\n      }\n    }\n    fetchVersions();\n\n    return () => {\n      cancellableFetchCitation?.cancel();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const loadingcmp = () => {\n    return isPreview ? (\n      <PreviewMessage />\n    ) : (\n      <>\n        <div className=\"rel-p-1\" />\n        <Placeholder className=\"rel-ml-1 rel-mr-1\">\n          <Placeholder.Header>\n            <Placeholder.Line />\n            <Placeholder.Line />\n            <Placeholder.Line />\n          </Placeholder.Header>\n        </Placeholder>\n      </>\n    );\n  };\n\n  const errorMessagecmp = () => (\n    <ErrorMessage className=\"rel-mr-1 rel-ml-1\" content={i18next.t(error)} negative />\n  );\n\n  const recordVersionscmp = () => (\n    <List divided>\n      {isPreview ? <PreviewMessage /> : null}\n      {recordVersions.hits.map((item) => (\n        <RecordVersionItem\n          key={item.id}\n          item={item}\n          activeVersion={item.id === recid}\n        />\n      ))}\n      {!currentRecordInResults && (\n        <>\n          <Divider horizontal>...</Divider>\n          <RecordVersionItem item={recordDeserialized} activeVersion />\n        </>\n      )}\n      {recordVersions.total > 1 && (\n        <Grid className=\"mt-0\">\n          <Grid.Row centered>\n            <a\n              href={`/search?q=parent.id:${recordDeserialized.parent_id}&sort=version&f=allversions:true`}\n              className=\"font-small\"\n            >\n              {i18next.t(`View all {{count}} versions`, {\n                count: recordVersions.total,\n              })}\n            </a>\n          </Grid.Row>\n        </Grid>\n      )}\n      {recordParentDOI ? (\n        <List.Item className=\"parent-doi pr-0\">\n          <List.Content floated=\"left\">\n            <Trans>\n              <p className=\"text-muted\">\n                <strong>Cite all versions?</strong> You can cite all versions by using\n                the DOI{\" \"}\n                <a href={recordDeserialized.links.parent_doi}>{recordParentDOI}</a>.\n                This DOI represents all versions, and will always resolve to the latest\n                one. <a href=\"/help/versioning\">Read more</a>.\n              </p>\n            </Trans>\n          </List.Content>\n        </List.Item>\n      ) : recordDraftParentDOIFormat ? (\n        // new drafts without registered parent dois yet\n        <List.Item className=\"parent-doi pr-0\">\n          <List.Content floated=\"left\">\n            <Trans>\n              <p className=\"text-muted\">\n                <strong>Cite all versions?</strong> You can cite all versions by using\n                the DOI {recordDraftParentDOIFormat}. The DOI is registered when the\n                first version is published. <a href=\"/help/versioning\">Read more</a>.\n              </p>\n            </Trans>\n          </List.Content>\n        </List.Item>\n      ) : null}\n    </List>\n  );\n\n  return loading ? loadingcmp() : error ? errorMessagecmp() : recordVersionscmp();\n};\n\nRecordVersionsList.propTypes = {\n  record: PropTypes.object.isRequired,\n  isPreview: PropTypes.bool.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Graz University of Technology.\n// Copyright (C) 2021 TU Wien\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport _debounce from \"lodash/debounce\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Placeholder, Dropdown, Message } from \"semantic-ui-react\";\nimport { withCancel } from \"react-invenio-forms\";\nimport { CopyButton } from \"../components/CopyButton\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { http } from \"react-invenio-forms\";\n\nexport class RecordCitationField extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      citation: \"\",\n      error: null,\n    };\n  }\n\n  componentDidMount() {\n    const { record, defaultStyle, includeDeleted } = this.props;\n    this.getCitation(record, defaultStyle, includeDeleted);\n  }\n\n  componentWillUnmount() {\n    this.cancellableFetchCitation?.cancel();\n  }\n\n  placeholderLoader = () => {\n    return (\n      <Placeholder>\n        <Placeholder.Paragraph>\n          <Placeholder.Line />\n          <Placeholder.Line />\n          <Placeholder.Line />\n        </Placeholder.Paragraph>\n      </Placeholder>\n    );\n  };\n\n  errorMessage = (message) => {\n    return <Message negative>{message}</Message>;\n  };\n\n  fetchCitation = async (record, style, includeDeleted) => {\n    const includeDeletedParam = includeDeleted === true ? \"&include_deleted=1\" : \"\";\n    const url = `${record.links.self}?locale=${navigator.language}&style=${style}${includeDeletedParam}`;\n    return await http.get(url, {\n      headers: {\n        Accept: \"text/x-bibliography\",\n      },\n    });\n  };\n\n  getCitation = async (record, style, includeDeleted) => {\n    this.setState({\n      loading: true,\n      citation: \"\",\n      error: \"\",\n    });\n\n    this.cancellableFetchCitation = withCancel(\n      this.fetchCitation(record, style, includeDeleted)\n    );\n\n    try {\n      const response = await this.cancellableFetchCitation.promise;\n      this.setState({\n        loading: false,\n        citation: response.data,\n      });\n    } catch (error) {\n      if (error !== \"UNMOUNTED\") {\n        this.setState({\n          loading: false,\n          citation: \"\",\n          error: i18next.t(\"An error occurred while generating the citation.\"),\n        });\n      }\n    }\n  };\n\n  render() {\n    const { styles, record, defaultStyle, includeDeleted } = this.props;\n    const { loading, citation, error } = this.state;\n    const citationOptions = styles.map((style) => {\n      return {\n        key: style[0],\n        value: style[0],\n        text: style[1],\n      };\n    });\n\n    return (\n      <div>\n        <div id=\"citation-text\" className=\"wrap-overflowing-text rel-mb-2\">\n          {loading ? this.placeholderLoader() : citation}\n        </div>\n\n        <div className=\"auto-column-grid no-wrap\">\n          <div className=\"flex align-items-center\">\n            <label id=\"citation-style-label\" className=\"mr-10\">\n              {i18next.t(\"Style\")}\n            </label>\n            <Dropdown\n              className=\"citation-dropdown\"\n              aria-labelledby=\"citation-style-label\"\n              defaultValue={defaultStyle}\n              options={citationOptions}\n              selection\n              onChange={_debounce(\n                (event, data) => this.getCitation(record, data.value, includeDeleted),\n                500\n              )}\n            />\n          </div>\n          <CopyButton text={citation} />\n        </div>\n        {error ? this.errorMessage(error) : null}\n      </div>\n    );\n  }\n}\n\nRecordCitationField.propTypes = {\n  styles: PropTypes.array.isRequired,\n  record: PropTypes.object.isRequired,\n  defaultStyle: PropTypes.string.isRequired,\n  includeDeleted: PropTypes.bool.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2023 CERN.\n// Copyright (C) 2023 Northwestern University.\n//\n// Invenio App RDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Grid, Dropdown, Button } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\n\nexport class ExportDropdown extends Component {\n  constructor(props) {\n    super(props);\n    const { formats } = this.props;\n    this.state = {\n      selectedFormatUrl: formats[0]?.export_url,\n    };\n  }\n  render() {\n    const { formats } = this.props;\n    const { selectedFormatUrl } = this.state;\n    const exportOptions = formats.map((option, index) => {\n      return {\n        key: `option-${index}`,\n        text: option.name,\n        value: option.export_url,\n      };\n    });\n\n    return (\n      <Grid>\n        <Grid.Column width={11}>\n          <Dropdown\n            aria-label={i18next.t(\"Export selection\")}\n            selection\n            fluid\n            selectOnNavigation={false}\n            options={exportOptions}\n            onChange={(event, data) => this.setState({ selectedFormatUrl: data.value })}\n            defaultValue={selectedFormatUrl}\n          />\n        </Grid.Column>\n        <Grid.Column width={5} className=\"pl-0\">\n          <Button\n            as=\"a\"\n            role=\"button\"\n            fluid\n            href={selectedFormatUrl}\n            title={i18next.t(\"Download file\")}\n          >\n            {i18next.t(\"Export\")}\n          </Button>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nExportDropdown.propTypes = {\n  formats: PropTypes.array.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2023 CERN.\n// Copyright (C) 2023 KTH Royal Institute of Technology\n//\n// Invenio App RDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport { Button, Modal, Message, Icon, Checkbox } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { Trans } from \"react-i18next\";\nimport { http, ErrorMessage } from \"react-invenio-forms\";\nimport PropTypes from \"prop-types\";\n\nexport class RemoveFromCommunityAction extends Component {\n  constructor(props) {\n    super(props);\n    this.INITIAL_STATE = {\n      modalOpen: false,\n      loading: false,\n      error: undefined,\n      checkboxMembers: false,\n      checkboxRecords: false,\n      buttonDisabled: true,\n    };\n    this.state = this.INITIAL_STATE;\n\n    this.checkBoxRef = React.createRef();\n  }\n\n  componentDidUpdate() {\n    const { modalOpen } = this.state;\n    if (modalOpen && this.checkBoxRef) {\n      const {\n        current: { inputRef },\n      } = this.checkBoxRef;\n      inputRef?.current?.focus(); // A11y: Focus first interactive element when modal opens\n    }\n  }\n\n  openConfirmModal = () => this.setState({ modalOpen: true });\n  closeConfirmModal = () => this.setState(this.INITIAL_STATE);\n\n  handleDelete = async () => {\n    const { result, recordCommunityEndpoint, successCallback } = this.props;\n\n    this.setState({ loading: true });\n    const payload = {\n      communities: [{ id: result.id }],\n    };\n\n    try {\n      const response = await http.delete(recordCommunityEndpoint, {\n        data: payload,\n      });\n      successCallback(response.data);\n      this.closeConfirmModal();\n    } catch (e) {\n      this.setState({ error: e, loading: false });\n    }\n  };\n\n  handleCheckboxChange = (e, { id, checked }) => {\n    const { checkboxRecords, checkboxMembers } = this.state;\n\n    if (id === \"members-confirm\") {\n      this.setState({\n        checkboxMembers: checked,\n        buttonDisabled: !(checked && checkboxRecords),\n      });\n    }\n    if (id === \"records-confirm\") {\n      this.setState({\n        checkboxRecords: checked,\n        buttonDisabled: !(checkboxMembers && checked),\n      });\n    }\n  };\n\n  render() {\n    const {\n      modalOpen,\n      loading,\n      error,\n      checkboxMembers,\n      checkboxRecords,\n      buttonDisabled,\n    } = this.state;\n    const { result } = this.props;\n    const communityTitle = result.metadata.title;\n\n    return (\n      <>\n        <Button\n          size=\"tiny\"\n          negative\n          labelPosition=\"left\"\n          icon=\"trash\"\n          floated=\"right\"\n          onClick={this.openConfirmModal}\n          content={i18next.t(\"Remove\")}\n          aria-label={i18next.t(\"Remove {{communityTitle}} from this record\", {\n            communityTitle,\n          })}\n        />\n        <Modal size=\"tiny\" dimmer=\"blurring\" open={modalOpen}>\n          <Modal.Header as=\"h2\">{i18next.t(\"Remove community\")}</Modal.Header>\n          <Modal.Content>\n            <p>\n              {i18next.t(\n                \"Are you sure you want to remove the record from the community?\"\n              )}\n            </p>\n\n            <Message negative>\n              <Message.Header className=\"rel-mb-1\">\n                <Icon name=\"warning sign\" className=\"rel-mr-1\" />\n                {i18next.t(\"I understand the consequences:\")}\n              </Message.Header>\n              <>\n                <Checkbox\n                  ref={this.checkBoxRef}\n                  id=\"members-confirm\"\n                  label={\n                    /* eslint-disable-next-line jsx-a11y/label-has-associated-control */\n                    <label>\n                      <Trans>\n                        Members of the community <b>\"{{ communityTitle }}\"</b> will{\" \"}\n                        <u>lose their access</u> to the record.\n                      </Trans>\n                    </label>\n                  }\n                  checked={checkboxMembers}\n                  onChange={this.handleCheckboxChange}\n                  className=\"mb-5\"\n                />\n                <Checkbox\n                  id=\"records-confirm\"\n                  label={i18next.t(\n                    \"The record can only be re-included in the community by going through a new review by the community curators.\"\n                  )}\n                  checked={checkboxRecords}\n                  onChange={this.handleCheckboxChange}\n                  className=\"mb-5\"\n                />\n              </>\n            </Message>\n          </Modal.Content>\n\n          <Modal.Actions>\n            {error && (\n              <ErrorMessage\n                header={i18next.t(\"Something went wrong\")}\n                content={error.response?.data?.errors[0]?.message || error.message}\n                icon=\"exclamation\"\n                className=\"text-align-left\"\n                negative\n              />\n            )}\n            <Button\n              onClick={() => this.closeConfirmModal()}\n              floated=\"left\"\n              disabled={loading}\n              loading={loading}\n              aria-label={i18next.t(\"Cancel removal\")}\n            >\n              {i18next.t(\"Cancel\")}\n            </Button>\n            <Button\n              disabled={buttonDisabled || loading}\n              negative\n              onClick={() => this.handleDelete()}\n              loading={loading}\n              content={i18next.t(\"Remove\")}\n              aria-label={i18next.t(\"Confirm removal\")}\n            />\n          </Modal.Actions>\n        </Modal>\n      </>\n    );\n  }\n}\n\nRemoveFromCommunityAction.propTypes = {\n  result: PropTypes.object.isRequired,\n  recordCommunityEndpoint: PropTypes.object.isRequired,\n  successCallback: PropTypes.func.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2023 CERN.\n//\n// Invenio App RDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport { Button, Message, Popup } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { http, withCancel } from \"react-invenio-forms\";\nimport PropTypes from \"prop-types\";\n\nexport class ManageDefaultBrandingAction extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      error: undefined,\n    };\n  }\n\n  componentWillUnmount() {\n    this.cancellableAction && this.cancellableAction.cancel();\n  }\n\n  handleSetBranding = async (value) => {\n    const { recordCommunityEndpoint, updateRecordCallback } = this.props;\n    this.setState({ loading: true });\n\n    const payload = {\n      default: value,\n    };\n\n    this.cancellableAction = withCancel(http.put(recordCommunityEndpoint, payload));\n\n    try {\n      const response = await this.cancellableAction.promise;\n      this.setState({ loading: false });\n      updateRecordCallback(response.data);\n    } catch (error) {\n      if (error === \"UNMOUNTED\") return;\n\n      console.error(error);\n      this.setState({\n        error: error?.response?.data?.message || error?.message,\n        loading: false,\n      });\n    }\n  };\n\n  renderCommunity = () => {\n    const { loading } = this.state;\n    const { result, isCommunityDefault } = this.props;\n    const communityTitle = result.metadata.title;\n\n    return isCommunityDefault ? (\n      <Popup\n        trigger={\n          <Button\n            size=\"tiny\"\n            labelPosition=\"left\"\n            icon=\"paint brush\"\n            floated=\"right\"\n            onClick={() => this.handleSetBranding(\"\")}\n            content={i18next.t(\"Remove branding\")}\n            aria-label={i18next.t(\n              \"{{communityTitle}} is a default branding for this record\",\n              {\n                communityTitle,\n              }\n            )}\n            loading={loading}\n          />\n        }\n        content={i18next.t(\n          \"Remove this community from appearing on top of the record details page.\"\n        )}\n        position=\"top center\"\n      />\n    ) : (\n      <Popup\n        trigger={\n          <Button\n            size=\"tiny\"\n            labelPosition=\"left\"\n            icon=\"paint brush\"\n            floated=\"right\"\n            onClick={() => this.handleSetBranding(result.id)}\n            content={i18next.t(\"Set branding\")}\n            aria-label={i18next.t(\n              \"Set {{communityTitle}} as a default branding for this record\",\n              {\n                communityTitle,\n              }\n            )}\n            loading={loading}\n          />\n        }\n        content={i18next.t(\n          \"Set this community to appear on the top of the record details page.\"\n        )}\n        position=\"top center\"\n      />\n    );\n  };\n\n  render() {\n    const { error } = this.state;\n    return error ? (\n      <Message\n        negative\n        floated=\"right\"\n        className=\"community-branding-error\"\n        size=\"tiny\"\n      >\n        {error}\n      </Message>\n    ) : (\n      this.renderCommunity()\n    );\n  }\n}\n\nManageDefaultBrandingAction.propTypes = {\n  result: PropTypes.object.isRequired,\n  recordCommunityEndpoint: PropTypes.object.isRequired,\n  updateRecordCallback: PropTypes.func.isRequired,\n  isCommunityDefault: PropTypes.bool.isRequired,\n};\n","import { RemoveFromCommunityAction } from \"../RemoveFromCommunity/RemoveFromCommunityAction\";\nimport React, { Component } from \"react\";\nimport { CommunityCompactItem } from \"@js/invenio_communities/community\";\nimport PropTypes from \"prop-types\";\nimport { ManageDefaultBrandingAction } from \"../ManageDefaultBrandingAction/ManageDefaultBrandingAction\";\n\nexport class RecordCommunitiesSearchItem extends Component {\n  render() {\n    const {\n      result,\n      successCallback,\n      updateRecordCallback,\n      recordCommunityEndpoint,\n      recordParent,\n      permissions: { can_manage: canManage },\n    } = this.props;\n\n    const isCommunityDefault = recordParent?.communities?.default === result?.id;\n    const actions = canManage && (\n      <>\n        <ManageDefaultBrandingAction\n          result={result}\n          recordCommunityEndpoint={recordCommunityEndpoint}\n          updateRecordCallback={updateRecordCallback}\n          isCommunityDefault={isCommunityDefault}\n        />\n        <RemoveFromCommunityAction\n          result={result}\n          recordCommunityEndpoint={recordCommunityEndpoint}\n          successCallback={successCallback}\n        />\n      </>\n    );\n    return (\n      <CommunityCompactItem\n        actions={actions}\n        result={result}\n        isCommunityDefault={isCommunityDefault}\n      />\n    );\n  }\n}\n\nRecordCommunitiesSearchItem.propTypes = {\n  result: PropTypes.object.isRequired,\n  recordCommunityEndpoint: PropTypes.string.isRequired,\n  successCallback: PropTypes.func.isRequired,\n  updateRecordCallback: PropTypes.func.isRequired,\n  permissions: PropTypes.object.isRequired,\n  recordParent: PropTypes.object.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2023 CERN.\n//\n// InvenioRDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { RecordCommunitiesSearchItem } from \"./RecordCommunitiesSearchItem\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { OverridableContext, parametrize } from \"react-overridable\";\nimport {\n  EmptyResults,\n  Error,\n  InvenioSearchApi,\n  ReactSearchKit,\n  ResultsList,\n  ResultsLoader,\n  SearchBar,\n  Pagination,\n} from \"react-searchkit\";\nimport { Modal } from \"semantic-ui-react\";\n\nconst appName = \"InvenioAppRdm.RecordCommunitiesSearch\";\n\nexport class RecordCommunitiesSearch extends Component {\n  handleSuccessCallback = (data) => {\n    const { successActionCallback } = this.props;\n    successActionCallback(data, i18next.t(\"Success\"));\n  };\n\n  render() {\n    const { recordCommunityEndpoint, permissions, recordParent, updateRecordCallback } =\n      this.props;\n    const overriddenComponents = {\n      [`${appName}.ResultsList.item`]: parametrize(RecordCommunitiesSearchItem, {\n        recordCommunityEndpoint: recordCommunityEndpoint,\n        successCallback: this.handleSuccessCallback,\n        updateRecordCallback: updateRecordCallback,\n        permissions: permissions,\n        recordParent: recordParent,\n      }),\n    };\n\n    const searchApi = new InvenioSearchApi({\n      axios: {\n        url: recordCommunityEndpoint,\n        headers: { Accept: \"application/vnd.inveniordm.v1+json\" },\n      },\n    });\n\n    return (\n      <OverridableContext.Provider value={overriddenComponents}>\n        <ReactSearchKit\n          appName={appName}\n          urlHandlerApi={{ enabled: false }}\n          searchApi={searchApi}\n          initialQueryState={{ size: 5, page: 1 }}\n        >\n          <>\n            <Modal.Content>\n              <SearchBar\n                autofocus\n                actionProps={{\n                  \"icon\": \"search\",\n                  \"content\": null,\n                  \"className\": \"search\",\n                  \"aria-label\": i18next.t(\"Search\"),\n                }}\n                placeholder={i18next.t(\"Search for community...\")}\n              />\n            </Modal.Content>\n\n            <Modal.Content scrolling className=\"community-list-results\">\n              <ResultsLoader>\n                <EmptyResults />\n                <Error />\n                <ResultsList />\n              </ResultsLoader>\n            </Modal.Content>\n\n            <Modal.Content className=\"text-align-center\">\n              <Pagination />\n            </Modal.Content>\n          </>\n        </ReactSearchKit>\n      </OverridableContext.Provider>\n    );\n  }\n}\n\nRecordCommunitiesSearch.propTypes = {\n  recordCommunityEndpoint: PropTypes.string.isRequired,\n  successActionCallback: PropTypes.func.isRequired,\n  updateRecordCallback: PropTypes.func.isRequired,\n  permissions: PropTypes.object.isRequired,\n  recordParent: PropTypes.object.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2023 CERN.\n//\n// InvenioRDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Header, Modal, Button } from \"semantic-ui-react\";\nimport { RecordCommunitiesSearch } from \"./RecordCommunitiesSearch\";\n\nexport class RecordCommunitiesListModal extends Component {\n  constructor(props) {\n    super(props);\n    const { record } = this.props;\n    this.state = {\n      recordParent: record.parent,\n    };\n  }\n\n  handleRecordUpdate = (updatedRecord) => {\n    this.setState({ recordParent: updatedRecord });\n  };\n\n  render() {\n    const {\n      recordCommunityEndpoint,\n      modalOpen,\n      successActionCallback,\n      handleOnOpen,\n      handleOnClose,\n      trigger,\n      permissions,\n    } = this.props;\n    const { recordParent } = this.state;\n\n    return (\n      <Modal\n        role=\"dialog\"\n        aria-labelledby=\"record-communities-header\"\n        id=\"community-selection-modal\"\n        closeOnDimmerClick={false}\n        closeIcon\n        open={modalOpen}\n        onClose={handleOnClose}\n        onOpen={handleOnOpen}\n        trigger={trigger}\n      >\n        <Modal.Header>\n          <Header as=\"h2\" size=\"small\" id=\"record-communities-header\" className=\"mt-5\">\n            {i18next.t(\"Communities\")}\n          </Header>\n        </Modal.Header>\n\n        <RecordCommunitiesSearch\n          recordCommunityEndpoint={recordCommunityEndpoint}\n          successActionCallback={successActionCallback}\n          permissions={permissions}\n          recordParent={recordParent}\n          updateRecordCallback={this.handleRecordUpdate}\n        />\n\n        <Modal.Actions>\n          <Button onClick={handleOnClose}>{i18next.t(\"Close\")}</Button>\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nRecordCommunitiesListModal.propTypes = {\n  recordCommunityEndpoint: PropTypes.string.isRequired,\n  trigger: PropTypes.object,\n  modalOpen: PropTypes.bool,\n  successActionCallback: PropTypes.func.isRequired,\n  handleOnClose: PropTypes.func.isRequired,\n  handleOnOpen: PropTypes.func.isRequired,\n  permissions: PropTypes.object.isRequired,\n  record: PropTypes.object.isRequired,\n};\n\nRecordCommunitiesListModal.defaultProps = {\n  modalOpen: false,\n  trigger: undefined,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2023-2024 CERN.\n//\n// InvenioRDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { Image } from \"react-invenio-forms\";\nimport { Item, Message, Popup, Placeholder, Header, Icon } from \"semantic-ui-react\";\n\nexport class RecordCommunitiesList extends Component {\n  render() {\n    const { communities, loading, error, maxDisplayedCommunities, branded } =\n      this.props;\n    let Element = null;\n\n    if (loading) {\n      Element = (\n        <Placeholder>\n          <Placeholder.Header image>\n            <Placeholder.Line />\n            <Placeholder.Line />\n          </Placeholder.Header>\n          <Placeholder.Header image>\n            <Placeholder.Line />\n            <Placeholder.Line />\n          </Placeholder.Header>\n          <Placeholder.Header image>\n            <Placeholder.Line />\n            <Placeholder.Line />\n          </Placeholder.Header>\n        </Placeholder>\n      );\n    } else if (_isEmpty(communities)) {\n      Element = (\n        <p>\n          <i>\n            <small>\n              {i18next.t(\"This record is not included in any communities yet.\")}\n            </small>\n          </i>\n        </p>\n      );\n    } else if (communities?.length > 0) {\n      const communityItems = communities\n        ?.slice(0, maxDisplayedCommunities)\n        .map((community) => (\n          <Item key={community.id}>\n            <Image wrapped size=\"mini\" src={community.links.logo} alt=\"\" />\n            <Item.Content verticalAlign=\"middle\">\n              <Item.Header as={Header}>\n                <Header as=\"a\" href={community.links.self_html} size=\"small\">\n                  {community.metadata.title}\n                </Header>\n                {community.id === branded && community?.theme && (\n                  <p className=\"ml-5 display-inline-block\">\n                    <Popup\n                      content=\"Verified community\"\n                      trigger={<Icon color=\"green\" name=\"check circle outline\" />}\n                      position=\"top center\"\n                    />\n                  </p>\n                )}\n              </Item.Header>\n            </Item.Content>\n          </Item>\n        ));\n\n      Element = (\n        <>\n          <Item.Group unstackable>{communityItems}</Item.Group>\n          {error && <Message error>{error}</Message>}\n        </>\n      );\n    }\n    return Element;\n  }\n}\n\nRecordCommunitiesList.propTypes = {\n  maxDisplayedCommunities: PropTypes.number.isRequired,\n  communities: PropTypes.array,\n  loading: PropTypes.bool,\n  error: PropTypes.string,\n  branded: PropTypes.string,\n};\n\nRecordCommunitiesList.defaultProps = {\n  communities: undefined,\n  loading: false,\n  error: \"\",\n  branded: undefined,\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { CommunityCompactItem } from \"@js/invenio_communities/community\";\nimport { RequestActionController } from \"@js/invenio_requests\";\n\nexport class PendingCommunityRequestItem extends Component {\n  render() {\n    const { result, successCallback } = this.props;\n    const {\n      expanded: { receiver: community },\n      links: { self_html: requestLinkSelf },\n    } = result;\n    const requestLink = requestLinkSelf.replace(\"/requests\", \"/me/requests\"); //We should use self_html once the following issue is fixed: https://github.com/inveniosoftware/invenio-requests/issues/332\n    const actions = (\n      <RequestActionController\n        request={result}\n        actionSuccessCallback={successCallback}\n      />\n    );\n    return (\n      <CommunityCompactItem\n        result={community}\n        actions={actions}\n        detailUrl={requestLink}\n      />\n    );\n  }\n}\n\nPendingCommunityRequestItem.propTypes = {\n  result: PropTypes.object.isRequired,\n  successCallback: PropTypes.func.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2023 CERN.\n//\n// InvenioRDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { defaultContribComponents } from \"@js/invenio_requests/contrib\";\nimport { PendingCommunityRequestItem } from \"./PendingCommunityRequestItem\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { OverridableContext, parametrize } from \"react-overridable\";\nimport {\n  EmptyResults,\n  Error,\n  InvenioSearchApi,\n  ReactSearchKit,\n  ResultsList,\n  ResultsLoader,\n  SearchBar,\n  Pagination,\n} from \"react-searchkit\";\nimport { Modal } from \"semantic-ui-react\";\n\nconst appName = \"InvenioAppRdm.PendingCommunitiesSearch\";\n\nexport class PendingCommunitiesSearch extends Component {\n  handleSuccessCallback = (data) => {\n    const { successActionCallback } = this.props;\n    successActionCallback(data, i18next.t(\"Success\"));\n  };\n\n  render() {\n    const { searchConfig } = this.props;\n    const searchApi = new InvenioSearchApi(searchConfig[\"searchApi\"]);\n\n    const overriddenComponents = {\n      [`${appName}.ResultsList.item`]: parametrize(PendingCommunityRequestItem, {\n        successCallback: this.handleSuccessCallback,\n      }),\n      ...defaultContribComponents,\n    };\n\n    return (\n      <OverridableContext.Provider value={overriddenComponents}>\n        <ReactSearchKit\n          appName={appName}\n          urlHandlerApi={{ enabled: false }}\n          searchApi={searchApi}\n          initialQueryState={searchConfig.initialQueryState}\n        >\n          <>\n            <Modal.Content>\n              <SearchBar\n                autofocus\n                actionProps={{\n                  \"icon\": \"search\",\n                  \"content\": null,\n                  \"className\": \"search\",\n                  \"aria-label\": i18next.t(\"Search\"),\n                }}\n                placeholder={i18next.t(\n                  \"Search for pending submissions to communities...\"\n                )}\n              />\n            </Modal.Content>\n\n            <Modal.Content scrolling className=\"community-list-results\">\n              <ResultsLoader>\n                <EmptyResults />\n                <Error />\n                <ResultsList />\n              </ResultsLoader>\n            </Modal.Content>\n\n            <Modal.Content className=\"text-align-center\">\n              <Pagination />\n            </Modal.Content>\n          </>\n        </ReactSearchKit>\n      </OverridableContext.Provider>\n    );\n  }\n}\n\nPendingCommunitiesSearch.propTypes = {\n  searchConfig: PropTypes.object.isRequired,\n  successActionCallback: PropTypes.func.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2023 CERN.\n//\n// InvenioRDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Header, Modal, Button } from \"semantic-ui-react\";\nimport { PendingCommunitiesSearch } from \"./PendingCommunitiesSearch\";\n\nexport class PendingCommunitiesModal extends Component {\n  render() {\n    const {\n      searchConfig,\n      modalOpen,\n      successActionCallback,\n      handleOnOpen,\n      handleOnClose,\n    } = this.props;\n\n    return (\n      <Modal\n        role=\"dialog\"\n        aria-labelledby=\"record-communities-header\"\n        id=\"community-selection-modal\"\n        closeIcon\n        closeOnDimmerClick={false}\n        open={modalOpen}\n        onClose={handleOnClose}\n        onOpen={handleOnOpen}\n      >\n        <Modal.Header>\n          <Header as=\"h2\" size=\"small\" id=\"record-communities-header\" className=\"mt-5\">\n            {i18next.t(\"Pending communities\")}\n          </Header>\n        </Modal.Header>\n\n        <PendingCommunitiesSearch\n          searchConfig={searchConfig}\n          successActionCallback={successActionCallback}\n        />\n\n        <Modal.Actions>\n          <Button onClick={handleOnClose}>{i18next.t(\"Close\")}</Button>\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nPendingCommunitiesModal.propTypes = {\n  searchConfig: PropTypes.object.isRequired,\n  modalOpen: PropTypes.bool,\n  successActionCallback: PropTypes.func.isRequired,\n  handleOnClose: PropTypes.func.isRequired,\n  handleOnOpen: PropTypes.func.isRequired,\n};\n\nPendingCommunitiesModal.defaultProps = {\n  modalOpen: false,\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { Message } from \"semantic-ui-react\";\nimport { http } from \"react-invenio-forms\";\nimport {\n  CommunitySelectionModalComponent,\n  SubmitReviewModal,\n} from \"@js/invenio_rdm_records\";\n\nexport class RecordCommunitySubmissionModal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      confirmationModalOpen: false,\n      selectedCommunity: null,\n      loading: false,\n      error: null,\n    };\n  }\n\n  changeSelectedCommunity = (community) => {\n    this.setState({\n      selectedCommunity: community,\n      error: null,\n    });\n    this.openConfirmModal();\n  };\n\n  canIncludeDirectly = () => {\n    const { selectedCommunity } = this.state;\n    const { userCommunitiesMemberships } = this.props;\n    const userMembership = userCommunitiesMemberships[selectedCommunity?.id];\n    return userMembership && selectedCommunity?.access.review_policy === \"open\";\n  };\n\n  isIncludedDirectly = (requestData) => {\n    return requestData[\"is_closed\"] && requestData[\"status\"] === \"accepted\";\n  };\n\n  handleSuccessSubmit = (data) => {\n    const { handleSuccessAction } = this.props;\n    this.closeConfirmModal();\n    if (this.isIncludedDirectly(data.processed[0].request)) {\n      handleSuccessAction(data, i18next.t(\"Record submitted\"));\n    } else handleSuccessAction(data, i18next.t(\"Review requested\"));\n  };\n\n  submitCommunity = async (reviewComment) => {\n    const { recordCommunityEndpoint } = this.props;\n    const { selectedCommunity } = this.state;\n\n    this.setState({\n      loading: true,\n      error: null,\n    });\n\n    try {\n      let data = {\n        communities: [\n          {\n            id: selectedCommunity.id,\n          },\n        ],\n      };\n\n      if (reviewComment) {\n        data = {\n          communities: [\n            {\n              id: selectedCommunity.id,\n              comment: {\n                payload: {\n                  content: reviewComment,\n                  format: \"html\",\n                },\n              },\n            },\n          ],\n        };\n      }\n      const response = await http.post(recordCommunityEndpoint, data);\n      this.handleSuccessSubmit(response.data);\n    } catch (error) {\n      console.error(error);\n      this.setState({\n        error: error.response.data.errors[0].message,\n      });\n    } finally {\n      this.setState({ loading: false });\n    }\n  };\n\n  openConfirmModal = () => this.setState({ confirmationModalOpen: true });\n  closeConfirmModal = () => this.setState({ confirmationModalOpen: false });\n\n  render() {\n    const { selectedCommunity, confirmationModalOpen, loading, error } = this.state;\n    const {\n      userCommunitiesMemberships,\n      modalOpen,\n      toggleModal,\n      recordUserCommunitySearchConfig,\n      recordCommunitySearchConfig,\n      handleClose,\n      record,\n    } = this.props;\n    const apiConfigs = {\n      allCommunities: {\n        ...recordCommunitySearchConfig,\n        toggleText: i18next.t(\"Search in all communities\"),\n      },\n      myCommunities: {\n        ...recordUserCommunitySearchConfig,\n        toggleText: i18next.t(\"Search in my communities\"),\n      },\n    };\n\n    return (\n      <>\n        <CommunitySelectionModalComponent\n          onCommunityChange={this.changeSelectedCommunity}\n          chosenCommunity={selectedCommunity}\n          modalOpen={modalOpen}\n          userCommunitiesMemberships={userCommunitiesMemberships}\n          onModalChange={toggleModal}\n          modalHeader={i18next.t(\"Select a community\")}\n          apiConfigs={apiConfigs}\n          handleClose={handleClose}\n          record={record}\n          isInitialSubmission={false}\n        />\n        {confirmationModalOpen && (\n          <SubmitReviewModal\n            loading={loading}\n            errors={error && <Message error>{error}</Message>}\n            isConfirmModalOpen={confirmationModalOpen}\n            onSubmit={({ reviewComment }) => this.submitCommunity(reviewComment)}\n            community={selectedCommunity}\n            onClose={() => this.closeConfirmModal()}\n            directPublish={this.canIncludeDirectly()}\n            record={record}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nRecordCommunitySubmissionModal.propTypes = {\n  modalOpen: PropTypes.bool,\n  toggleModal: PropTypes.func.isRequired,\n  userCommunitiesMemberships: PropTypes.object.isRequired,\n  handleSuccessAction: PropTypes.func.isRequired,\n  recordCommunityEndpoint: PropTypes.string.isRequired,\n  recordCommunitySearchConfig: PropTypes.object.isRequired,\n  recordUserCommunitySearchConfig: PropTypes.string.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  record: PropTypes.object.isRequired,\n};\n\nRecordCommunitySubmissionModal.defaultProps = {\n  modalOpen: false,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2023 CERN.\n//\n// Invenio App RDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { PendingCommunitiesModal } from \"./PendingCommunitiesModal/PendingCommunitiesModal\";\nimport { RecordCommunitySubmissionModal } from \"./RecordCommunitySubmission/RecordCommunitySubmissionModal\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Dropdown, Icon } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { SuccessIcon } from \"@js/invenio_communities/members\";\n\nexport class CommunitiesManagementDropdown extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      submissionModalOpen: false,\n      pendingRequestModalOpen: false,\n      visibleSuccessAction: false,\n      actionFeedback: \"\",\n    };\n    this.dropdownRef = React.createRef();\n  }\n\n  focusDropdownRef = () => {\n    // A11y: Bring focus to the dropdown menu (e.g. when the modal closes)\n    const {\n      current: {\n        ref: { current: dropdownToggle },\n      },\n    } = this.dropdownRef;\n    dropdownToggle.focus();\n  };\n\n  handleSuccessAction = (data, text) => {\n    const { actionSucceed } = this.props;\n    this.setState({ actionFeedback: text, visibleSuccessAction: false });\n    this.toggleSubmissionModal(false);\n    this.togglePendingRequestsModal(false);\n    this.setState({ visibleSuccessAction: true });\n    this.focusDropdownRef();\n\n    actionSucceed();\n  };\n\n  toggleSubmissionModal = (value) => {\n    this.setState({ submissionModalOpen: value });\n    if (!value) this.focusDropdownRef();\n  };\n\n  togglePendingRequestsModal = (value) => {\n    this.setState({ pendingRequestModalOpen: value });\n    if (!value) this.focusDropdownRef();\n  };\n\n  handleChange = (event, data) => {\n    // A11y: Needed to trigger keyboard events as well as click events\n    const { toggleManageCommunitiesModal } = this.props;\n\n    switch (data.value) {\n      case \"submit-to-community\":\n        this.toggleSubmissionModal(true);\n        break;\n      case \"pending-submissions\":\n        this.togglePendingRequestsModal(true);\n        break;\n      case \"manage-communities\":\n        toggleManageCommunitiesModal(true);\n        break;\n      default:\n        return;\n    }\n  };\n\n  render() {\n    const {\n      visibleSuccessAction,\n      submissionModalOpen,\n      actionFeedback,\n      pendingRequestModalOpen,\n    } = this.state;\n\n    const {\n      userCommunitiesMemberships,\n      searchConfig,\n      recordCommunitySearchConfig,\n      recordCommunityEndpoint,\n      recordUserCommunitySearchConfig,\n      record,\n    } = this.props;\n\n    const options = [\n      {\n        id: \"submit-to-community\",\n        value: \"submit-to-community\",\n        text: i18next.t(\"Submit to community\"),\n        icon: \"plus\",\n      },\n      {\n        id: \"pending-submissions\",\n        value: \"pending-submissions\",\n        text: i18next.t(\"Pending submissions\"),\n        icon: \"comments outline\",\n      },\n      {\n        id: \"manage-communities\",\n        value: \"manage-communities\",\n        text: i18next.t(\"Manage communities\"),\n        icon: \"settings\",\n      },\n    ];\n    return (\n      <>\n        <div className=\"flex align-items-baseline ml-auto rel-mr-1 green-color\">\n          {visibleSuccessAction && (\n            <SuccessIcon\n              timeOutDelay={5000}\n              show={visibleSuccessAction}\n              content={\n                <div\n                  role=\"alert\"\n                  className=\"half-width sub header small text size truncated\"\n                >\n                  {actionFeedback}\n                </div>\n              }\n            />\n          )}\n        </div>\n        <Dropdown\n          ref={this.dropdownRef}\n          id=\"modal-dropdown\"\n          className=\"manage-menu-dropdown\"\n          aria-label={i18next.t(\"Community management menu dropdown\")}\n          closeOnChange\n          direction=\"left\"\n          options={options}\n          onChange={this.handleChange}\n          selectOnBlur={false}\n          selectOnNavigation={false}\n          value={null} // A11y: needed to trigger the onChange (-triggers both mouse & keyboard) event on every select\n          trigger={<Icon name=\"cog\" color=\"grey\" className=\"ml-0\" />}\n        />\n\n        <RecordCommunitySubmissionModal\n          modalOpen={submissionModalOpen}\n          userCommunitiesMemberships={userCommunitiesMemberships}\n          toggleModal={this.toggleSubmissionModal}\n          handleClose={() => this.toggleSubmissionModal(false)}\n          handleSuccessAction={this.handleSuccessAction}\n          recordCommunityEndpoint={recordCommunityEndpoint}\n          recordCommunitySearchConfig={recordCommunitySearchConfig}\n          recordUserCommunitySearchConfig={recordUserCommunitySearchConfig}\n          record={record}\n        />\n        <PendingCommunitiesModal\n          modalOpen={pendingRequestModalOpen}\n          handleOnOpen={() => this.togglePendingRequestsModal(true)}\n          handleOnClose={() => this.togglePendingRequestsModal(false)}\n          successActionCallback={this.handleSuccessAction}\n          searchConfig={searchConfig}\n        />\n      </>\n    );\n  }\n}\n\nCommunitiesManagementDropdown.propTypes = {\n  userCommunitiesMemberships: PropTypes.object.isRequired,\n  recordCommunityEndpoint: PropTypes.string.isRequired,\n  recordCommunitySearchConfig: PropTypes.string.isRequired,\n  recordUserCommunitySearchConfig: PropTypes.string.isRequired,\n  toggleManageCommunitiesModal: PropTypes.func.isRequired,\n  actionSucceed: PropTypes.func,\n  searchConfig: PropTypes.object.isRequired,\n  record: PropTypes.object.isRequired,\n};\n\nCommunitiesManagementDropdown.defaultProps = {\n  actionSucceed: undefined,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2023-2024 CERN.\n//\n// Invenio App RDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { RecordCommunitiesListModal } from \"./RecordCommunitiesListModal\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport { RecordCommunitiesList } from \"./RecordCommunitiesList\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { Header, Container, Button, Segment } from \"semantic-ui-react\";\nimport { CommunitiesManagementDropdown } from \"./CommunitiesManagementDropdown\";\nimport { http, withCancel } from \"react-invenio-forms\";\n\nconst MAX_COMMUNITIES = 3;\n\nexport class CommunitiesManagement extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      communities: undefined,\n      error: undefined,\n      manageCommunitiesModalOpen: false,\n    };\n  }\n\n  componentDidMount() {\n    this.getCommunities();\n  }\n\n  componentWillUnmount() {\n    this.cancellableFetchCommunities?.cancel();\n  }\n\n  toggleManageCommunitiesModal = (value) => {\n    if (!value) {\n      const modalDropdown = document.getElementById(\"modal-dropdown\"); // A11y: Focus community management dropdown when modal closes\n      modalDropdown && modalDropdown.focus();\n    }\n    this.setState({ manageCommunitiesModalOpen: value });\n  };\n\n  fetchRecordCommunities = async () => {\n    const { recordCommunityEndpoint } = this.props;\n    return await http.get(recordCommunityEndpoint, {\n      headers: {\n        Accept: \"application/vnd.inveniordm.v1+json\",\n      },\n    });\n  };\n\n  getCommunities = async () => {\n    this.cancellableFetchCommunities = withCancel(this.fetchRecordCommunities());\n    this.setState({\n      loading: true,\n      error: null,\n    });\n    try {\n      const response = await this.cancellableFetchCommunities.promise;\n      const {\n        data: {\n          hits: { hits },\n        },\n      } = response;\n      this.setState({\n        communities: hits,\n        loading: false,\n      });\n    } catch (error) {\n      if (error !== \"UNMOUNTED\") {\n        this.setState({\n          loading: false,\n          error: i18next.t(\"An error occurred while fetching communities.\"),\n        });\n      }\n    }\n  };\n\n  handleRefresh = () => {\n    this.getCommunities();\n    this.toggleManageCommunitiesModal(false);\n  };\n\n  render() {\n    const {\n      recordCommunitySearchConfig,\n      permissions,\n      canManageRecord,\n      userCommunitiesMemberships,\n      recordCommunityEndpoint,\n      recordUserCommunitySearchConfig,\n      searchConfig,\n      record,\n    } = this.props;\n    const { communities, loading, error, manageCommunitiesModalOpen } = this.state;\n    return (\n      (!_isEmpty(communities) || canManageRecord) && (\n        <>\n          <Header\n            size=\"medium\"\n            as=\"h2\"\n            className=\"flex align-items-baseline mt-0\"\n            attached=\"top\"\n          >\n            {i18next.t(\"Communities\")}\n            {canManageRecord && (\n              <CommunitiesManagementDropdown\n                actionSucceed={this.handleRefresh}\n                userCommunitiesMemberships={userCommunitiesMemberships}\n                recordCommunityEndpoint={recordCommunityEndpoint}\n                searchConfig={searchConfig}\n                recordCommunitySearchConfig={recordCommunitySearchConfig}\n                recordUserCommunitySearchConfig={recordUserCommunitySearchConfig}\n                toggleManageCommunitiesModal={this.toggleManageCommunitiesModal}\n                record={record}\n              />\n            )}\n          </Header>\n          <Segment attached=\"bottom\" className=\"rdm-sidebar\">\n            <RecordCommunitiesList\n              permissions={permissions}\n              communities={communities}\n              error={error}\n              loading={loading}\n              maxDisplayedCommunities={MAX_COMMUNITIES}\n              branded={record.parent?.communities?.default}\n            />\n            <RecordCommunitiesListModal\n              id=\"record-communities-list-modal\"\n              modalOpen={manageCommunitiesModalOpen}\n              handleOnOpen={() => this.toggleManageCommunitiesModal(true)}\n              handleOnClose={() => this.toggleManageCommunitiesModal(false)}\n              successActionCallback={this.handleRefresh}\n              recordCommunityEndpoint={recordCommunityEndpoint}\n              permissions={permissions}\n              record={record}\n            />\n\n            {!loading && communities?.length > MAX_COMMUNITIES && (\n              <Container align=\"center\" className=\"mt-10\">\n                <Button\n                  className=\"transparent\"\n                  aria-haspopup=\"dialog\"\n                  aria-expanded={manageCommunitiesModalOpen}\n                  aria-controls=\"record-communities-list-modal\"\n                  onClick={() => this.toggleManageCommunitiesModal(true)}\n                >\n                  {i18next.t(\"View all {{count}} communities\", {\n                    count: communities.length,\n                  })}\n                </Button>\n              </Container>\n            )}\n          </Segment>\n        </>\n      )\n    );\n  }\n}\n\nCommunitiesManagement.propTypes = {\n  recordCommunitySearchConfig: PropTypes.object.isRequired,\n  recordCommunityEndpoint: PropTypes.string.isRequired,\n  recordUserCommunitySearchConfig: PropTypes.object.isRequired,\n  permissions: PropTypes.object.isRequired,\n  canManageRecord: PropTypes.bool.isRequired,\n  userCommunitiesMemberships: PropTypes.object.isRequired,\n  searchConfig: PropTypes.object.isRequired,\n  record: PropTypes.object.isRequired,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2020-2021 CERN.\n// Copyright (C) 2020-2021 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n// Copyright (C) 2023 TU Wien.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { RecordManagement } from \"./RecordManagement\";\nimport { RecordVersionsList } from \"./RecordVersionsList\";\nimport { RecordCitationField } from \"./RecordCitationField\";\nimport { ExportDropdown } from \"./ExportDropdown\";\nimport { CommunitiesManagement } from \"./CommunitiesManagement\";\nimport { OverridableContext, overrideStore } from \"react-overridable\";\n\nconst recordManagementAppDiv = document.getElementById(\"recordManagement\");\nconst recordManagementMobile = document.getElementById(\"recordManagementMobile\");\n\nconst recordVersionsAppDiv = document.getElementById(\"recordVersions\");\nconst recordCitationAppDiv = document.getElementById(\"recordCitation\");\nconst recordExportDownloadDiv = document.getElementById(\"recordExportDownload\");\nconst sidebarCommunitiesManageDiv = document.getElementById(\n  \"sidebar-communities-manage\"\n);\n\nif (recordManagementAppDiv) {\n  renderRecordManagement(recordManagementAppDiv);\n  recordManagementMobile && renderRecordManagement(recordManagementMobile);\n}\n\nfunction renderRecordManagement(element) {\n  ReactDOM.render(\n    <OverridableContext.Provider value={overrideStore.getAll()}>\n      <RecordManagement\n        record={JSON.parse(recordManagementAppDiv.dataset.record)}\n        permissions={JSON.parse(recordManagementAppDiv.dataset.permissions)}\n        isDraft={JSON.parse(recordManagementAppDiv.dataset.isDraft)}\n        isPreviewSubmissionRequest={JSON.parse(\n          recordManagementAppDiv.dataset.isPreviewSubmissionRequest\n        )}\n        currentUserId={recordManagementAppDiv.dataset.currentUserId}\n        recordOwnerUsername={recordManagementAppDiv.dataset.recordOwnerUsername}\n        accessLinksSearchConfig={JSON.parse(\n          recordManagementAppDiv.dataset.accessLinksSearchConfig\n        )}\n      />\n    </OverridableContext.Provider>,\n    element\n  );\n}\n\nif (recordVersionsAppDiv) {\n  ReactDOM.render(\n    <RecordVersionsList\n      record={JSON.parse(recordVersionsAppDiv.dataset.record)}\n      isPreview={JSON.parse(recordVersionsAppDiv.dataset.preview)}\n    />,\n    recordVersionsAppDiv\n  );\n}\n\nif (recordCitationAppDiv) {\n  ReactDOM.render(\n    <RecordCitationField\n      record={JSON.parse(recordCitationAppDiv.dataset.record)}\n      styles={JSON.parse(recordCitationAppDiv.dataset.styles)}\n      defaultStyle={JSON.parse(recordCitationAppDiv.dataset.defaultstyle)}\n      includeDeleted={JSON.parse(recordCitationAppDiv.dataset.includeDeleted)}\n    />,\n    recordCitationAppDiv\n  );\n}\n\nif (recordExportDownloadDiv) {\n  ReactDOM.render(\n    <ExportDropdown formats={JSON.parse(recordExportDownloadDiv.dataset.formats)} />,\n    recordExportDownloadDiv\n  );\n}\n\nif (sidebarCommunitiesManageDiv) {\n  const recordCommunitySearchConfig = JSON.parse(\n    sidebarCommunitiesManageDiv.dataset.recordCommunitySearchConfig\n  );\n  const pendingCommunitiesSearchConfig =\n    sidebarCommunitiesManageDiv.dataset.pendingCommunitiesSearchConfig;\n  ReactDOM.render(\n    <CommunitiesManagement\n      userCommunitiesMemberships={JSON.parse(\n        sidebarCommunitiesManageDiv.dataset.userCommunitiesMemberships\n      )}\n      recordCommunityEndpoint={\n        sidebarCommunitiesManageDiv.dataset.recordCommunityEndpoint\n      }\n      recordUserCommunitySearchConfig={JSON.parse(\n        sidebarCommunitiesManageDiv.dataset.recordUserCommunitySearchConfig\n      )}\n      canManageRecord={JSON.parse(sidebarCommunitiesManageDiv.dataset.canManageRecord)}\n      recordCommunitySearchConfig={recordCommunitySearchConfig}\n      permissions={JSON.parse(sidebarCommunitiesManageDiv.dataset.permissions)}\n      searchConfig={JSON.parse(pendingCommunitiesSearchConfig)}\n      record={JSON.parse(recordCitationAppDiv.dataset.record)}\n    />,\n    sidebarCommunitiesManageDiv\n  );\n}\n","// This file is part of InvenioRDM\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 New York University.\n// Copyright (C) 2022 data-futures.\n// Copyright (C) 2023 Northwestern University.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport _get from \"lodash/get\";\nimport React from \"react\";\nimport { i18next } from \"@translations/invenio_app_rdm/i18next\";\nimport { DateTime } from \"luxon\";\n\nexport function SearchItemCreators({ creators, className, othersLink }) {\n  let spanClass = \"creatibutor-wrap separated\";\n  className && (spanClass += ` ${className}`);\n\n  function makeIcon(scheme, identifier, name) {\n    let link = null;\n    let linkTitle = null;\n    let icon = null;\n    let alt = \"\";\n\n    switch (scheme) {\n      case \"orcid\":\n        link = `https://orcid.org/${identifier}`;\n        linkTitle = i18next.t(\"ORCID profile\");\n        icon = \"/static/images/orcid.svg\";\n        alt = \"ORCID logo\";\n        break;\n      case \"ror\":\n        link = `https://ror.org/${identifier}`;\n        linkTitle = i18next.t(\"ROR profile\");\n        icon = \"/static/images/ror-icon.svg\";\n        alt = \"ROR logo\";\n        break;\n      case \"gnd\":\n        link = `https://d-nb.info/gnd/${identifier}`;\n        linkTitle = i18next.t(\"GND profile\");\n        icon = \"/static/images/gnd-icon.svg\";\n        alt = \"GND logo\";\n        break;\n      default:\n        return null;\n    }\n\n    icon = (\n      <a\n        className=\"no-text-decoration mr-0\"\n        href={link}\n        aria-label={`${name}: ${linkTitle}`}\n        title={`${name}: ${linkTitle}`}\n        key={scheme}\n      >\n        <img className=\"inline-id-icon ml-5\" src={icon} alt={alt} />\n      </a>\n    );\n    return icon;\n  }\n\n  function getIcons(creator) {\n    let ids = _get(creator, \"person_or_org.identifiers\", []);\n    let creatorName = _get(creator, \"person_or_org.name\", \"No name\");\n    let icons = ids.map((c) => makeIcon(c.scheme, c.identifier, creatorName));\n    return icons;\n  }\n\n  function getLink(creator) {\n    let creatorName = _get(creator, \"person_or_org.name\", \"No name\");\n    let link = (\n      <a\n        className=\"creatibutor-link\"\n        href={`/search?q=metadata.creators.person_or_org.name:\"${creatorName}\"`}\n        title={`${creatorName}: ${i18next.t(\"Search\")}`}\n      >\n        <span className=\"creatibutor-name\">{creatorName}</span>\n      </a>\n    );\n    return link;\n  }\n\n  const numDisplayed = 3;\n  const result = creators.slice(0, numDisplayed).map((creator) => (\n    <span className={spanClass} key={creator.person_or_org.name}>\n      {getLink(creator)}\n      {getIcons(creator)}\n    </span>\n  ));\n\n  const numExtra = creators.length - numDisplayed;\n  if (0 < numExtra) {\n    let text;\n    if (numExtra === 1) {\n      text = \"and {{count}} other\";\n    } else {\n      text = \"and {{count}} others\";\n    }\n    result.push(\n      <span className={spanClass} key={text}>\n        <a className=\"creatibutor-link\" href={othersLink}>\n          <span className=\"creatibutor-name\">\n            {i18next.t(text, { count: numExtra })}\n          </span>\n        </a>\n      </span>\n    );\n  }\n\n  return result;\n}\n\n/**\n * Returns a human readable timestamp in the format \"4 days ago\".\n *\n * @param {Date} timestamp\n * @returns string\n */\nexport const timestampToRelativeTime = (timestamp) =>\n  DateTime.fromISO(timestamp).setLocale(i18next.language).toRelative();\n","/*\n * This file is part of Invenio.\n * Copyright (C) 2022 CERN.\n *\n * Invenio is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React from \"react\";\nimport { Icon, Label, Popup } from \"semantic-ui-react\";\nimport PropTypes from \"prop-types\";\n\nexport const ErrorPopup = ({ trigger, error }) => {\n  return (\n    <Popup\n      basic\n      className=\"p-0 borderless shadowless mb-1\"\n      open={!!error}\n      position=\"top center\"\n      content={\n        <Label\n          content={error}\n          basic\n          className=\"mb-5 error\"\n          pointing=\"below\"\n          removeIcon=\"close\"\n        />\n      }\n      trigger={trigger}\n    />\n  );\n};\n\nErrorPopup.propTypes = {\n  trigger: PropTypes.node,\n  error: PropTypes.string,\n};\n\nErrorPopup.defaultProps = {\n  error: \"\",\n  trigger: <Icon name=\"exclamation circle\" className=\"error\" />,\n};\n","import PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { Icon } from \"semantic-ui-react\";\n\nexport class SuccessIcon extends Component {\n  constructor(props) {\n    super(props);\n    const { show } = props;\n    this.state = { show: show };\n  }\n\n  componentDidMount() {\n    const { timeOutDelay, show } = this.props;\n    // eslint-disable-next-line react/no-did-mount-set-state\n    this.setState({ show: show });\n\n    const timerAlreadySet = !!this.successTimer;\n\n    if (show) {\n      if (timerAlreadySet) {\n        clearTimeout(this.successTimer);\n      }\n\n      this.successTimer = setTimeout(this.handleOnTimeOut, timeOutDelay);\n    }\n  }\n\n  componentWillUnmount() {\n    this.successTimer && clearTimeout(this.successTimer);\n  }\n\n  handleOnTimeOut = () => {\n    this.setState({ show: false });\n  };\n\n  render() {\n    const { className, content } = this.props;\n    const { show } = this.state;\n    return (\n      show && (\n        <>\n          <Icon name=\"checkmark\" className={`positive ${className}`} />\n          {content !== undefined && content}\n        </>\n      )\n    );\n  }\n}\n\nSuccessIcon.propTypes = {\n  timeOutDelay: PropTypes.number.isRequired,\n  show: PropTypes.bool,\n  className: PropTypes.string,\n  content: PropTypes.string,\n};\n\nSuccessIcon.defaultProps = {\n  show: false,\n  className: \"\",\n  content: undefined,\n};\n","var baseRest = require('./_baseRest'),\n    eq = require('./eq'),\n    isIterateeCall = require('./_isIterateeCall'),\n    keysIn = require('./keysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(object, sources) {\n  object = Object(object);\n\n  var index = -1;\n  var length = sources.length;\n  var guard = length > 2 ? sources[2] : undefined;\n\n  if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n    length = 1;\n  }\n\n  while (++index < length) {\n    var source = sources[index];\n    var props = keysIn(source);\n    var propsIndex = -1;\n    var propsLength = props.length;\n\n    while (++propsIndex < propsLength) {\n      var key = props[propsIndex];\n      var value = object[key];\n\n      if (value === undefined ||\n          (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        object[key] = source[key];\n      }\n    }\n  }\n\n  return object;\n});\n\nmodule.exports = defaults;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeJoin = arrayProto.join;\n\n/**\n * Converts all elements in `array` into a string separated by `separator`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to convert.\n * @param {string} [separator=','] The element separator.\n * @returns {string} Returns the joined string.\n * @example\n *\n * _.join(['a', 'b', 'c'], '~');\n * // => 'a~b~c'\n */\nfunction join(array, separator) {\n  return array == null ? '' : nativeJoin.call(array, separator);\n}\n\nmodule.exports = join;\n","var baseFlatten = require('./_baseFlatten'),\n    baseIteratee = require('./_baseIteratee'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    last = require('./last');\n\n/**\n * This method is like `_.union` except that it accepts `iteratee` which is\n * invoked for each element of each `arrays` to generate the criterion by\n * which uniqueness is computed. Result values are chosen from the first\n * array in which the value occurs. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nvar unionBy = baseRest(function(arrays) {\n  var iteratee = last(arrays);\n  if (isArrayLikeObject(iteratee)) {\n    iteratee = undefined;\n  }\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), baseIteratee(iteratee, 2));\n});\n\nmodule.exports = unionBy;\n","import { createElement, useMemo } from 'react';\nimport { I18nContext } from './context';\nexport function I18nextProvider(_ref) {\n  var i18n = _ref.i18n,\n      defaultNS = _ref.defaultNS,\n      children = _ref.children;\n  var value = useMemo(function () {\n    return {\n      i18n: i18n,\n      defaultNS: defaultNS\n    };\n  }, [i18n, defaultNS]);\n  return createElement(I18nContext.Provider, {\n    value: value\n  }, children);\n}","'use strict';\n\nvar compose = require('redux').compose;\n\nexports.__esModule = true;\nexports.composeWithDevTools =\n  typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    : function () {\n        if (arguments.length === 0) return undefined;\n        if (typeof arguments[0] === 'object') return compose;\n        return compose.apply(null, arguments);\n      };\n\nexports.devToolsEnhancer =\n  typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__\n    ? window.__REDUX_DEVTOOLS_EXTENSION__\n    : function () {\n        return function (noop) {\n          return noop;\n        };\n      };\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["SimpleCopyButton","_React$Component","_classCallCheck","_callSuper","arguments","_inherits","_createClass","key","value","_this$props","this","props","text","onCopy","hoverState","React","CopyToClipboard","Button","className","basic","icon","i18next","t","onMouseEnter","onMouseLeave","propTypes","PropTypes","isRequired","defaultProps","CopyButton","_Component","_this","_defineProperty","setState","confirmationPopupIsOpen","confirmationPopupMsg","delayClosePopup","stateReset","setTimeout","INITIAL_STATE","event","persist","type","hoverPopupIsOpen","state","clearTimeout","_this$props2","popUpPosition","_this$state","Popup","role","open","content","inverted","position","size","trigger","hoverStateHandler","Component","EditButton","_ref","recid","onError","_useState","useState","_useState2","_slicedToArray","loading","setLoading","handleClick","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","http","post","concat","headers","window","location","t0","response","data","message","stop","apply","fluid","onClick","labelPosition","Icon","name","CreateAccessLink","description","undefined","expiresAt","permission","dropdownOptions","_this2","handleCreation","Table","Row","Cell","width","Grid","Column","Input","id","onChange","e","htmlFor","placeholder","Dropdown","selection","options","defaultValue","textAlign","disabled","positive","errorSerializer","error","_error$response","AccessDropdown","record","result","actionSuccess","cancellableAction","withCancel","patch","links","access_links","promise","abrupt","console","_x","cancel","handleUpdate","SuccessIcon","timeOutDelay","show","ErrorPopup","LinksSearchItem","fetchData","copied","setCopied","_useState3","_useState4","useEffect","handleDelete","copyButtonRef","_copyButtonRef$curren","current","focus","popupTimeout","isEmpty","_truncate","length","timestampToRelativeTime","created_at","expires_at","negative","on","ref","accessLink","self_html","token","navigator","clipboard","writeText","copyAccessLink","LinksSearchResultContainer","_error$response2","errorMessage","listOfErrors","errors","Message","map","element","Item","field","charAt","toUpperCase","slice","replace","renderErrorMessages","messages","_x2","_x3","uniqueMessages","_toConsumableArray","Set","m","results","Header","HeaderCell","Body","Loader","_isEmpty","color","LinksTab","get","sent","hits","handleClose","Modal","Content","Actions","AccessRequestExpirationSelect","formikProps","form","setFieldValue","expirationOptions","inline","expirationSetting","toString","SelectField","label","fieldPath","handleOnChange","AccessRequestsTab","Yup","allow_user_requests","allow_guest_requests","accept_conditions_text","nullable","secret_link_expiration","values","successCallback","payload","put","access","settings","parent","_has","_objectSpread","Formik","onSubmit","handleSubmit","enableReinitialize","initialValues","initFormValues","validationSchema","accessRequestSchema","ErrorMessage","header","Form","Field","RadioField","checked","_get","control","Checkbox","_ref3","_ref4","RichInputField","Divider","floated","primary","UserAccessSearchResultItem","setError","access_users","success","handleSuccess","deleteSuccessCallback","permissions","user","expanded","subject","verticalAlign","is_current_user","Image","src","avatar","alt","profile","full_name","username","Label","affiliations","Meta","can_manage","compact","UserAccessSearchResult","_Component2","_this$props3","AccessUsers","isLoading","active","Container","ShareModal","updatedRecord","accessLinksSearchConfig","menuItem","pane","Tab","Pane","as","handleRecordUpdate","closeIcon","onClose","closeOnDimmerClick","menu","secondary","pointing","panes","renderActiveOnly","ShareButton","modalOpen","setModalOpen","ManageButton","recordOwnerUsername","floating","labeled","button","Menu","href","target","RecordManagement","isDraft","isPreviewSubmissionRequest","currentUserId","handleError","columns","can_moderate","can_edit","NewVersionButton","can_new_version","can_update_draft","Overridable","deserializeRecord","parent_id","publication_date","ui","publication_date_l10n_medium","version","pids","new_draft_parent_doi","RecordVersionItem","item","activeVersion","doi","List","_extends","PreviewMessage","info","RecordVersionsList","_recordDeserialized$p","isPreview","recordDeserialized","recordParentDOI","identifier","recordDraftParentDOIFormat","_useState5","_useState6","currentRecordInResults","setCurrentRecordInResults","_useState7","_useState8","recordVersions","setRecordVersions","fetchVersions","versions","Accept","withCredentials","cancellableFetchCitation","_fetchVersions","_callee2","_result$data$hits","total","_context2","some","Placeholder","Line","divided","horizontal","centered","count","Trans","parent_doi","RecordCitationField","Paragraph","style","includeDeleted","includeDeletedParam","url","self","language","citation","fetchCitation","_x4","_x5","_x6","defaultStyle","getCitation","_this$cancellableFetc","styles","citationOptions","placeholderLoader","_debounce","ExportDropdown","_formats$","formats","selectedFormatUrl","export_url","exportOptions","option","index","selectOnNavigation","title","RemoveFromCommunityAction","recordCommunityEndpoint","communities","closeConfirmModal","checkboxRecords","checkboxMembers","buttonDisabled","checkBoxRef","_inputRef$current","inputRef","_this$state2","communityTitle","metadata","openConfirmModal","dimmer","handleCheckboxChange","ManageDefaultBrandingAction","updateRecordCallback","default","isCommunityDefault","handleSetBranding","renderCommunity","RecordCommunitiesSearchItem","_recordParent$communi","recordParent","canManage","actions","CommunityCompactItem","appName","RecordCommunitiesSearch","_len","args","Array","_key","successActionCallback","overriddenComponents","parametrize","handleSuccessCallback","searchApi","InvenioSearchApi","axios","OverridableContext","Provider","ReactSearchKit","urlHandlerApi","enabled","initialQueryState","page","SearchBar","autofocus","actionProps","scrolling","ResultsLoader","EmptyResults","Error","ResultsList","Pagination","RecordCommunitiesListModal","handleOnOpen","handleOnClose","onOpen","RecordCommunitiesList","maxDisplayedCommunities","branded","Element","image","communityItems","community","wrapped","logo","theme","Group","unstackable","PendingCommunityRequestItem","receiver","requestLink","RequestActionController","request","actionSuccessCallback","detailUrl","PendingCommunitiesSearch","searchConfig","defaultContribComponents","PendingCommunitiesModal","RecordCommunitySubmissionModal","selectedCommunity","userCommunitiesMemberships","review_policy","requestData","handleSuccessAction","isIncludedDirectly","processed","reviewComment","comment","format","handleSuccessSubmit","finish","confirmationModalOpen","toggleModal","recordUserCommunitySearchConfig","recordCommunitySearchConfig","apiConfigs","allCommunities","toggleText","myCommunities","CommunitySelectionModalComponent","onCommunityChange","changeSelectedCommunity","chosenCommunity","onModalChange","modalHeader","isInitialSubmission","SubmitReviewModal","isConfirmModalOpen","submitCommunity","directPublish","canIncludeDirectly","CommunitiesManagementDropdown","dropdownRef","actionSucceed","actionFeedback","visibleSuccessAction","toggleSubmissionModal","togglePendingRequestsModal","focusDropdownRef","submissionModalOpen","pendingRequestModalOpen","toggleManageCommunitiesModal","closeOnChange","direction","handleChange","selectOnBlur","CommunitiesManagement","modalDropdown","document","getElementById","manageCommunitiesModalOpen","cancellableFetchCommunities","fetchRecordCommunities","getCommunities","_record$parent","canManageRecord","attached","handleRefresh","Segment","align","recordManagementAppDiv","recordManagementMobile","recordVersionsAppDiv","recordCitationAppDiv","recordExportDownloadDiv","sidebarCommunitiesManageDiv","renderRecordManagement","ReactDOM","overrideStore","getAll","JSON","parse","dataset","preview","defaultstyle","pendingCommunitiesSearchConfig","SearchItemCreators","creators","othersLink","spanClass","getIcons","creator","ids","creatorName","c","scheme","link","linkTitle","makeIcon","person_or_org","getLink","numExtra","push","timestamp","DateTime","fromISO","setLocale","toRelative","removeIcon","timerAlreadySet","successTimer","handleOnTimeOut","baseRest","eq","isIterateeCall","keysIn","objectProto","Object","prototype","hasOwnProperty","defaults","object","sources","guard","source","propsIndex","propsLength","call","module","exports","baseIsEqual","other","nativeJoin","join","array","separator","baseFlatten","baseIteratee","baseUniq","isArrayLikeObject","last","unionBy","arrays","iteratee","I18nextProvider","i18n","defaultNS","children","useMemo","createElement","compose","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","__REDUX_DEVTOOLS_EXTENSION__","arr","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"sourceRoot":""}