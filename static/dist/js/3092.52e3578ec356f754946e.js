"use strict";(self.webpackChunkinvenio_assets=self.webpackChunkinvenio_assets||[]).push([[3092],{43092:(e,t,n)=>{n.d(t,{m$:()=>B,tl:()=>H,qh:()=>g,VT:()=>V,xp:()=>W,DP:()=>S});var r=n(80296),a=n(5905),l=n(59945),i=n(23029),u=n(92901),c=n(56822),s=n(53954),o=n(85501),m=n(64467),d=n(5556),p=n.n(d),v=n(96540),f=n(98871),y=n(3487);function E(e,t,n){return t=(0,s.A)(t),(0,c.A)(e,A()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(A=function(){return!!e})()}var b=function(e){function t(e){var n;return(0,i.A)(this,t),n=E(this,t,[e]),(0,m.A)(n,"retrieveRequests",(function(e){var t=n.props,r=t.currentQueryState,a=t.updateQueryState,l=t.keepFiltersOnUpdate;n.state.open!==e&&(n.setState({open:e}),r.filters=l?r.filters.filter((function(e){return"is_open"!==e[0]})):[],r.filters.push(["is_open",e]),a(r))})),(0,m.A)(n,"retrieveOpenRequests",(function(){n.retrieveRequests(!0)})),(0,m.A)(n,"retrieveClosedRequests",(function(){n.retrieveRequests(!1)})),n.state={open:void 0},n}return(0,o.A)(t,e),(0,u.A)(t,[{key:"componentDidMount",value:function(){var e=this.props.currentQueryState.filters.find((function(e){return e.includes("is_open")}));e&&this.setState({open:e.includes("true")})}},{key:"render",value:function(){var e=this.state.open;return v.createElement(y.A.Group,{basic:!0},v.createElement(y.A,{className:"request-search-filter",onClick:this.retrieveOpenRequests,active:!0===e},l.M.t("Open")),v.createElement(y.A,{className:"request-search-filter",onClick:this.retrieveClosedRequests,active:!1===e},l.M.t("Closed")))}}])}(v.Component);b.propTypes={updateQueryState:p().func.isRequired,currentQueryState:p().object.isRequired,keepFiltersOnUpdate:p().bool},b.defaultProps={keepFiltersOnUpdate:!1};var g=(0,f.Q2)(b),R=n(81057),h=n(27089),q=n(1489),S=function(e){var t=e.config,n=e.appName,i=v.useState(!1),u=(0,r.A)(i,2),c=u[0],s=u[1];return v.createElement(h.A,null,v.createElement(q.A,null,v.createElement(q.A.Row,null,v.createElement(q.A.Column,{only:"mobile tablet",mobile:3,tablet:1},v.createElement(y.A,{basic:!0,size:"medium",icon:"sliders",onClick:function(){return s(!0)},"aria-label":l.M.t("Filter results"),className:"rel-mb-1"})),v.createElement(q.A.Column,{mobile:13,tablet:4,computer:3,floated:"right",className:"text-align-right-mobile"},v.createElement(g,{className:"rel-mb-1"})),v.createElement(q.A.Column,{mobile:16,tablet:11,computer:9},v.createElement(f.IW,{placeholder:l.M.t("Search in my requests...")}))),v.createElement(q.A.Row,null,v.createElement(R.GridResponsiveSidebarColumn,{width:4,open:c,onHideClick:function(){return s(!1)}},v.createElement(a.gf,{aggs:t.aggs,appName:n})),v.createElement(q.A.Column,{mobile:16,tablet:16,computer:12},v.createElement(a.s9,{layoutOptions:t.layoutOptions,appName:n})))))};S.propTypes={config:p().object.isRequired,appName:p().string},S.defaultProps={appName:void 0};var _=n(53196),x=n(76217);function N(e,t,n){return t=(0,s.A)(t),(0,c.A)(e,C()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(C=function(){return!!e})()}var k=function(e){function t(){return(0,i.A)(this,t),N(this,t,arguments)}return(0,o.A)(t,e),(0,u.A)(t,[{key:"render",value:function(){var e=this.props.type;return v.createElement(_.default,{id:"InvenioRequests.RequestTypeIcon.layout.".concat(e)},v.createElement(x.A,{name:"plus",className:"neutral"}))}}])}(v.Component);k.propTypes={type:p().string.isRequired};const O=_.default.component("InvenioRequests.RequestTypeIcon",k);var M=n(52822),T=n(7763),Q=n(28085);function w(e,t,n){return t=(0,s.A)(t),(0,c.A)(e,F()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(F=function(){return!!e})()}var D=function(e){function t(){return(0,i.A)(this,t),w(this,t,arguments)}return(0,o.A)(t,e),(0,u.A)(t,[{key:"render",value:function(){var e=this.props.status;return v.createElement(_.default,{id:"RequestStatusLabel.layout.".concat(e)},v.createElement(Q.A,null,e))}}])}(v.Component);D.propTypes={status:p().string.isRequired};const I=_.default.component("InvenioRequests.RequestStatusLabel",D);var U=n(91343),j=n(23848),L=n(91272),B=function(e){var t,n,r,a,i,u=e.result,c=e.updateQueryState,s=e.currentQueryState,o=e.detailsURL,m=new Date(u.created),d="",p="user"in u.created_by,f="community"in u.created_by,y="email"in u.created_by;if(p)d=(null===(a=u.expanded)||void 0===a||null===(a=a.created_by.profile)||void 0===a?void 0:a.full_name)||(null===(i=u.expanded)||void 0===i?void 0:i.created_by.username)||u.created_by.user;else if(f){var E;d=(null===(E=u.expanded)||void 0===E||null===(E=E.created_by.metadata)||void 0===E?void 0:E.title)||u.created_by.community}else y&&(d=u.created_by.email);var A;return v.createElement(j.A,{key:u.id,className:"computer tablet only flex"},v.createElement("div",{className:"status-icon mr-10"},v.createElement(j.A.Content,{verticalAlign:"top"},v.createElement(j.A.Extra,null,v.createElement(O,{type:u.type})))),v.createElement(j.A.Content,null,v.createElement(j.A.Extra,null,u.type&&v.createElement(T.A,{type:u.type}),u.status&&u.is_closed&&v.createElement(I,{status:u.status}),v.createElement("div",{className:"right floated"},v.createElement(U.U,{request:u,actionSuccessCallback:function(){return c(s)}}))),v.createElement(j.A.Header,{className:"truncate-lines-2 ".concat(u.is_closed&&"mt-5")},v.createElement("a",{className:"header-link",href:o},u.title)),v.createElement(j.A.Meta,null,v.createElement("small",null,v.createElement(M.x,{defaults:"Opened {{relativeTime}} by",values:{relativeTime:(0,R.toRelativeTime)(m.toISOString(),l.M.language)}})," ",d),v.createElement("small",{className:"right floated"},u.receiver.community&&(null===(t=u.expanded)||void 0===t?void 0:t.receiver.metadata.title)&&v.createElement(v.Fragment,null,v.createElement(x.A,{className:"default-margin",name:(A=null===(n=u.expanded)||void 0===n?void 0:n.receiver,null!==A&&void 0!==A&&A.is_ghost?"user secret":"users")}),v.createElement("span",{className:"ml-5"},null===(r=u.expanded)||void 0===r?void 0:r.receiver.metadata.title)),u.expires_at&&v.createElement("span",null,l.M.t("Expires at: {{- expiringDate}}",{expiringDate:L.DateTime.fromISO(u.expires_at).toLocaleString(l.M.language)}))))))};B.propTypes={result:p().object.isRequired,updateQueryState:p().func.isRequired,currentQueryState:p().object.isRequired,detailsURL:p().string.isRequired};var H=function(e){var t,n,r,a,i,u=e.result,c=e.updateQueryState,s=e.currentQueryState,o=e.detailsURL,m=new Date(u.created),d="",p="user"in u.created_by,f="community"in u.created_by;if(p)d=(null===(a=u.expanded)||void 0===a||null===(a=a.created_by.profile)||void 0===a?void 0:a.full_name)||(null===(i=u.expanded)||void 0===i?void 0:i.created_by.username)||u.created_by.user;else if(f){var y;d=(null===(y=u.expanded)||void 0===y||null===(y=y.created_by.metadata)||void 0===y?void 0:y.title)||u.created_by.community}var E,A;return v.createElement(j.A,{key:u.id,className:"mobile only flex"},v.createElement(j.A.Content,{className:"centered"},v.createElement(j.A.Extra,null,u.type&&v.createElement(T.A,{type:u.type}),u.status&&u.is_closed&&v.createElement(I,{status:u.status})),v.createElement(j.A.Header,{className:"truncate-lines-2 rel-mt-1"},v.createElement("a",{className:"header-link p-0",href:o},v.createElement(x.A,{size:"small",name:(A=u.type,"community-invitation"===A?"user plus":"plus"),className:"neutral mr-5"}),u.title)),v.createElement(j.A.Meta,null,v.createElement("small",null,v.createElement(M.x,{defaults:"Opened {{relativeTime}} by",values:{relativeTime:(0,R.toRelativeTime)(m.toISOString(),l.M.language)}})," ",d),v.createElement("small",{className:"block rel-mt-1"},u.receiver.community&&(null===(t=u.expanded)||void 0===t?void 0:t.receiver.metadata.title)&&v.createElement(v.Fragment,null,v.createElement(x.A,{className:"default-margin",name:(E=null===(n=u.expanded)||void 0===n?void 0:n.receiver,null!==E&&void 0!==E&&E.is_ghost?"user secret":"users")}),v.createElement("span",{className:"ml-5"},null===(r=u.expanded)||void 0===r?void 0:r.receiver.metadata.title)),u.expires_at&&v.createElement("span",null,l.M.t("Expires at: {{- expiringDate}}",{expiringDate:L.DateTime.fromISO(u.expires_at).toLocaleString(l.M.language)}))),!u.is_closed&&v.createElement("div",{className:"block rel-mt-1"},v.createElement(U.U,{request:u,actionSuccessCallback:function(){return c(s)}})))))};H.propTypes={result:p().object.isRequired,updateQueryState:p().func.isRequired,currentQueryState:p().object.isRequired,detailsURL:p().string.isRequired};var P=n(27041),z=n(2685),G=function(e){var t=e.queryString,n=e.userSelectionFilters,r=e.updateQueryState,a=n.some((function(e){return e.includes("is_open")&&e.includes("true")})),i={queryString:"",page:1,filters:[n.find((function(e){return e.includes("is_open")}))]},u=function(){return v.createElement(P.A,{as:"h1",icon:!0},l.M.t("All done!"),v.createElement(P.A.Subheader,null,l.M.t("You've caught up with all open requests.")))},c=function(){return v.createElement(v.Fragment,null,v.createElement(P.A,{icon:!0},v.createElement(x.A,{name:"search"}),l.M.t("No requests found!")),t&&v.createElement(y.A,{primary:!0,onClick:function(){return r(i)}},l.M.t("Reset search")))},s=a&&!t;return v.createElement(z.A,{placeholder:!0,textAlign:"center"},s?v.createElement(u,null):v.createElement(c,null))};G.propTypes={queryString:p().string.isRequired,userSelectionFilters:p().array.isRequired,updateQueryState:p().func.isRequired};var V=(0,f.Q2)(G),W=function(e){var t=e.sortOptions,n=e.paginationOptions,r=e.currentResultsState.data.total;return r&&v.createElement(q.A,null,v.createElement(q.A.Row,null,v.createElement(q.A.Column,{width:16},v.createElement(z.A,null,v.createElement(q.A,null,v.createElement(q.A.Row,{verticalAlign:"middle",className:"small pt-5 pb-5 highlight-background"},v.createElement(q.A.Column,{width:4},v.createElement(f.y_,{label:function(){return v.createElement(v.Fragment,null,l.M.t("{{count}} results found",{count:r}))}})),v.createElement(q.A.Column,{width:12,textAlign:"right"},t&&v.createElement(f.FU,{values:t,label:function(e){return v.createElement(v.Fragment,null,v.createElement("label",{className:"mr-10"},l.M.t("Sort by")),e)}}))),v.createElement(q.A.Row,null,v.createElement(q.A.Column,null,v.createElement(f.dy,null))))))),v.createElement(a.xD,{paginationOptions:n}))};W.propTypes={sortOptions:p().object.isRequired,paginationOptions:p().object.isRequired,currentResultsState:p().object.isRequired}}}]);
//# sourceMappingURL=3092.52e3578ec356f754946e.js.map