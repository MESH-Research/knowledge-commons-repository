"use strict";(self.webpackChunkinvenio_assets=self.webpackChunkinvenio_assets||[]).push([[6511],{6434:(e,t,a)=>{var n=a(96540),r=a(40961),s=a(11990),l=a(93682),i=a(5556),o=a.n(i),m=function(e){var t=e.text,a=e.icon,r=e.url;return n.createElement("a",{role:"button",href:r,className:"ui "},n.createElement("i",{className:"".concat(a," icon fitted")}),n.createElement("span",{className:"inline"},s.M.t(t)))},c=function(e){var t=e.text,a=e.icon,r=e.url;return n.createElement(n.Fragment,null,n.createElement(l.A,{content:s.M.t(t),trigger:n.createElement("a",{role:"button",href:r,className:"ui computer only"},n.createElement("i",{className:"".concat(a," icon fitted")}))}),n.createElement("a",{role:"button",href:r,className:"ui widescreen only"},n.createElement("i",{className:"".concat(a," icon fitted")}),n.createElement("span",{className:"inline"},s.M.t(t))),n.createElement("a",{role:"button",href:r,className:"ui mobile tablet only"},n.createElement("i",{className:"".concat(a," icon fitted")}),n.createElement("span",{className:"inline"},s.M.t(t))))},u=function(e){var t=e.item;return n.createElement("div",{className:"dropdown ".concat(t.active?" active":"")},n.createElement("a",{role:"menuitem",className:"dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",href:t.url},t.text,n.createElement("b",{className:"caret"})),n.createElement("ul",{className:"dropdown-menu"},t.children.sort((function(e,t){return e.order-t.order})).map((function(e,t){return n.createElement("li",{className:"".concat(e.active?"active":""),key:t},n.createElement(m,e))}))))},d=function(e){var t=e.plusMenuItems;return n.createElement("div",{className:"item plus"},n.createElement("a",{role:"menuitem","aria-label":s.M.t("Quick create"),href:t[0].url},n.createElement("i",{className:"fitted upload icon"}),n.createElement("span",{className:"inline"},s.M.t("Add a work"))))},h=function(e){var t=e.adminMenuItems,a=e.logoutURL,r=e.readableEmail,l=e.settingsMenuItems.sort((function(e,t){return e.order-t.order})).filter((function(e){return!0===e.visible})),i=t.sort((function(e,t){return e.order-t.order})).filter((function(e){return!0===e.visible}));return n.createElement(n.Fragment,null,n.createElement("div",{role:"menuitem",id:"user-profile-dropdown",className:"ui floating dropdown computer only"},n.createElement("button",{id:"user-profile-dropdown-btn",className:"ui right labeled right floated icon button text","aria-controls":"user-profile-menu","aria-expanded":"false","aria-haspopup":"menu","aria-label":"{i18next.t('My account')}"},n.createElement("span",null,r),n.createElement("i",{className:"dropdown icon"})),n.createElement("div",{id:"user-profile-menu",className:"ui menu",role:"menu","aria-labelledby":"user-profile-dropdown-btn"},l.map((function(e,t){return n.createElement("a",{role:"menuitem",className:"item",href:e.url,tabindex:"-1",key:t},e.text)})),n.createElement("div",{className:"ui divider"}),i.map((function(e,t){return n.createElement("a",{role:"menuitem",className:"item",href:e.url,tabindex:"-1",key:t},e.text)})),i.length>0&&n.createElement("div",{className:"ui divider"}),n.createElement("a",{role:"menuitem",className:"item",href:a,tabindex:"-1"},n.createElement("i",{className:"fitted sign-out icon"}),n.createElement("span",{className:"mobile tablet only inline"},s.M.t("Log out")),n.createElement("span",{className:"widescreen only inline"},s.M.t("Log out"))))),n.createElement("div",{className:"sub-menu mobile tablet only"},n.createElement("h2",{className:"ui small header"},s.M.t("My account")),l.map((function(e,t){return n.createElement("a",{role:"menuitem",className:"item",href:e.url,key:t},e.text)})),n.createElement("div",{className:"ui divider"}),i.map((function(e,t){return n.createElement("a",{role:"menuitem",className:"item",href:e.url,key:t},e.text)})),i.length>0&&n.createElement("div",{className:"ui divider"}),n.createElement("a",{role:"menuitem",className:"item",href:a},n.createElement("i",{className:"fitted sign-out icon"}),s.M.t("Log out"))))},b=function(e){var t=e.accountsEnabled,a=e.adminMenuItems,r=e.currentUserEmail,l=e.currentUserProfile,i=e.loginURL,o=e.logoutURL,m=e.profilesEnabled,c=e.settingsMenuItems,u=e.userAdministrator,d=e.userAuthenticated,b=r.length>=31?r.slice(31)+"...":r;return console.log("LoginMenu ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"),console.log(u,d,t,m,a,c,i,o,l,b),!!t&&(d?m&&u?n.createElement(h,{adminMenuItems:a,logoutURL:o,readableEmail:b,settingsMenuItems:c}):n.createElement(n.Fragment,null,n.createElement("div",{className:"item"},n.createElement("span",{className:"inline",href:l},b))):n.createElement("form",null,n.createElement("a",{href:i,className:"ui basic button"},n.createElement("i",{className:"fitted sign-in icon"}),s.M.t("Log in"))))},p=function(e){var t=e.themeLogoURL,a=e.themeSitename,r="Works";return""!==t?n.createElement("a",{className:"logo-link",href:"/"},n.createElement("img",{className:"ui image rdm-logo",src:"".concat(t),alt:s.M.t(r||a)}),n.createElement("span",{className:"title-wrapper"},n.createElement("h1",{className:"ui header"},"Works"),n.createElement("span",{className:"ui header subtitle"},"Knowledge Commons"))):n.createElement("a",{className:"logo",href:"/"},s.M.t(a))},E=function(e){var t=e.accountsEnabled,a=e.actionsMenuItems,r=e.adminMenuItems,l=e.currentUserEmail,i=e.currentUserProfile,o=e.kcWordpressDomain,h=e.loginURL,E=e.logoutURL,f=e.mainMenuItems,g=e.notificationsMenuItems,v=e.plusMenuItems,N=e.profilesEnabled,M=e.settingsMenuItems,y=e.themeLogoURL,w=e.themeSitename,L=(e.themeSearchbarEnabled,e.userAuthenticated),I=e.userAdministrator;console.log("mainMenuItems: ",f);var k=f.sort((function(e,t){return e.order-t.order})).filter((function(e){return!0===e.visible})),x=a.sort((function(e,t){return e.order-t.order})).filter((function(e){return!0===e.visible})),U=g.sort((function(e,t){return e.order-t.order})).filter((function(e){return!0===e.visible}));return n.createElement("nav",{id:"invenio-nav",className:"ui menu borderless stackable p-0"},n.createElement("div",{className:"item logo p-0"},n.createElement(p,{themeLogoURL:y,themeSitename:w})),n.createElement("div",{id:"rdm-burger-toggle"},n.createElement("button",{id:"rdm-burger-menu-icon",className:"ui button transparent","aria-label":s.M.t("Menu"),"aria-haspopup":"menu","aria-expanded":"false","aria-controls":"invenio-menu"},n.createElement("span",{className:"navicon"}))),n.createElement("div",{role:"menu",id:"invenio-menu","aria-labelledby":"rdm-burger-menu-icon",className:"ui fluid menu borderless mobile-hidden"},n.createElement("button",{id:"rdm-close-burger-menu-icon",className:"ui button transparent","aria-label":"{{ _('Close menu') }}"},n.createElement("span",{className:"navicon"})),k.map((function(e,t){return e.children?n.createElement("div",{className:"item",key:t},n.createElement(u,{item:e})):n.createElement("div",{className:"".concat(e.active?"item active":" item"),key:t},n.createElement(m,{url:e.url,text:"".concat("Communities"===e.text?"Collections":e.text),icon:"Communities"===e.text?"copy":e.icon,key:t}))})),n.createElement("div",{className:"item"},n.createElement(m,{text:"Search",url:"/search",icon:"search"})),n.createElement(d,{plusMenuItems:v}),n.createElement("div",{className:"item"},n.createElement(c,{text:"Help and support",url:"https://support.".concat(o),icon:"question circle"})),n.createElement("div",{className:"right menu item"},n.createElement(b,{accountsEnabled:t,adminMenuItems:r,currentUserEmail:l,currentUserProfile:i,loginURL:h,logoutURL:E,userAuthenticated:L,profilesEnabled:N,settingsMenuItems:M,userAdministrator:I}),!!t&&!!L&&x.map((function(e,t){return n.createElement("div",{className:"item ".concat(e.text),key:t},n.createElement(c,{text:e.text,url:e.url,icon:"My dashboard"===e.text?"user":e.icon}))})),!!t&&!!L&&U.map((function(e,t){return n.createElement("div",{className:"item inbox",key:t},n.createElement(c,{text:"requests"===e.text?"My inbox":e.text,url:e.url,icon:"requests"===e.text?"inbox":e.icon}))})),!!t&&!!L&&n.createElement(c,{text:"Log out",url:E,icon:"sign-out"}))))};E.propTypes={accountsEnabled:o().bool,actionsMenuItems:o().array,adminMenuItems:o().array,currentUserEmail:o().string,loginURL:o().string,logoutURL:o().string,mainMenuItems:o().array,notificationsMenuItems:o().array,plusMenuItems:o().array,profilesEnabled:o().bool,settingsMenuItems:o().array,themeLogoURL:o().string,themeSitename:o().string,themeSearchbarEnabled:o().bool,userAuthenticated:o().bool,userAdministrator:o().bool};var f=document.getElementById("main-nav-menu"),g="True"===f.dataset.accountsEnabled,v=JSON.parse(f.dataset.actionsMenuItems),N=JSON.parse(f.dataset.adminMenuItems),M=f.dataset.currentUserEmail,y=f.dataset.kcWordpressDomain,w=f.dataset.loginUrl,L=f.dataset.logoutUrl,I=JSON.parse(f.dataset.mainMenuItems),k=JSON.parse(f.dataset.notificationsMenuItems),x=JSON.parse(f.dataset.plusMenuItems),U="True"===f.dataset.profilesEnabled,S=JSON.parse(f.dataset.settingsMenuItems),T=f.dataset.themeLogoUrl,C=f.dataset.themeSitename,R="True"===f.dataset.themeSearchbarEnabled,O="True"===f.dataset.userAuthenticated,A=!!JSON.parse(f.dataset.userRoles).includes("administrator");r.render(n.createElement(E,{accountsEnabled:g,actionsMenuItems:v,adminMenuItems:N,currentUserEmail:M,kcWordpressDomain:y,loginURL:w,logoutURL:L,mainMenuItems:I,notificationsMenuItems:k,plusMenuItems:x,profilesEnabled:U,settingsMenuItems:S,themeLogoURL:T,themeSitename:C,themeSearchbarEnabled:R,userAuthenticated:O,userAdministrator:A}),f)},11990:(e,t,a)=>{a.d(t,{M:()=>c});var n=a(47127),r=a(17508);const s=JSON.parse('{"Copy to clipboard":"Copy to clipboard","Copied!":"Copied!","This set is not editable as it was created by the system.":"This set is not editable as it was created by the system.","This set is not deletable as it was created by the system.":"This set is not deletable as it was created by the system.","Links":"Links","Format":"Format","List records":"List records","Opens in new tab":"Opens in new tab","List identifiers":"List identifiers","Before deleting, make sure to alert all harvesters that this set will no longer be available.":"Before deleting, make sure to alert all harvesters that this set will no longer be available.","I have alerted all harvesters that this set will no longer be available.":"I have alerted all harvesters that this set will no longer be available.","Cancel":"Cancel","Delete":"Delete","Delete {{title}}":"Delete {{title}}","This will delete the set \'{{title}}\'.":"This will delete the set \'{{title}}\'."}'),l=JSON.parse('{"Copy to clipboard":"","Copied!":"","This set is not editable as it was created by the system.":"","This set is not deletable as it was created by the system.":"","Links":"","Format":"","List records":"","Opens in new tab":"","List identifiers":"","Before deleting, make sure to alert all harvesters that this set will no longer be available.":"","I have alerted all harvesters that this set will no longer be available.":"","Cancel":"","Delete":"","Delete {{title}}":"Delete {{title}}","This will delete the set \'{{title}}\'.":"This will delete the set \'{{title}}\'."}');var i={el:{translation:JSON.parse('{"Copy to clipboard":"","Copied!":"","This set is not editable as it was created by the system.":"","This set is not deletable as it was created by the system.":"","Links":"","Format":"","List records":"","Opens in new tab":"","List identifiers":"","Before deleting, make sure to alert all harvesters that this set will no longer be available.":"","I have alerted all harvesters that this set will no longer be available.":"","Cancel":"","Delete":"","Delete {{title}}":"Delete {{title}}","This will delete the set \'{{title}}\'.":"This will delete the set \'{{title}}\'."}')},en:{translation:s},de:{translation:l}},o=a(65414),m={fallbackLng:"en",returnEmptyString:!1,debug:!1,resources:i,keySeparator:!1,nsSeparator:!1,detection:{order:["htmlTag"],caches:[]},react:{transKeepBasicHtmlNodesFor:[]}},c=n.A.createInstance();c.use(r.A).use(o.r9).init(m)}},e=>{e.O(0,[402,7655],(()=>{return t=6434,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=main_ui_main_menu.eb4bade5cf0eae1ea032.js.map