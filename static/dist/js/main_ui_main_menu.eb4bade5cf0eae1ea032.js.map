{"version":3,"file":"js/main_ui_main_menu.eb4bade5cf0eae1ea032.js","mappings":"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","sources":["webpack://invenio-assets/./js/main_ui/main_menu.js","webpack://invenio-assets/./translations/invenio_rdm_records/messages/index.js","webpack://invenio-assets/./translations/invenio_rdm_records/i18next.js"],"sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { i18next } from \"@translations/invenio_rdm_records/i18next\";\nimport { Popup } from \"semantic-ui-react\";\nimport PropTypes from \"prop-types\";\n\nconst MenuItem = ({ text, icon, url }) => {\n  return (\n    <a role=\"button\" href={url} className=\"ui \">\n      <i className={`${icon} icon fitted`}></i>\n      <span className=\"inline\">{i18next.t(text)}</span>\n    </a>\n  );\n};\n\nconst CollapsingMenuItem = ({ text, icon, url }) => {\n  return (\n    <>\n      <Popup\n        content={i18next.t(text)}\n        trigger={\n          <a role=\"button\" href={url} className=\"ui computer only\">\n            <i className={`${icon} icon fitted`}></i>\n          </a>\n        }\n      />\n\n      <a role=\"button\" href={url} className=\"ui widescreen only\">\n        <i className={`${icon} icon fitted`}></i>\n        <span className=\"inline\">{i18next.t(text)}</span>\n      </a>\n\n      <a role=\"button\" href={url} className=\"ui mobile tablet only\">\n        <i className={`${icon} icon fitted`}></i>\n        <span className=\"inline\">{i18next.t(text)}</span>\n      </a>\n\n    </>\n  );\n};\n\nconst SubMenu = ({ item }) => {\n  return (\n    <div className={`dropdown ${item.active ? \" active\" : \"\"}`}>\n      <a\n        role=\"menuitem\"\n        className=\"dropdown-toggle\"\n        data-toggle=\"dropdown\"\n        aria-haspopup=\"true\"\n        aria-expanded=\"false\"\n        href={item.url}\n      >\n        {/* // FIXME: safe filter??? */}\n        {item.text}\n        <b className=\"caret\"></b>\n      </a>\n      <ul className=\"dropdown-menu\">\n        {item.children\n          .sort((a, b) => a.order - b.order)\n          .map((childItem, indexInner) => (\n            <li\n              className={`${childItem.active ? \"active\" : \"\"}`}\n              key={indexInner}\n            >\n              <MenuItem {...childItem} />\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n};\n\nconst PlusMenu = ({ plusMenuItems }) => {\n  return (\n    //   {# {%- if plus_menu_items %}\n    //     <div role=\"menuitem\" class=\"rdm-plus-menu rdm-plus-menu-responsive ui dropdown floating pr-15 computer only\" aria-label=\"{{ _(\"Quick create\") }}\">\n    //         <i class=\"fitted plus icon\"></i>\n    //         <i class=\"fitted dropdown icon\"></i>\n    //         <div class=\"menu\">\n    //             {%- for item in plus_menu_items if item.visible %}\n    //             {%- if item.text != \"New community\" or (current_user.roles | selectattr(\"name\", \"equalto\", \"administrator\") | list) %}\n    //               <a class=\"item\" href=\"{{ item.url }}\">{{ item.text|safe }} </a>\n    //             {%- endif %}\n    //             {%- endfor %}\n    //         </div>\n    //     </div>\n    // )\n\n    //     <div class=\"sub-menu mobile tablet only\">\n    //       <h2 class=\"ui small header\">{{ _(\"Actions\") }}</h2>\n\n    //       {%- for item in plus_menu_items if item.visible %}\n    //       {%- if item.text != \"New community\" or (current_user.roles | selectattr(\"name\", \"equalto\", \"administrator\") | list) %}\n    //         <a role=\"menuitem\" class=\"item\" href=\"{{ item.url }}\">\n    //           <i class=\"plus icon\"></i>\n    //           {{ item.text|safe }}\n    //         </a>\n    //       {%- endif %}\n    //       {%- endfor %}\n    //     </div>\n    //   {% endif %} #}\n\n    <div className=\"item plus\">\n      <a\n        role=\"menuitem\"\n        aria-label={i18next.t(\"Quick create\")}\n        href={plusMenuItems[0].url}\n      >\n        <i className=\"fitted upload icon\"></i>\n        <span className=\"inline\">{i18next.t(\"Add a work\")}</span>\n      </a>\n    </div>\n  );\n};\n\nconst UserMenu = ({\n  adminMenuItems,\n  logoutURL,\n  readableEmail,\n  settingsMenuItems,\n}) => {\n  const settingsItems = settingsMenuItems\n    .sort((a, b) => a.order - b.order)\n    .filter((item) => item.visible === true);\n  const adminItems = adminMenuItems\n    .sort((a, b) => a.order - b.order)\n    .filter((item) => item.visible === true);\n\n  return (\n    <>\n      <div\n        role=\"menuitem\"\n        id=\"user-profile-dropdown\"\n        className=\"ui floating dropdown computer only\"\n      >\n        <button\n          id=\"user-profile-dropdown-btn\"\n          className=\"ui right labeled right floated icon button text\"\n          aria-controls=\"user-profile-menu\"\n          aria-expanded=\"false\"\n          aria-haspopup=\"menu\"\n          aria-label=\"{i18next.t('My account')}\"\n        >\n          <span>\n            {/* {#  <i class=\"user icon\"></i> #} */}\n            {readableEmail}\n          </span>\n          <i className=\"dropdown icon\"></i>\n        </button>\n\n        <div\n          id=\"user-profile-menu\"\n          className=\"ui menu\"\n          role=\"menu\"\n          aria-labelledby=\"user-profile-dropdown-btn\"\n        >\n          {settingsItems.map((item, index) => (\n            <a\n              role=\"menuitem\"\n              className=\"item\"\n              href={item.url}\n              tabindex=\"-1\"\n              key={index}\n            >\n              {item.text}\n            </a>\n          ))}\n\n          <div className=\"ui divider\"></div>\n\n          {adminItems.map((item, index) => (\n            <a\n              role=\"menuitem\"\n              className=\"item\"\n              href={item.url}\n              tabindex=\"-1\"\n              key={index}\n            >\n              {item.text}\n            </a>\n          ))}\n\n          {adminItems.length > 0 && <div className=\"ui divider\"></div>}\n\n          <a role=\"menuitem\" className=\"item\" href={logoutURL} tabindex=\"-1\">\n            <i className=\"fitted sign-out icon\"></i>\n            <span className=\"mobile tablet only inline\">\n              {i18next.t(\"Log out\")}\n            </span>\n            <span className=\"widescreen only inline\">\n              {i18next.t(\"Log out\")}\n            </span>\n          </a>\n        </div>\n      </div>\n\n      <div className=\"sub-menu mobile tablet only\">\n        <h2 className=\"ui small header\">{i18next.t(\"My account\")}</h2>\n\n        {settingsItems.map((item, index) => (\n          <a role=\"menuitem\" className=\"item\" href={item.url} key={index}>\n            {item.text}\n          </a>\n        ))}\n\n        <div className=\"ui divider\"></div>\n\n        {adminItems.map((item, index) => (\n          <a role=\"menuitem\" className=\"item\" href={item.url} key={index}>\n            {item.text}\n          </a>\n        ))}\n        {adminItems.length > 0 && <div className=\"ui divider\"></div>}\n\n        <a role=\"menuitem\" className=\"item\" href={logoutURL}>\n          <i className=\"fitted sign-out icon\"></i>\n          {i18next.t(\"Log out\")}\n        </a>\n      </div>\n    </>\n  );\n};\n\nconst LoginMenu = ({\n  accountsEnabled,\n  adminMenuItems,\n  currentUserEmail,\n  currentUserProfile,\n  loginURL,\n  logoutURL,\n  profilesEnabled,\n  settingsMenuItems,\n  userAdministrator,\n  userAuthenticated,\n}) => {\n  const readableEmail =\n    currentUserEmail.length >= 31\n      ? currentUserEmail.slice(31) + \"...\"\n      : currentUserEmail;\n\n  console.log(\"LoginMenu ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\");\n  console.log(userAdministrator, userAuthenticated, accountsEnabled, profilesEnabled, adminMenuItems, settingsMenuItems, loginURL, logoutURL, currentUserProfile, readableEmail);\n\n  return (\n    !!accountsEnabled &&\n    (!userAuthenticated ? (\n      <form>\n        <a href={loginURL} className=\"ui basic button\">\n          <i className=\"fitted sign-in icon\"></i>\n          {i18next.t(\"Log in\")}\n        </a>\n        {/* // {% if security.registerable %}\n            //     <a href=\"{{ url_for_security('register') }}\" class=\"ui button signup\">\n            //         <i class=\"edit outline icon\"></i>\n            //         {{ _('Sign up') }}\n            //     </a>\n            // {% endif %} */}\n      </form>\n    ) : !!profilesEnabled && !!userAdministrator ? (\n      <UserMenu\n        adminMenuItems={adminMenuItems}\n        logoutURL={logoutURL}\n        readableEmail={readableEmail}\n        settingsMenuItems={settingsMenuItems}\n      />\n    ) : (\n      <>\n        <div className=\"item\">\n          {/* {# <i class=\"user icon\"></i> #} */}\n          <span className=\"inline\" href={currentUserProfile}>\n            {readableEmail}\n          </span>\n        </div>\n      </>\n    ))\n  );\n};\n\nconst Brand = ({ themeLogoURL, themeSitename }) => {\n  const siteNameOverride = \"Works\";\n  return themeLogoURL !== \"\" ? (\n    <a className=\"logo-link\" href=\"/\">\n      <img\n        className=\"ui image rdm-logo\"\n        src={`${themeLogoURL}`}\n        alt={i18next.t(siteNameOverride ? siteNameOverride : themeSitename)}\n      />\n      <span className=\"title-wrapper\">\n        <h1 className=\"ui header\">\n          {siteNameOverride !== \"\" ? \"Works\" : themeSitename}\n        </h1>\n        <span className=\"ui header subtitle\">Knowledge Commons</span>\n      </span>\n    </a>\n  ) : (\n    <a className=\"logo\" href=\"/\">\n      {i18next.t(themeSitename)}\n    </a>\n  );\n};\n\nconst MainMenu = ({\n  accountsEnabled,\n  actionsMenuItems,\n  adminMenuItems,\n  currentUserEmail,\n  currentUserProfile,\n  kcWordpressDomain,\n  loginURL,\n  logoutURL,\n  mainMenuItems,\n  notificationsMenuItems,\n  plusMenuItems,\n  profilesEnabled,\n  settingsMenuItems,\n  themeLogoURL,\n  themeSitename,\n  themeSearchbarEnabled,\n  userAuthenticated,\n  userAdministrator,\n}) => {\n  console.log(\"mainMenuItems: \", mainMenuItems);\n\n  const mainItems = mainMenuItems\n    .sort((a, b) => a.order - b.order)\n    .filter((i) => i.visible === true);\n  const actionsItems = actionsMenuItems\n    .sort((a, b) => a.order - b.order)\n    .filter((i) => i.visible === true);\n  const notificationsItems = notificationsMenuItems\n    .sort((a, b) => a.order - b.order)\n    .filter((i) => i.visible === true);\n\n  return (\n    <nav id=\"invenio-nav\" className=\"ui menu borderless stackable p-0\">\n      <div className=\"item logo p-0\">\n        <Brand themeLogoURL={themeLogoURL} themeSitename={themeSitename} />\n      </div>\n\n      <div id=\"rdm-burger-toggle\">\n        <button\n          id=\"rdm-burger-menu-icon\"\n          className=\"ui button transparent\"\n          aria-label={i18next.t(\"Menu\")}\n          aria-haspopup=\"menu\"\n          aria-expanded=\"false\"\n          aria-controls=\"invenio-menu\"\n        >\n          <span className=\"navicon\"></span>\n        </button>\n      </div>\n\n      <div\n        role=\"menu\"\n        id=\"invenio-menu\"\n        aria-labelledby=\"rdm-burger-menu-icon\"\n        className=\"ui fluid menu borderless mobile-hidden\"\n      >\n        <button\n          id=\"rdm-close-burger-menu-icon\"\n          className=\"ui button transparent\"\n          aria-label=\"{{ _('Close menu') }}\"\n        >\n          <span className=\"navicon\"></span>\n        </button>\n\n        {/* Searchbar not implemented yet */}\n        {/* {!!themeSearchbar && (\n                {%- include \"invenio_app_rdm/searchbar.html\" %}\n            )} */}\n\n        {/* \"Main\" menu, including collections */}\n        {mainItems.map((item, index) =>\n          !!item.children ? (\n            <div className=\"item\" key={index}>\n              <SubMenu item={item} />\n            </div>\n          ) : (\n            <div\n              className={`${item.active ? \"item active\" : \" item\"}`}\n              key={index}\n            >\n              <MenuItem\n                url={item.url}\n                text={`${\n                  item.text === \"Communities\" ? \"Collections\" : item.text\n                }`}\n                icon={item.text === \"Communities\" ? \"copy\" : item.icon}\n                key={index}\n              />\n            </div>\n          )\n        )}\n\n        <div className={`item`}>\n          <MenuItem text=\"Search\" url={\"/search\"} icon=\"search\" />\n        </div>\n\n        {/* \"Plus\" menu including adding a record */}\n        <PlusMenu plusMenuItems={plusMenuItems} />\n\n        <div className={`item`}>\n          <CollapsingMenuItem text=\"Help and support\" url={`https://support.${kcWordpressDomain}`} icon=\"question circle\" />\n        </div>\n\n        {/* Right-aligned menu items */}\n        <div className=\"right menu item\">\n\n          <LoginMenu\n            accountsEnabled={accountsEnabled}\n            adminMenuItems={adminMenuItems}\n            currentUserEmail={currentUserEmail}\n            currentUserProfile={currentUserProfile}\n            loginURL={loginURL}\n            logoutURL={logoutURL}\n            userAuthenticated={userAuthenticated}\n            profilesEnabled={profilesEnabled}\n            settingsMenuItems={settingsMenuItems}\n            userAdministrator={userAdministrator}\n          />\n\n\n          {!!accountsEnabled && !!userAuthenticated && actionsItems.map((item, index) => (\n              <div className={`item ${item.text}`} key={index}>\n                <CollapsingMenuItem text={item.text} url={item.url} icon={item.text === \"My dashboard\" ? \"user\" : item.icon} />\n              </div>\n            )\n            )}\n\n          {!!accountsEnabled && !!userAuthenticated && notificationsItems.map((item, index) => (\n                  <div className=\"item inbox\" key={index}>\n                    <CollapsingMenuItem text={item.text===\"requests\" ? \"My inbox\" : item.text} url={item.url} icon={item.text===\"requests\" ? \"inbox\" : item.icon} />\n                  </div>\n                ))}\n\n          {!!accountsEnabled && !!userAuthenticated && (<CollapsingMenuItem text=\"Log out\" url={logoutURL} icon=\"sign-out\" />)}\n\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nMainMenu.propTypes = {\n  accountsEnabled: PropTypes.bool,\n  actionsMenuItems: PropTypes.array,\n  adminMenuItems: PropTypes.array,\n  currentUserEmail: PropTypes.string,\n  loginURL: PropTypes.string,\n  logoutURL: PropTypes.string,\n  mainMenuItems: PropTypes.array,\n  notificationsMenuItems: PropTypes.array,\n  plusMenuItems: PropTypes.array,\n  profilesEnabled: PropTypes.bool,\n  settingsMenuItems: PropTypes.array,\n  themeLogoURL: PropTypes.string,\n  themeSitename: PropTypes.string,\n  themeSearchbarEnabled: PropTypes.bool,\n  userAuthenticated: PropTypes.bool,\n  userAdministrator: PropTypes.bool,\n};\n\n// Get the HTML element\nconst element = document.getElementById(\"main-nav-menu\");\n\n// Get the data property from the element\nconst accountsEnabled =\n  element.dataset.accountsEnabled === \"True\" ? true : false;\nconst actionsMenuItems = JSON.parse(element.dataset.actionsMenuItems);\nconst adminMenuItems = JSON.parse(element.dataset.adminMenuItems);\nconst currentUserEmail = element.dataset.currentUserEmail;\nconst kcWordpressDomain = element.dataset.kcWordpressDomain;\nconst loginURL = element.dataset.loginUrl;\nconst logoutURL = element.dataset.logoutUrl;\nconst mainMenuItems = JSON.parse(element.dataset.mainMenuItems);\nconst notificationsMenuItems = JSON.parse(\n  element.dataset.notificationsMenuItems\n);\nconst plusMenuItems = JSON.parse(element.dataset.plusMenuItems);\nconst profilesEnabled =\n  element.dataset.profilesEnabled === \"True\" ? true : false;\nconst settingsMenuItems = JSON.parse(element.dataset.settingsMenuItems);\nconst themeLogoURL = element.dataset.themeLogoUrl;\nconst themeSitename = element.dataset.themeSitename;\nconst themeSearchbarEnabled =\n  element.dataset.themeSearchbarEnabled === \"True\" ? true : false;\nconst userAuthenticated =\n  element.dataset.userAuthenticated === \"True\" ? true : false;\nconst userAdministrator =\n  JSON.parse(element.dataset.userRoles).includes(\"administrator\") ? true : false;\n\n// Provide the data property as a prop to the MainMenu component\nReactDOM.render(\n  <MainMenu\n    accountsEnabled={accountsEnabled}\n    actionsMenuItems={actionsMenuItems}\n    adminMenuItems={adminMenuItems}\n    currentUserEmail={currentUserEmail}\n    kcWordpressDomain={kcWordpressDomain}\n    loginURL={loginURL}\n    logoutURL={logoutURL}\n    mainMenuItems={mainMenuItems}\n    notificationsMenuItems={notificationsMenuItems}\n    plusMenuItems={plusMenuItems}\n    profilesEnabled={profilesEnabled}\n    settingsMenuItems={settingsMenuItems}\n    themeLogoURL={themeLogoURL}\n    themeSitename={themeSitename}\n    themeSearchbarEnabled={themeSearchbarEnabled}\n    userAuthenticated={userAuthenticated}\n    userAdministrator={userAdministrator}\n  />,\n  element\n);\n","import TRANSLATE_EN from \"./en/translations.json\";\nimport TRANSLATE_DE from \"./de/translations.json\";\nimport TRANSLATE_EL from \"./el/translations.json\";\n\nexport const translations = {\n  el: { translation: TRANSLATE_EL },\n  en: { translation: TRANSLATE_EN },\n  de: { translation: TRANSLATE_DE },\n};\n","// This file is part of InvenioRdmRecords\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport i18n from \"i18next\";\n\nimport LanguageDetector from \"i18next-browser-languagedetector\";\nimport { translations } from \"./messages\";\nimport { initReactI18next } from \"react-i18next\";\n\nconst options = {\n  fallbackLng: \"en\", // fallback keys\n  returnEmptyString: false,\n  debug: process.env.NODE_ENV === \"development\",\n  resources: translations,\n  keySeparator: false,\n  nsSeparator: false,\n  // specify language detection order\n  detection: {\n    order: [\"htmlTag\"],\n    // cache user language off\n    caches: [],\n  },\n  react: {\n    // Set empty - to allow html tags convert to trans tags\n    // HTML TAG | Trans TAG\n    //  <span>  | <1>\n    transKeepBasicHtmlNodesFor: [],\n  },\n};\n\nconst i18next = i18n.createInstance();\ni18next.use(LanguageDetector).use(initReactI18next).init(options);\n\nexport { i18next };\n"],"names":["MenuItem","_ref","text","icon","url","React","role","href","className","concat","i18next","t","CollapsingMenuItem","_ref2","Popup","content","trigger","SubMenu","_ref3","item","active","children","sort","a","b","order","map","childItem","indexInner","key","PlusMenu","_ref4","plusMenuItems","UserMenu","_ref5","adminMenuItems","logoutURL","readableEmail","settingsItems","settingsMenuItems","filter","visible","adminItems","id","index","tabindex","length","LoginMenu","_ref6","accountsEnabled","currentUserEmail","currentUserProfile","loginURL","profilesEnabled","userAdministrator","userAuthenticated","slice","console","log","Brand","_ref7","themeLogoURL","themeSitename","siteNameOverride","src","alt","MainMenu","_ref8","actionsMenuItems","kcWordpressDomain","mainMenuItems","notificationsMenuItems","themeSearchbarEnabled","mainItems","i","actionsItems","notificationsItems","propTypes","PropTypes","element","document","getElementById","dataset","JSON","parse","loginUrl","logoutUrl","themeLogoUrl","userRoles","includes","ReactDOM","translations","el","translation","en","TRANSLATE_EN","de","TRANSLATE_DE","options","fallbackLng","returnEmptyString","debug","process","resources","keySeparator","nsSeparator","detection","caches","react","transKeepBasicHtmlNodesFor","i18n","createInstance","use","LanguageDetector","initReactI18next","init"],"sourceRoot":""}