(self.webpackChunkinvenio_assets=self.webpackChunkinvenio_assets||[]).push([[2426],{77918:(e,t,r)=>{"use strict";r.d(t,{$:()=>R});var n=r(10467),i=r(23029),a=r(92901),o=r(56822),l=r(53954),s=r(85501),c=r(64467),u=r(54756),m=r.n(u),f=r(38102),v=r(17684),p=r(74354),b=r.n(p),d=r(96540),y=r(80501),h=r(87395),g=r(3487),A=r(76217),E=r(4252),S=r(64483),C=r(5556),k=r.n(C);function x(e,t,r){return t=(0,l.A)(t),(0,o.A)(e,O()?Reflect.construct(t,r||[],(0,l.A)(e).constructor):t.apply(e,r))}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function(){return!!e})()}var R=function(e){function t(){var e;(0,i.A)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=x(this,t,[].concat(a)),(0,c.A)(e,"state",{error:void 0,isSaved:!1}),(0,c.A)(e,"getInitialValues",(function(){var t=e.props,r=t.community,n=t.initialValues;return b()(r,n)})),(0,c.A)(e,"setGlobalError",(function(t){e.setState({error:t})})),(0,c.A)(e,"setIsSavedState",(function(t){e.setState({isSaved:t})})),(0,c.A)(e,"onSubmit",function(){var t=(0,n.A)(m().mark((function t(r,n){var i,a,o,l,s,c,u;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.setSubmitting,a=n.setFieldError,o=e.props.community,i(!0),t.prev=3,l=new E.AM,t.next=7,l.update(o.id,r);case 7:e.setIsSavedState(!0),t.next=17;break;case 10:if(t.prev=10,t.t0=t.catch(3),"UNMOUNTED"!==t.t0){t.next=14;break}return t.abrupt("return");case 14:s=(0,S.U9)(t.t0),c=s.message,u=s.errors,c&&e.setGlobalError(c),u&&u.forEach((function(e){var t=e.field,r=e.messages;return a(t,r[0])}));case 17:i(!1);case 18:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,r){return t.apply(this,arguments)}}()),e}return(0,s.A)(t,e),(0,a.A)(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.community,n=this.state,i=n.isSaved,a=n.error,o=void 0!==a;return d.createElement(v.Formik,{initialValues:this.getInitialValues(r),onSubmit:this.onSubmit},(function(e){var r=e.isSubmitting,n=e.handleSubmit;e.values;return d.createElement(y.A,{onSubmit:n},d.createElement(h.A,{hidden:!o,negative:!0},d.createElement(h.A.Content,null,a)),t,d.createElement(g.A,{primary:!0,icon:!0,labelPosition:"left",loading:r,toggle:!0,active:i,type:"submit"},d.createElement(A.A,{name:"save"}),i?f.M.t("Saved"):f.M.t("Save")))}))}}])}(d.Component);R.propTypes={community:k().object.isRequired,children:k().node.isRequired,initialValues:k().object.isRequired}},82877:(e,t,r)=>{"use strict";var n=r(23029),i=r(92901),a=r(56822),o=r(53954),l=r(85501),s=r(64467),c=r(80296),u=r(80045),m=r(38102),f=r(77918),v=r(58156),p=r.n(v),b=r(17684),d=r(96540),y=r(81057),h=r(27041),g=r(5556),A=r.n(g),E=["label","formConfig"],S=["label","formConfig"];function C(e,t,r){return t=(0,o.A)(t),(0,a.A)(e,k()?Reflect.construct(t,r||[],(0,o.A)(e).constructor):t.apply(e,r))}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}var x=function(e){e.label;var t=e.formConfig,r=(0,u.A)(e,E),n=(0,b.useField)(r),i=(0,c.A)(n,1)[0];return d.createElement(d.Fragment,null,t.access.visibility.map((function(e){return d.createElement(d.Fragment,{key:e.value},d.createElement(y.RadioField,{key:e.value,fieldPath:"access.visibility",label:e.text,labelIcon:e.icon,checked:p()(i.value,"access.visibility")===e.value,value:e.value}),d.createElement("label",{className:"helptext"},e.helpText))})))};x.propTypes={label:A().string,formConfig:A().object.isRequired},x.defaultProps={label:""};var O=function(e){e.label;var t=e.formConfig,r=(0,u.A)(e,S),n=(0,b.useField)(r),i=(0,c.A)(n,1)[0];return d.createElement(d.Fragment,null,t.access.members_visibility.map((function(e){return d.createElement(d.Fragment,{key:e.value},d.createElement(y.RadioField,{key:e.value,fieldPath:"access.members_visibility",label:e.text,labelIcon:e.icon,checked:p()(i.value,"access.members_visibility")===e.value,value:e.value}),d.createElement("label",{className:"helptext"},e.helpText))})))};O.propTypes={label:A().string,formConfig:A().object.isRequired},O.defaultProps={label:""};var R=function(e){function t(){var e;(0,n.A)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=C(this,t,[].concat(i)),(0,s.A)(e,"getInitialValues",(function(){return{access:{visibility:"public",members_visibility:"public"}}})),e}return(0,l.A)(t,e),(0,i.A)(t,[{key:"render",value:function(){var e=this.props,t=e.formConfig,r=e.community;return d.createElement(f.$,{initialValues:this.getInitialValues(),community:r},d.createElement(h.A,{as:"h2",size:"small"},m.M.t("Community visibility"),d.createElement(h.A.Subheader,{className:"mt-5"},m.M.t("Controls if the community is visible to anyone or to members only."))),d.createElement(x,{formConfig:t}),d.createElement(h.A,{as:"h2",size:"small"},m.M.t("Members visibility"),d.createElement(h.A.Subheader,{className:"mt-5"},m.M.t("Controls if the members tab is visible to anyone or to members only."))),d.createElement(O,{formConfig:t}))}}])}(d.Component);R.propTypes={community:A().object.isRequired,formConfig:A().object.isRequired};const j=R;var F=r(40961),I=document.getElementById("app"),w=JSON.parse(I.dataset.formConfig),M=JSON.parse(I.dataset.community);F.render(d.createElement(j,{formConfig:w,community:M}),I)},69302:(e,t,r)=>{var n=r(83488),i=r(56757),a=r(32865);e.exports=function(e,t){return a(i(e,t,n),e+"")}},20999:(e,t,r)=>{var n=r(69302),i=r(36800);e.exports=function(e){return n((function(t,r){var n=-1,a=r.length,o=a>1?r[a-1]:void 0,l=a>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,l&&i(r[0],r[1],l)&&(o=a<3?void 0:o,a=1),t=Object(t);++n<a;){var s=r[n];s&&e(t,s,n,o)}return t}))}},36800:(e,t,r)=>{var n=r(75288),i=r(64894),a=r(30361),o=r(23805);e.exports=function(e,t,r){if(!o(r))return!1;var l=typeof t;return!!("number"==l?i(r)&&a(t,r.length):"string"==l&&t in r)&&n(r[t],e)}},83693:(e,t,r)=>{var n=r(64894),i=r(40346);e.exports=function(e){return i(e)&&n(e)}},80045:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(98587);function i(e,t){if(null==e)return{};var r,i,a=(0,n.A)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}}},e=>{e.O(0,[402,1057,7655,6932,8102,4252],(()=>{return t=82877,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=invenio-communities-privileges.4cf5abd2dc71345a6c37.js.map