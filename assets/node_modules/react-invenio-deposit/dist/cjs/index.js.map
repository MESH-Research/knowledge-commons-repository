{"version":3,"file":"index.js","sources":["../../src/lib/translations/messages/index.js","../../src/lib/i18next.js","../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../node_modules/@babel/runtime/helpers/esm/inherits.js","../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../node_modules/@babel/runtime/helpers/esm/createSuper.js","../../src/lib/components/Access/ProtectionButtons.js","../../src/lib/components/Access/MetadataAccess.js","../../src/lib/components/Access/FilesAccess.js","../../src/lib/components/Access/EmbargoCheckboxField.js","../../src/lib/components/Access/EmbargoDateField.js","../../src/lib/components/Access/EmbargoAccess.js","../../src/lib/components/Access/AccessMessage.js","../../src/lib/components/AccessRightField.js","../../src/lib/record.js","../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../../src/lib/components/LanguagesField.js","../../src/lib/components/AdditionalTitlesField.js","../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../src/lib/components/AffiliationsField.js","../../src/lib/components/ComingSoonField.js","../../node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../../src/lib/state/types/index.js","../../src/lib/state/actions/deposit.js","../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../../src/lib/state/actions/files.js","../../src/lib/components/CommunitySelectionModal/CommunityContext.js","../../src/lib/components/CommunitySelectionModal/CommunityListItem.js","../../src/lib/components/CommunitySelectionModal/CommunitySelectionSearch.js","../../src/lib/components/CommunitySelectionModal/CommunitySelectionModal.js","../../src/lib/components/Communities/CommunityHeader.js","../../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../src/lib/components/Creatibutors/CreatibutorsIdentifiers.js","../../src/lib/components/Creatibutors/type.js","../../src/lib/components/Creatibutors/CreatibutorsModal.js","../../src/lib/components/Creatibutors/CreatibutorsFieldItem.js","../../src/lib/utils.js","../../src/lib/components/Creatibutors/CreatibutorsField.js","../../src/lib/components/DatesField.js","../../src/lib/DepositFormSubmitContext.js","../../src/lib/components/DeleteButton.js","../../src/lib/components/DepositFormTitle.js","../../src/lib/state/reducers/deposit.js","../../src/lib/components/DepositStatus/DepositStatusBox.js","../../src/lib/components/AdditionalDescriptionsField.js","../../src/lib/components/DescriptionsField.js","../../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../../src/lib/state/reducers/files.js","../../src/lib/components/NewVersionButton.js","../../src/lib/components/FileUploader/utils.js","../../src/lib/components/FileUploader/FileUploaderArea.js","../../src/lib/components/FileUploader/FileUploaderToolbar.js","../../src/lib/components/FileUploader/FileUploader.js","../../src/lib/components/FileUploader/index.js","../../src/lib/components/FormFeedback.js","../../src/lib/components/Funding/AwardResults.js","../../src/lib/components/Funding/CustomAwardForm.js","../../src/lib/components/Funding/FunderDropdown.js","../../src/lib/components/Funding/NoAwardResults.js","../../src/lib/components/Funding/FundingModal.js","../../src/lib/components/Funding/FundingFieldItem.js","../../src/lib/components/Funding/FundingField.js","../../src/lib/components/Identifiers/IdentifiersField.js","../../src/lib/components/Identifiers/PIDField.js","../../src/lib/components/License/LicenseFilter.js","../../src/lib/components/License/LicenseResults.js","../../src/lib/components/License/LicenseModal.js","../../src/lib/components/License/LicenseFieldItem.js","../../src/lib/components/License/LicenseField.js","../../src/lib/components/PreviewButton.js","../../src/lib/components/PublicationDateField.js","../../src/lib/components/PublishButton/PublishButton.js","../../src/lib/components/PublishButton/SubmitReviewModal.js","../../src/lib/components/PublishButton/SubmitReviewButton.js","../../src/lib/components/PublishButton/SubmitReviewOrPublishButton.js","../../src/lib/components/PublisherField.js","../../src/lib/components/ResourceTypeField.js","../../src/lib/components/RelatedWorksField.js","../../src/lib/components/SaveButton.js","../../src/lib/components/SubjectsField.js","../../src/lib/components/TitlesField.js","../../src/lib/components/VersionField.js","../../src/lib/connect.js","../../src/lib/DepositApiClient.js","../../src/lib/DepositErrorHandler.js","../../src/lib/DepositBootstrap.js","../../src/lib/DepositDraftsService.js","../../src/lib/DepositFilesService.js","../../src/lib/fields/Field.js","../../src/lib/fields/SchemaField.js","../../src/lib/fields/VocabularyField.js","../../node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js","../../node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js","../../src/lib/fields/CustomField.js","../../src/lib/DepositRecordSerializer.js","../../src/lib/DepositService.js","../../src/lib/state/reducers/index.js","../../src/lib/store.js","../../src/lib/UploadProgressNotifier.js","../../src/lib/DepositFormApp.js","../../src/lib/dom.js"],"sourcesContent":["import TRANSLATE_AF from \"./af/translations.json\";\nimport TRANSLATE_AR from \"./ar/translations.json\";\nimport TRANSLATE_BG from \"./bg/translations.json\";\nimport TRANSLATE_CA from \"./ca/translations.json\";\nimport TRANSLATE_CS from \"./cs/translations.json\";\nimport TRANSLATE_DA from \"./da/translations.json\";\nimport TRANSLATE_DE from \"./de/translations.json\";\nimport TRANSLATE_EL from \"./el/translations.json\";\nimport TRANSLATE_EN from \"./en/translations.json\";\nimport TRANSLATE_ES from \"./es/translations.json\";\nimport TRANSLATE_ET from \"./et/translations.json\";\nimport TRANSLATE_ET_EE from \"./et_EE/translations.json\";\nimport TRANSLATE_FA from \"./fa/translations.json\";\nimport TRANSLATE_FR from \"./fr/translations.json\";\nimport TRANSLATE_GL from \"./gl/translations.json\";\nimport TRANSLATE_HR from \"./hr/translations.json\";\nimport TRANSLATE_HU from \"./hu/translations.json\";\nimport TRANSLATE_IT from \"./it/translations.json\";\nimport TRANSLATE_JA from \"./ja/translations.json\";\nimport TRANSLATE_KA from \"./ka/translations.json\";\nimport TRANSLATE_LT from \"./lt/translations.json\";\nimport TRANSLATE_NO from \"./no/translations.json\";\nimport TRANSLATE_PL from \"./pl/translations.json\";\nimport TRANSLATE_PT from \"./pt/translations.json\";\nimport TRANSLATE_RO from \"./ro/translations.json\";\nimport TRANSLATE_RU from \"./ru/translations.json\";\nimport TRANSLATE_RW from \"./rw/translations.json\";\nimport TRANSLATE_SK from \"./sk/translations.json\";\nimport TRANSLATE_SV from \"./sv/translations.json\";\nimport TRANSLATE_TR from \"./tr/translations.json\";\nimport TRANSLATE_UK from \"./uk/translations.json\";\nimport TRANSLATE_ZH_CN from \"./zh_CN/translations.json\";\nimport TRANSLATE_ZH_TW from \"./zh_TW/translations.json\";\n\nexport const translations = {\n  af: { translation: TRANSLATE_AF },\n  ar: { translation: TRANSLATE_AR },\n  bg: { translation: TRANSLATE_BG },\n  ca: { translation: TRANSLATE_CA },\n  cs: { translation: TRANSLATE_CS },\n  da: { translation: TRANSLATE_DA },\n  de: { translation: TRANSLATE_DE },\n  el: { translation: TRANSLATE_EL },\n  en: { translation: TRANSLATE_EN },\n  es: { translation: TRANSLATE_ES },\n  et: { translation: TRANSLATE_ET },\n  et_EE: { translation: TRANSLATE_ET_EE },\n  fa: { translation: TRANSLATE_FA },\n  fr: { translation: TRANSLATE_FR },\n  gl: { translation: TRANSLATE_GL },\n  hr: { translation: TRANSLATE_HR },\n  hu: { translation: TRANSLATE_HU },\n  it: { translation: TRANSLATE_IT },\n  ja: { translation: TRANSLATE_JA },\n  ka: { translation: TRANSLATE_KA },\n  lt: { translation: TRANSLATE_LT },\n  no: { translation: TRANSLATE_NO },\n  pl: { translation: TRANSLATE_PL },\n  pt: { translation: TRANSLATE_PT },\n  ro: { translation: TRANSLATE_RO },\n  ru: { translation: TRANSLATE_RU },\n  rw: { translation: TRANSLATE_RW },\n  sk: { translation: TRANSLATE_SK },\n  sv: { translation: TRANSLATE_SV },\n  tr: { translation: TRANSLATE_TR },\n  uk: { translation: TRANSLATE_UK },\n  zh_CN: { translation: TRANSLATE_ZH_CN },\n  zh_TW: { translation: TRANSLATE_ZH_TW },\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React from \"react\";\nimport i18n from \"i18next\";\n\nimport LanguageDetector from \"i18next-browser-languagedetector\";\nimport { translations } from \"./translations/messages\";\nimport { Trans as ReactTrans } from \"react-i18next\";\n\nconst options = {\n  fallbackLng: \"en\", // fallback keys\n  returnEmptyString: false,\n  debug: process.env.NODE_ENV === \"development\",\n  resources: translations,\n  keySeparator: false,\n  nsSeparator: false,\n  // specify language detection order\n  detection: {\n    order: [\"htmlTag\"],\n    // cache user language off\n    caches: [],\n  },\n  react: {\n    // Set empty - to allow html tags convert to trans tags\n    // HTML TAG | Trans TAG\n    //  <span>  | <1>\n    transKeepBasicHtmlNodesFor: [],\n  },\n};\n// i18next instance creation\n// https://www.i18next.com/overview/api#instance-creation\n// this is required in order to keep the resources seperate\n// if there is going to be another package\n// which requires translation this is the way to create a new instance.\n//\n// We can use this particular instance for this particular package\n// to mark strings for translation.\nconst i18next = i18n.createInstance();\ni18next.use(LanguageDetector).init(options);\n\n// Bind Trans component to i18next instance\nexport const Trans = (props) => <ReactTrans i18n={i18next} {...props} />;\n\nexport { i18next };\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2021 CERN.\n// Copyright (C) 2020-2021 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\nimport React, { Component } from \"react\";\nimport { Button } from \"semantic-ui-react\";\nimport { Field } from \"formik\";\nimport { i18next } from \"@translations/i18next\";\nimport PropTypes from \"prop-types\";\n\nclass ProtectionButtonsComponent extends Component {\n  handlePublicButtonClick = () => {\n    const { formik, fieldPath } = this.props;\n    formik.form.setFieldValue(fieldPath, \"public\");\n    // NOTE: We reset values, so if embargo filled and click Public,\n    //       user needs to fill embargo again. Otherwise, lots of\n    //       bookkeeping.\n    formik.form.setFieldValue(\"access.embargo\", {\n      active: false,\n    });\n  };\n\n  handleRestrictionButtonClick = () => {\n    const { formik, fieldPath } = this.props;\n    formik.form.setFieldValue(fieldPath, \"restricted\");\n  };\n\n  render() {\n    const { active, disabled } = this.props;\n\n    const publicColor = active ? \"positive\" : \"\";\n    const restrictedColor = !active ? \"negative\" : \"\";\n\n    return (\n      <Button.Group widths=\"2\">\n        <Button\n          className={publicColor}\n          data-testid=\"protection-buttons-component-public\"\n          disabled={disabled}\n          onClick={this.handlePublicButtonClick}\n          active={active}\n        >\n          {i18next.t(\"Public\")}\n        </Button>\n        <Button\n          className={restrictedColor}\n          data-testid=\"protection-buttons-component-restricted\"\n          active={!active}\n          onClick={this.handleRestrictionButtonClick}\n        >\n          {i18next.t(\"Restricted\")}\n        </Button>\n      </Button.Group>\n    );\n  }\n}\n\nProtectionButtonsComponent.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  formik: PropTypes.object.isRequired,\n  active: PropTypes.bool,\n  disabled: PropTypes.bool,\n};\n\nProtectionButtonsComponent.defaultProps = {\n  active: true,\n  disabled: false,\n};\n\nexport class ProtectionButtons extends Component {\n  render() {\n    const { fieldPath } = this.props;\n\n    return (\n      <Field\n        name={fieldPath}\n        component={(formikProps) => (\n          <ProtectionButtonsComponent formik={formikProps} {...this.props} />\n        )}\n      />\n    );\n  }\n}\n\nProtectionButtons.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ProtectionButtons } from \"./ProtectionButtons\";\nimport { i18next } from \"@translations/i18next\";\nimport Overridable from \"react-overridable\";\n\nexport const MetadataAccess = (props) => {\n  const { recordAccess, communityAccess } = props;\n  const publicMetadata = recordAccess === \"public\";\n  const publicCommunity = communityAccess === \"public\";\n\n  return (\n    <Overridable id=\"ReactInvenioDeposit.MetadataAccess.layout\" {...props}>\n      <>\n        {i18next.t(\"Full record\")}\n        <ProtectionButtons\n          active={publicMetadata && publicCommunity}\n          disabled={!publicCommunity}\n          fieldPath=\"access.record\"\n        />\n      </>\n    </Overridable>\n  );\n};\n\nMetadataAccess.propTypes = {\n  recordAccess: PropTypes.string.isRequired,\n  communityAccess: PropTypes.string.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { ProtectionButtons } from \"./ProtectionButtons\";\nimport { i18next } from \"@translations/i18next\";\nimport { Card } from \"semantic-ui-react\";\n\nexport const FilesAccess = ({ access, accessCommunity, metadataOnly }) => {\n  const publicFiles = access.files === \"public\";\n  const publicMetadata = access.record === \"public\";\n  const publicCommunity = accessCommunity === \"public\";\n\n  const fullRecordRestricted = !publicCommunity || !publicMetadata;\n  const filesRestricted = publicCommunity && !publicFiles && publicMetadata;\n\n  const filesButtonsDisplayed = !metadataOnly && publicCommunity && publicMetadata;\n\n  if (metadataOnly) {\n    return (\n      <Card.Meta data-testid=\"access-files\">\n        <em>{i18next.t(\"The record has no files.\")}</em>\n      </Card.Meta>\n    );\n  }\n\n  return (\n    <div data-testid=\"access-files\">\n      {filesButtonsDisplayed && (\n        <>\n          {i18next.t(\"Files only\")}\n          <ProtectionButtons\n            active={publicFiles}\n            disable={!publicCommunity}\n            fieldPath=\"access.files\"\n          />\n        </>\n      )}\n      {fullRecordRestricted && (\n        <Card.Description>\n          <em>{i18next.t(\"The full record is restricted.\")}</em>\n        </Card.Description>\n      )}\n      {filesRestricted && (\n        <Card.Description>\n          <em>{i18next.t(\"The files of this record are restricted.\")}</em>\n        </Card.Description>\n      )}\n    </div>\n  );\n};\n\nFilesAccess.propTypes = {\n  access: PropTypes.object.isRequired,\n  metadataOnly: PropTypes.bool,\n  accessCommunity: PropTypes.string.isRequired,\n};\n\nFilesAccess.defaultProps = {\n  metadataOnly: false,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2021 CERN.\n// Copyright (C) 2020-2021 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\nimport React, { Component } from \"react\";\nimport { Checkbox } from \"semantic-ui-react\";\nimport { FastField } from \"formik\";\nimport PropTypes from \"prop-types\";\n\nclass EmbargoCheckboxComponent extends Component {\n  render() {\n    const { fieldPath, formik, checked, disabled } = this.props;\n    return (\n      <Checkbox\n        id={fieldPath}\n        data-testid=\"embargo-checkbox-component\"\n        disabled={disabled}\n        checked={checked}\n        onChange={() => {\n          if (formik.field.value) {\n            // NOTE: We reset values, so if embargo filled and user unchecks,\n            //       user needs to fill embargo again. Otherwise, lots of\n            //       bookkeeping.\n            formik.form.setFieldValue(\"access.embargo\", {\n              active: false,\n            });\n          } else {\n            formik.form.setFieldValue(fieldPath, true);\n          }\n        }}\n      />\n    );\n  }\n}\n\nEmbargoCheckboxComponent.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  formik: PropTypes.object.isRequired,\n  checked: PropTypes.bool,\n  disabled: PropTypes.bool,\n};\n\nEmbargoCheckboxComponent.defaultProps = {\n  checked: false,\n  disabled: true,\n};\n\nexport class EmbargoCheckboxField extends Component {\n  render() {\n    const { disabled: embargoDisabled, fieldPath } = this.props;\n\n    // NOTE: See the optimization pattern on AccessRightField for more details.\n    //       This makes FastField only render when the things\n    //       (access.embargo.active and embargo) it cares about change as it\n    //       should be.\n    const change = !embargoDisabled ? {} : { change: true };\n\n    return (\n      <FastField\n        name={fieldPath}\n        component={(formikProps) => (\n          <EmbargoCheckboxComponent formik={formikProps} {...this.props} />\n        )}\n        {...change}\n      />\n    );\n  }\n}\n\nEmbargoCheckboxField.propTypes = {\n  disabled: PropTypes.bool,\n  fieldPath: PropTypes.string.isRequired,\n};\n\nEmbargoCheckboxField.defaultProps = {\n  disabled: false,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2021 CERN.\n// Copyright (C) 2020-2021 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { FieldLabel, TextField } from \"react-invenio-forms\";\nimport { i18next } from \"../../i18next\";\n\nexport function EmbargoDateField({\n  fieldPath,\n  label,\n  labelIcon,\n  placeholder,\n  required,\n  helpText,\n}) {\n  return (\n    <TextField\n      fieldPath={fieldPath}\n      label={<FieldLabel htmlFor={fieldPath} icon={labelIcon} label={label} />}\n      placeholder={placeholder}\n      required={required}\n      helpText={helpText}\n    />\n  );\n}\n\nEmbargoDateField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  labelIcon: PropTypes.string,\n  placeholder: PropTypes.string,\n  required: PropTypes.bool,\n  helpText: PropTypes.string,\n};\n\nEmbargoDateField.defaultProps = {\n  required: false,\n  labelIcon: \"calendar\",\n  placeholder: i18next.t(\"YYYY-MM-DD\"),\n  label: i18next.t(\"Embargo until\"),\n  helpText: `${i18next.t(\"Format\")}: ${i18next.t(\"YYYY-MM-DD\")}`,\n};\n","import _isEmpty from \"lodash/isEmpty\";\nimport { DateTime } from \"luxon\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { TextAreaField } from \"react-invenio-forms\";\nimport { Divider, Icon, List } from \"semantic-ui-react\";\nimport { EmbargoCheckboxField } from \"./EmbargoCheckboxField\";\nimport { EmbargoDateField } from \"./EmbargoDateField\";\nimport { Trans } from \"@translations/i18next\";\nimport { i18next } from \"@translations/i18next\";\n\nexport const EmbargoAccess = ({ access, accessCommunity, metadataOnly }) => {\n  const recordPublic = access.record === \"public\";\n  const filesPublic = access.files === \"public\";\n  const communityPublic = accessCommunity === \"public\";\n\n  const filesRestricted = !metadataOnly && !filesPublic;\n\n  const embargoActive = access.embargo?.active || false;\n  const embargoUntil = access.embargo?.until;\n  const embargoReason = access.embargo?.reason;\n  const embargoWasLifted = !embargoActive && !_isEmpty(embargoUntil);\n  const embargoEnabled = communityPublic && (!recordPublic || filesRestricted);\n\n  const fmtDate = embargoUntil\n    ? DateTime.fromISO(embargoUntil).toLocaleString(DateTime.DATE_FULL)\n    : \"???\";\n\n  return (\n    <List>\n      <List.Item disabled={!embargoEnabled} data-testid=\"option-list-embargo\">\n        <List.Icon aria-hidden=\"false\">\n          <EmbargoCheckboxField\n            fieldPath=\"access.embargo.active\"\n            checked={embargoActive}\n            disabled={!embargoEnabled}\n          />\n        </List.Icon>\n\n        <List.Content>\n          <List.Header as=\"label\" htmlFor=\"access.embargo.active\">\n            {i18next.t(\"Apply an embargo\")} <Icon name=\"clock outline\" />\n          </List.Header>\n\n          <List.Description>\n            <Trans>\n              Record or files protection must be <b>restricted</b> to apply an embargo.\n            </Trans>\n          </List.Description>\n\n          {embargoActive && (\n            <>\n              <Divider hidden className=\"rel-mb-1\" />\n              <EmbargoDateField fieldPath=\"access.embargo.until\" required />\n              <TextAreaField\n                label={i18next.t(\"Embargo reason\")}\n                fieldPath=\"access.embargo.reason\"\n                placeholder={i18next.t(\n                  \"Optionally, describe the reason for the embargo.\"\n                )}\n                optimized=\"true\"\n              />\n            </>\n          )}\n          {embargoWasLifted && (\n            <>\n              <Divider hidden />\n              <p>\n                {i18next.t(`Embargo was lifted on {{fmtDate}}.`, {\n                  fmtDate: fmtDate,\n                })}\n              </p>\n              {embargoReason && (\n                <p>\n                  <b>{i18next.t(\"Reason\")}</b>: {embargoReason}.\n                </p>\n              )}\n            </>\n          )}\n        </List.Content>\n      </List.Item>\n    </List>\n  );\n};\n\nEmbargoAccess.propTypes = {\n  access: PropTypes.object.isRequired,\n  metadataOnly: PropTypes.bool,\n  accessCommunity: PropTypes.string.isRequired,\n};\n\nEmbargoAccess.defaultProps = {\n  metadataOnly: false,\n};\n","import { DateTime } from \"luxon\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { i18next, Trans } from \"@translations/i18next\";\nimport { Icon, Message } from \"semantic-ui-react\";\n\nexport const AccessMessage = ({ access, metadataOnly, accessCommunity }) => {\n  const recordPublic = access.record === \"public\";\n  const filesPublic = access.files === \"public\";\n  const communityPublic = accessCommunity === \"public\";\n  const embargoActive = access.embargo?.active || false;\n\n  // restriction logic\n  const fullyRestricted = !communityPublic || (!recordPublic && !embargoActive);\n  const fullyPublic = communityPublic && recordPublic && (metadataOnly || filesPublic);\n\n  const embargoedFiles = embargoActive && !filesPublic && recordPublic;\n  const restrictedFiles = !embargoActive && !filesPublic && recordPublic;\n  const fullEmbargo = !recordPublic && embargoActive;\n\n  const fmtDate = access.embargo?.until\n    ? DateTime.fromISO(access.embargo.until).toLocaleString(DateTime.DATE_FULL)\n    : \"???\";\n\n  if (fullyPublic) {\n    return (\n      <Message icon positive visible data-testid=\"access-message\">\n        <Icon name=\"lock open\" />\n        <Message.Content>\n          <Message.Header>{i18next.t(\"Public\")}</Message.Header>\n          {metadataOnly\n            ? i18next.t(\"The record is publicly accessible.\")\n            : i18next.t(\"The record and files are publicly accessible.\")}\n        </Message.Content>\n      </Message>\n    );\n  }\n\n  if (fullEmbargo) {\n    return (\n      <Message icon warning visible data-testid=\"access-message\">\n        <Icon name=\"lock\" />\n        <Message.Content>\n          <Message.Header>{i18next.t(\"Embargoed (full record)\")}</Message.Header>\n          <Trans\n            defaults=\"On <bold>{{ date }}</bold> the record will automatically be made publicly accessible. Until then, the record can <bold>only</bold> be accessed by <bold>users specified</bold> in the permissions.\"\n            values={{ date: fmtDate }}\n            components={{ bold: <b /> }}\n          />\n        </Message.Content>\n      </Message>\n    );\n  }\n\n  if (fullyRestricted) {\n    return (\n      <Message icon negative visible data-testid=\"access-message\">\n        <Icon name=\"lock\" />\n        <Message.Content>\n          <Message.Header>{i18next.t(\"Restricted\")}</Message.Header>\n          <Trans>\n            The record can <b>only</b> be accessed by <b>users specified</b> in the\n            permissions.\n          </Trans>\n        </Message.Content>\n      </Message>\n    );\n  }\n\n  if (restrictedFiles) {\n    return (\n      <Message icon warning visible data-testid=\"access-message\">\n        <Icon name=\"lock\" />\n        <Message.Content>\n          <Message.Header>{i18next.t(\"Public with restricted files\")}</Message.Header>\n          <Trans>\n            The record is publicly accessible. The files can <b>only</b> be accessed by{\" \"}\n            <b>users specified</b> in the permissions.\n          </Trans>\n        </Message.Content>\n      </Message>\n    );\n  }\n\n  if (embargoedFiles) {\n    return (\n      <Message icon warning visible data-testid=\"access-message\">\n        <Icon name=\"lock\" />\n        <Message.Content>\n          <Message.Header>{i18next.t(\"Embargoed (files-only)\")}</Message.Header>\n          <Trans\n            defaults=\"The record is publicly accessible. On <bold>{{ date }}</bold> the files will automatically be made publicly accessible. Until then, the files can <bold>only</bold> be accessed by <bold>users specified</bold> in the permissions.\"\n            values={{ date: fmtDate }}\n            components={{ bold: <b /> }}\n          />\n        </Message.Content>\n      </Message>\n    );\n  }\n};\n\nAccessMessage.propTypes = {\n  access: PropTypes.object.isRequired,\n  metadataOnly: PropTypes.bool,\n  accessCommunity: PropTypes.string.isRequired,\n};\n\nAccessMessage.defaultProps = {\n  metadataOnly: false,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2021 CERN.\n// Copyright (C) 2020-2021 Northwestern University.\n// Copyright (C)      2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { Field } from \"formik\";\nimport { FieldLabel } from \"react-invenio-forms\";\nimport { Card, Divider, Form, Header } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/i18next\";\nimport { MetadataAccess, FilesAccess, EmbargoAccess, AccessMessage } from \"./Access\";\n\nexport class AccessRightFieldCmp extends Component {\n  /** Top-level Access Right Component */\n\n  render() {\n    const {\n      fieldPath,\n      formik, // this is our access to the shared current draft\n      label,\n      labelIcon,\n      community,\n    } = this.props;\n\n    const communityAccess = community?.access.visibility || \"public\";\n    const isMetadataOnly = !formik.form.values.files.enabled;\n\n    return (\n      <Card className=\"access-right\">\n        <Form.Field required>\n          <Card.Content>\n            <Card.Header>\n              <FieldLabel htmlFor={fieldPath} icon={labelIcon} label={label} />\n            </Card.Header>\n          </Card.Content>\n          <Card.Content>\n            <MetadataAccess\n              recordAccess={formik.field.value.record}\n              communityAccess={communityAccess}\n            />\n\n            <Divider hidden />\n\n            <FilesAccess\n              access={formik.field.value}\n              accessCommunity={communityAccess}\n              metadataOnly={isMetadataOnly}\n            />\n\n            <Divider hidden />\n\n            <AccessMessage\n              access={formik.field.value}\n              accessCommunity={communityAccess}\n              metadataOnly={isMetadataOnly}\n            />\n\n            <Divider hidden />\n          </Card.Content>\n          <Card.Content>\n            <Card.Header as={Header} size=\"tiny\">\n              {i18next.t(\"Options\")}\n            </Card.Header>\n          </Card.Content>\n          <Card.Content extra>\n            <EmbargoAccess\n              access={formik.field.value}\n              accessCommunity={communityAccess}\n              metadataOnly={isMetadataOnly}\n            />\n          </Card.Content>\n        </Form.Field>\n      </Card>\n    );\n  }\n}\n\nAccessRightFieldCmp.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  formik: PropTypes.object.isRequired,\n  label: PropTypes.string.isRequired,\n  labelIcon: PropTypes.string.isRequired,\n  community: PropTypes.object,\n};\n\nAccessRightFieldCmp.defaultProps = {\n  community: undefined,\n};\n\nconst mapStateToPropsAccessRightFieldCmp = (state) => ({\n  community: state.deposit.editorState.selectedCommunity,\n});\n\nexport const AccessRightFieldComponent = connect(\n  mapStateToPropsAccessRightFieldCmp,\n  null\n)(AccessRightFieldCmp);\n\nexport class AccessRightField extends Component {\n  render() {\n    const { fieldPath } = this.props;\n\n    return (\n      <Field name={fieldPath}>\n        {(formik) => <AccessRightFieldComponent formik={formik} {...this.props} />}\n      </Field>\n    );\n  }\n}\n\nAccessRightField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  labelIcon: PropTypes.string,\n  isMetadataOnly: PropTypes.bool,\n};\n\nAccessRightField.defaultProps = {\n  labelIcon: undefined,\n  isMetadataOnly: undefined,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\n// TODO: Move to rely on DepositRecordSerializer with the deserializedDefault\n//       values to generate the empty values. Then delete this file.\n\nexport const emptyIdentifier = {\n  scheme: \"\",\n  identifier: \"\",\n};\n\nexport const emptyAffiliation = {\n  name: \"\",\n  identifiers: [emptyIdentifier],\n};\n\nexport const emptyAdditionalTitle = {\n  lang: \"\",\n  title: \"\",\n  type: \"alternative-title\",\n};\n\nexport const emptyAdditionalDescription = {\n  lang: \"\",\n  description: \"\",\n  type: \"\",\n};\n\nexport const emptyRelatedWork = {\n  scheme: \"\",\n  identifier: \"\",\n  resource_type: \"\",\n  relation_type: \"\",\n};\n\nexport const emptyDate = {\n  date: \"\",\n  description: \"\",\n  type: \"\",\n};\n\nexport const emptyFunding = {\n  funder: {\n    name: \"\",\n  },\n  award: {\n    title: \"\",\n    number: \"\",\n  },\n};\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { FieldLabel, RemoteSelectField } from \"react-invenio-forms\";\nimport { i18next } from \"@translations/i18next\";\n\nexport class LanguagesField extends Component {\n  render() {\n    const {\n      fieldPath,\n      label,\n      labelIcon,\n      required,\n      multiple,\n      placeholder,\n      clearable,\n      initialOptions,\n      serializeSuggestions: serializeSuggestionsFunc,\n      ...uiProps\n    } = this.props;\n    const serializeSuggestions = serializeSuggestionsFunc || null;\n\n    return (\n      <RemoteSelectField\n        fieldPath={fieldPath}\n        suggestionAPIUrl=\"/api/vocabularies/languages\"\n        suggestionAPIHeaders={{\n          Accept: \"application/vnd.inveniordm.v1+json\",\n        }}\n        placeholder={placeholder}\n        required={required}\n        clearable={clearable}\n        multiple={multiple}\n        initialSuggestions={initialOptions}\n        label={<FieldLabel htmlFor={fieldPath} icon={labelIcon} label={label} />}\n        noQueryMessage={i18next.t(\"Search for languages...\")}\n        {...(serializeSuggestions && { serializeSuggestions })}\n        {...uiProps}\n      />\n    );\n  }\n}\n\nLanguagesField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  labelIcon: PropTypes.string,\n  required: PropTypes.bool,\n  multiple: PropTypes.bool,\n  clearable: PropTypes.bool,\n  placeholder: PropTypes.string,\n  initialOptions: PropTypes.arrayOf(\n    PropTypes.shape({\n      key: PropTypes.string,\n      value: PropTypes.string,\n      text: PropTypes.string,\n    })\n  ),\n  serializeSuggestions: PropTypes.func,\n};\n\nLanguagesField.defaultProps = {\n  label: i18next.t(\"Languages\"),\n  labelIcon: \"globe\",\n  multiple: true,\n  clearable: true,\n  placeholder: i18next.t('Search for a language by name (e.g \"eng\", \"fr\" or \"Polish\")'),\n  required: false,\n  initialOptions: undefined,\n  serializeSuggestions: undefined,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2021 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Form, Icon } from \"semantic-ui-react\";\n\nimport { ArrayField, GroupField, SelectField, TextField } from \"react-invenio-forms\";\nimport { emptyAdditionalTitle } from \"../record\";\nimport { LanguagesField } from \"./LanguagesField\";\nimport { i18next } from \"@translations/i18next\";\n\nexport class AdditionalTitlesField extends Component {\n  render() {\n    const { fieldPath, options, recordUI } = this.props;\n    return (\n      <ArrayField\n        addButtonLabel={i18next.t(\"Add titles\")}\n        defaultNewValue={emptyAdditionalTitle}\n        fieldPath={fieldPath}\n        className=\"additional-titles\"\n      >\n        {({ arrayHelpers, indexPath }) => {\n          const fieldPathPrefix = `${fieldPath}.${indexPath}`;\n\n          return (\n            <GroupField fieldPath={fieldPath} optimized>\n              <TextField\n                fieldPath={`${fieldPathPrefix}.title`}\n                label=\"Additional title\"\n                required\n                width={5}\n              />\n              <SelectField\n                fieldPath={`${fieldPathPrefix}.type`}\n                label=\"Type\"\n                optimized\n                options={options.type}\n                required\n                width={5}\n              />\n              <LanguagesField\n                serializeSuggestions={(suggestions) =>\n                  suggestions.map((item) => ({\n                    text: item.title_l10n,\n                    value: item.id,\n                    fieldPathPrefix: item.id,\n                  }))\n                }\n                initialOptions={\n                  recordUI?.additional_titles &&\n                  recordUI.additional_titles[indexPath]?.lang\n                    ? [recordUI.additional_titles[indexPath].lang]\n                    : []\n                }\n                fieldPath={`${fieldPathPrefix}.lang`}\n                label=\"Language\"\n                multiple={false}\n                placeholder=\"Select language\"\n                labelIcon={null}\n                clearable\n                selectOnBlur={false}\n                width={5}\n              />\n              <Form.Field>\n                <Button\n                  aria-label={i18next.t(\"Remove field\")}\n                  className=\"close-btn\"\n                  icon\n                  onClick={() => arrayHelpers.remove(indexPath)}\n                >\n                  <Icon name=\"close\" />\n                </Button>\n              </Form.Field>\n            </GroupField>\n          );\n        }}\n      </ArrayField>\n    );\n  }\n}\n\nAdditionalTitlesField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  options: PropTypes.shape({\n    type: PropTypes.arrayOf(\n      PropTypes.shape({\n        icon: PropTypes.string,\n        text: PropTypes.string,\n        value: PropTypes.string,\n      })\n    ),\n    lang: PropTypes.arrayOf(\n      PropTypes.shape({\n        text: PropTypes.string,\n        value: PropTypes.string,\n      })\n    ),\n  }),\n  recordUI: PropTypes.object,\n};\n\nAdditionalTitlesField.defaultProps = {\n  options: undefined,\n  recordUI: undefined,\n};\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2021 CERN.\n// Copyright (C) 2020 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { FieldLabel, RemoteSelectField } from \"react-invenio-forms\";\nimport { Field, getIn } from \"formik\";\nimport { i18next } from \"@translations/i18next\";\n\n/**Affiliation input component */\nexport class AffiliationsField extends Component {\n  serializeAffiliations = (affiliations) =>\n    affiliations.map((affiliation) => ({\n      text: affiliation.acronym\n        ? `${affiliation.name} (${affiliation.acronym})`\n        : affiliation.name,\n      value: affiliation.name,\n      key: affiliation.name,\n      ...(affiliation.id ? { id: affiliation.id } : {}),\n      name: affiliation.name,\n    }));\n\n  render() {\n    const { fieldPath, selectRef } = this.props;\n    return (\n      <Field name={fieldPath}>\n        {({ form: { values } }) => {\n          return (\n            <RemoteSelectField\n              fieldPath={fieldPath}\n              suggestionAPIUrl=\"/api/affiliations\"\n              suggestionAPIHeaders={{\n                Accept: \"application/json\",\n              }}\n              initialSuggestions={getIn(values, fieldPath, [])}\n              serializeSuggestions={this.serializeAffiliations}\n              placeholder={i18next.t(\"Search or create affiliation'\")}\n              label={\n                <FieldLabel\n                  htmlFor={`${fieldPath}.name`}\n                  label={i18next.t(\"Affiliations\")}\n                />\n              }\n              noQueryMessage={i18next.t(\"Search for affiliations..\")}\n              allowAdditions\n              clearable\n              multiple\n              onValueChange={({ formikProps }, selectedSuggestions) => {\n                formikProps.form.setFieldValue(\n                  fieldPath,\n                  // save the suggestion objects so we can extract information\n                  // about which value added by the user\n                  selectedSuggestions\n                );\n              }}\n              value={getIn(values, fieldPath, []).map((val) => val.name)}\n              ref={selectRef}\n            />\n          );\n        }}\n      </Field>\n    );\n  }\n}\n\nAffiliationsField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  selectRef: PropTypes.object,\n};\n\nAffiliationsField.defaultProps = {\n  selectRef: undefined,\n};\n","// This file is part of React-Invenio-Forms\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { FieldLabel } from \"react-invenio-forms\";\nimport { Form, Segment } from \"semantic-ui-react\";\n\nexport class ComingSoonField extends Component {\n  render() {\n    const { fieldPath, label, labelIcon } = this.props;\n    return (\n      <Form.Field id={fieldPath} name={fieldPath}>\n        <FieldLabel htmlFor={fieldPath} icon={labelIcon} label={label} />\n        <Segment size=\"massive\" tertiary textAlign=\"center\">\n          Coming soon\n        </Segment>\n      </Form.Field>\n    );\n  }\n}\n\nComingSoonField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  labelIcon: PropTypes.string,\n};\n\nComingSoonField.defaultProps = {\n  label: undefined,\n  labelIcon: undefined,\n};\n","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nexport const DRAFT_FETCHED = \"DRAFT_FETCHED\";\nexport const DRAFT_HAS_VALIDATION_ERRORS = \"DRAFT_HAS_VALIDATION_ERRORS\";\n\n// Draft save\nexport const DRAFT_SAVE_STARTED = \"DRAFT_SAVE_STARTED\";\nexport const DRAFT_SAVE_SUCCEEDED = \"DRAFT_SAVE_SUCCEEDED\";\nexport const DRAFT_SAVE_FAILED = \"DRAFT_SAVE_FAILED\";\n\n// Draft publish\nexport const DRAFT_PUBLISH_STARTED = \"DRAFT_PUBLISH_STARTED\";\nexport const DRAFT_PUBLISH_FAILED = \"DRAFT_PUBLISH_FAILED\";\nexport const DRAFT_PUBLISH_FAILED_WITH_VALIDATION_ERRORS =\n  \"DRAFT_PUBLISH_FAILED_WITH_VALIDATION_ERRORS\";\n\n// Draft preview\nexport const DRAFT_PREVIEW_STARTED = \"DRAFT_PREVIEW_STARTED\";\nexport const DRAFT_PREVIEW_FAILED = \"DRAFT_PREVIEW_FAILED\";\n\n// Draft delete\nexport const DRAFT_DELETE_STARTED = \"DRAFT_DELETE_STARTED\";\nexport const DRAFT_DELETE_FAILED = \"DRAFT_DELETE_FAILED\";\n\n// Draft submit review\nexport const DRAFT_SUBMIT_REVIEW_STARTED = \"DRAFT_SUBMIT_REVIEW_STARTED\";\nexport const DRAFT_SUBMIT_REVIEW_FAILED = \"DRAFT_SUBMIT_REVIEW_FAILED\";\nexport const DRAFT_SUBMIT_REVIEW_FAILED_WITH_VALIDATION_ERRORS =\n  \"DRAFT_SUBMIT_REVIEW_FAILED_WITH_VALIDATION_ERRORS\";\n\n// Draft reserve PID\nexport const RESERVE_PID_STARTED = \"RESERVE_PID_STARTED\";\nexport const RESERVE_PID_SUCCEEDED = \"RESERVE_PID_SUCCEEDED\";\nexport const RESERVE_PID_FAILED = \"RESERVE_PID_FAILED\";\n\n// Draft discard PID\nexport const DISCARD_PID_STARTED = \"DISCARD_PID_STARTED\";\nexport const DISCARD_PID_SUCCEEDED = \"DISCARD_PID_SUCCEEDED\";\nexport const DISCARD_PID_FAILED = \"DISCARD_PID_FAILED\";\n\n// Files\nexport const FILE_UPLOAD_ADDED = \"FILE_UPLOAD_ADDED\";\nexport const FILE_UPLOAD_IN_PROGRESS = \"FILE_UPLOAD_IN_PROGRESS\";\nexport const FILE_UPLOAD_FINISHED = \"FILE_UPLOAD_FINISHED\";\nexport const FILE_UPLOAD_FAILED = \"FILE_UPLOAD_FAILED\";\nexport const FILE_UPLOAD_SAVE_DRAFT_FAILED = \"FILE_UPLOAD_SAVE_DRAFT_FAILED\";\n\nexport const FILE_IMPORT_STARTED = \"FILE_IMPORT_STARTED\";\nexport const FILE_IMPORT_SUCCESS = \"FILE_IMPORT_SUCCESS\";\nexport const FILE_IMPORT_FAILED = \"FILE_IMPORT_FAILED\";\n\nexport const FILE_DELETED_SUCCESS = \"FILE_DELETED_SUCCESS\";\nexport const FILE_DELETE_FAILED = \"FILE_DELETE_FAILED\";\n\nexport const FILE_UPLOAD_SET_CANCEL_FUNCTION = \"FILE_UPLOAD_SET_CANCEL_FUNCTION\";\nexport const FILE_UPLOAD_CANCELLED = \"FILE_UPLOAD_CANCELLED\";\n\n// Community\nexport const SET_COMMUNITY = \"SET_COMMUNITY\";\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport _isEmpty from \"lodash/isEmpty\";\nimport {\n  DISCARD_PID_FAILED,\n  DISCARD_PID_STARTED,\n  DISCARD_PID_SUCCEEDED,\n  DRAFT_DELETE_FAILED,\n  DRAFT_DELETE_STARTED,\n  DRAFT_FETCHED,\n  DRAFT_HAS_VALIDATION_ERRORS,\n  DRAFT_PREVIEW_FAILED,\n  DRAFT_PREVIEW_STARTED,\n  DRAFT_PUBLISH_FAILED,\n  DRAFT_PUBLISH_FAILED_WITH_VALIDATION_ERRORS,\n  DRAFT_PUBLISH_STARTED,\n  DRAFT_SAVE_FAILED,\n  DRAFT_SAVE_STARTED,\n  DRAFT_SAVE_SUCCEEDED,\n  DRAFT_SUBMIT_REVIEW_FAILED,\n  DRAFT_SUBMIT_REVIEW_FAILED_WITH_VALIDATION_ERRORS,\n  DRAFT_SUBMIT_REVIEW_STARTED,\n  RESERVE_PID_FAILED,\n  RESERVE_PID_STARTED,\n  RESERVE_PID_SUCCEEDED,\n  SET_COMMUNITY,\n} from \"../types\";\n\nasync function changeURLAfterCreation(draftURL) {\n  window.history.replaceState(undefined, \"\", draftURL);\n}\n\nexport const saveDraftWithUrlUpdate = async (draft, draftsService) => {\n  const hasAlreadyId = !!draft.id;\n  const response = await draftsService.save(draft);\n  if (!hasAlreadyId) {\n    // draft was created, change URL to add the draft PID\n    const draftURL = response.data.links.self_html;\n    changeURLAfterCreation(draftURL);\n  }\n  return response;\n};\n\nasync function _saveDraft(\n  draft,\n  draftsService,\n  { depositState, dispatchFn, failType, partialValidationActionType }\n) {\n  let response;\n\n  try {\n    response = await saveDraftWithUrlUpdate(draft, draftsService, failType);\n  } catch (error) {\n    dispatchFn({\n      type: failType,\n      payload: { errors: error.errors },\n    });\n    throw error;\n  }\n\n  const draftHasValidationErrors = !_isEmpty(response.errors);\n  const draftValidationErrorResponse = draftHasValidationErrors ? response : {};\n\n  const {\n    actions: { communityStateMustBeChecked, shouldDeleteReview, shouldUpdateReview },\n    selectedCommunity,\n  } = depositState.editorState;\n\n  if (communityStateMustBeChecked) {\n    const draftWithLinks = response.data;\n\n    if (shouldDeleteReview) {\n      // TODO handle global error here\n      await draftsService.deleteReview(draftWithLinks.links);\n    }\n    if (shouldUpdateReview) {\n      // TODO handle global error here\n      await draftsService.createOrUpdateReview(\n        draftWithLinks.links,\n        selectedCommunity.id\n      );\n    }\n\n    // fetch the draft after having changed the review request\n    // to have the `review` field updated\n    response = await draftsService.read(draftWithLinks.links);\n    dispatchFn({\n      type: DRAFT_FETCHED,\n      payload: { data: response.data },\n    });\n\n    // previously saved data should be overriden by the latest read draft\n    // Otherwise when the draft is partially saved, the community state will\n    // not be taken into account\n    draftValidationErrorResponse.data = {\n      ...draftValidationErrorResponse.data,\n      ...response.data,\n    };\n  }\n  // Throw validation errors from the partially saved draft\n  if (draftHasValidationErrors) {\n    dispatchFn({\n      type: partialValidationActionType,\n      payload: {\n        data: draftValidationErrorResponse.data,\n        errors: draftValidationErrorResponse.errors,\n      },\n    });\n    throw draftValidationErrorResponse;\n  }\n\n  return response;\n}\n\nexport const save = (draft) => {\n  return async (dispatch, getState, config) => {\n    dispatch({\n      type: DRAFT_SAVE_STARTED,\n    });\n    let response;\n\n    response = await _saveDraft(draft, config.service.drafts, {\n      depositState: getState().deposit,\n      dispatchFn: dispatch,\n      failType: DRAFT_SAVE_FAILED,\n      partialValidationActionType: DRAFT_HAS_VALIDATION_ERRORS,\n    });\n\n    dispatch({\n      type: DRAFT_SAVE_SUCCEEDED,\n      payload: { data: response.data },\n    });\n  };\n};\n\nexport const publish = (draft, { withoutCommunity = false }) => {\n  return async (dispatch, getState, config) => {\n    dispatch({\n      type: DRAFT_PUBLISH_STARTED,\n    });\n\n    if (withoutCommunity) {\n      // we set the community to null so we delete the associated review when\n      // saving the draft\n      await dispatch(changeSelectedCommunity(null));\n    }\n\n    const response = await _saveDraft(draft, config.service.drafts, {\n      depositState: getState().deposit,\n      dispatchFn: dispatch,\n      failType: DRAFT_PUBLISH_FAILED,\n      partialValidationActionType: DRAFT_PUBLISH_FAILED_WITH_VALIDATION_ERRORS,\n    });\n\n    const draftWithLinks = response.data;\n    try {\n      const response = await config.service.drafts.publish(draftWithLinks.links);\n      // after publishing, redirect to the published record\n      const recordURL = response.data.links.self_html;\n      window.location.replace(recordURL);\n    } catch (error) {\n      dispatch({\n        type: DRAFT_PUBLISH_FAILED,\n        payload: { errors: error.errors },\n      });\n      throw error;\n    }\n  };\n};\n\nexport const submitReview = (draft, { reviewComment }) => {\n  return async (dispatch, getState, config) => {\n    dispatch({\n      type: DRAFT_SUBMIT_REVIEW_STARTED,\n      payload: {\n        reviewComment,\n      },\n    });\n\n    const response = await _saveDraft(draft, config.service.drafts, {\n      depositState: getState().deposit,\n      dispatchFn: dispatch,\n      failType: DRAFT_SUBMIT_REVIEW_FAILED,\n      partialValidationActionType: DRAFT_SUBMIT_REVIEW_FAILED_WITH_VALIDATION_ERRORS,\n    });\n\n    const draftWithLinks = response.data;\n    try {\n      const reqResponse = await config.service.drafts.submitReview(\n        draftWithLinks.links,\n        reviewComment\n      );\n      const request = reqResponse.data;\n      // after submitting for review, redirect to the review record\n      const rawRequestURL = config.config.links.user_dashboard_request;\n      const requestURL = rawRequestURL.replace(\"<request_pid_value>\", request.id);\n      window.location.replace(requestURL);\n    } catch (error) {\n      dispatch({\n        type: DRAFT_SUBMIT_REVIEW_FAILED,\n        payload: { errors: error.errors },\n      });\n      throw error;\n    }\n  };\n};\n\nexport const preview = (draft) => {\n  return async (dispatch, getState, config) => {\n    dispatch({\n      type: DRAFT_PREVIEW_STARTED,\n    });\n\n    const response = await _saveDraft(draft, config.service.drafts, {\n      depositState: getState().deposit,\n      dispatchFn: dispatch,\n      failType: DRAFT_PREVIEW_FAILED,\n      partialValidationActionType: DRAFT_HAS_VALIDATION_ERRORS,\n    });\n    const recordUrl = response.data.links.record_html;\n    // redirect to the preview page\n    window.location = `${recordUrl}?preview=1`;\n  };\n};\n\n/**\n * Returns the function that controls draft deletion.\n *\n * This function is different from the save/publish above because this thunk\n * is independent of form submission.\n */\nexport const delete_ = () => {\n  return async (dispatch, getState, config) => {\n    dispatch({\n      type: DRAFT_DELETE_STARTED,\n    });\n\n    try {\n      const draft = getState().deposit.record;\n      await config.service.drafts.delete(draft.links);\n\n      // redirect to the the uploads page after deleting/discarding a draft\n      const redirectURL = \"/me/uploads\";\n      window.location.replace(redirectURL);\n    } catch (error) {\n      dispatch({\n        type: DRAFT_DELETE_FAILED,\n        payload: { errors: error.errors },\n      });\n      throw error;\n    }\n  };\n};\n\n/**\n * Reserve the PID after having saved the current draft\n */\nexport const reservePID = (draft, { pidType }) => {\n  return async (dispatch, getState, config) => {\n    dispatch({\n      type: RESERVE_PID_STARTED,\n      payload: { pidType: pidType },\n    });\n\n    try {\n      let response = await saveDraftWithUrlUpdate(draft, config.service.drafts);\n\n      const draftWithLinks = response.data;\n      response = await config.service.drafts.reservePID(draftWithLinks.links, pidType);\n\n      dispatch({\n        type: RESERVE_PID_SUCCEEDED,\n        payload: { data: response.data },\n      });\n    } catch (error) {\n      dispatch({\n        type: RESERVE_PID_FAILED,\n        payload: { errors: error.errors },\n      });\n      throw error;\n    }\n  };\n};\n\n/**\n * Discard a previously reserved PID\n */\nexport const discardPID = (draft, { pidType }) => {\n  return async (dispatch, getState, config) => {\n    dispatch({\n      type: DISCARD_PID_STARTED,\n      payload: { pidType: pidType },\n    });\n\n    try {\n      let response = await saveDraftWithUrlUpdate(draft, config.service.drafts);\n\n      const draftWithLinks = response.data;\n      response = await config.service.drafts.discardPID(draftWithLinks.links, pidType);\n\n      dispatch({\n        type: DISCARD_PID_SUCCEEDED,\n        payload: { data: response.data },\n      });\n    } catch (error) {\n      dispatch({\n        type: DISCARD_PID_FAILED,\n        payload: { errors: error.errors },\n      });\n      throw error;\n    }\n  };\n};\n\nexport const changeSelectedCommunity = (community) => {\n  return async (dispatch) => {\n    dispatch({\n      type: SET_COMMUNITY,\n      payload: { community },\n    });\n  };\n};\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport {\n  DRAFT_FETCHED,\n  FILE_DELETED_SUCCESS,\n  FILE_DELETE_FAILED,\n  FILE_IMPORT_FAILED,\n  FILE_IMPORT_STARTED,\n  FILE_IMPORT_SUCCESS,\n  FILE_UPLOAD_SAVE_DRAFT_FAILED,\n} from \"../types\";\nimport { saveDraftWithUrlUpdate } from \"./deposit\";\n\nexport const uploadFiles = (draft, files) => {\n  return async (dispatch, _, config) => {\n    let response;\n    try {\n      response = await saveDraftWithUrlUpdate(draft, config.service.drafts);\n      // update state with created draft\n      dispatch({\n        type: DRAFT_FETCHED,\n        payload: { data: response.data },\n      });\n\n      // upload files\n      const uploadFileUrl = response.data.links.files;\n      for (const file of files) {\n        config.service.files.upload(uploadFileUrl, file);\n      }\n    } catch (error) {\n      dispatch({\n        type: FILE_UPLOAD_SAVE_DRAFT_FAILED,\n        payload: { errors: error.errors },\n      });\n      throw error;\n    }\n  };\n};\n\nexport const deleteFile = (file) => {\n  return async (dispatch, _, config) => {\n    try {\n      const fileLinks = file.links;\n      await config.service.files.delete(fileLinks);\n\n      dispatch({\n        type: FILE_DELETED_SUCCESS,\n        payload: {\n          filename: file.name,\n        },\n      });\n    } catch (error) {\n      dispatch({ type: FILE_DELETE_FAILED });\n      throw error;\n    }\n  };\n};\n\nexport const importParentFiles = () => {\n  return async (dispatch, getState, config) => {\n    const draft = getState().deposit.record;\n    if (!draft.id) return;\n\n    dispatch({ type: FILE_IMPORT_STARTED });\n\n    try {\n      const draftLinks = draft.links;\n      const files = await config.service.files.importParentRecordFiles(draftLinks);\n      dispatch({\n        type: FILE_IMPORT_SUCCESS,\n        payload: { files: files },\n      });\n    } catch (error) {\n      dispatch({ type: FILE_IMPORT_FAILED });\n      throw error;\n    }\n  };\n};\n","import React from \"react\";\n\nexport const CommunityContext = React.createContext({});\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2022 CERN.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport _truncate from \"lodash/truncate\";\nimport _capitalize from \"lodash/capitalize\";\nimport PropTypes from \"prop-types\";\nimport React, { useContext } from \"react\";\nimport { Image } from \"react-invenio-forms\";\nimport { Button, Icon, Item, Label } from \"semantic-ui-react\";\nimport { CommunityContext } from \"./CommunityContext\";\n\nexport const CommunityListItem = ({ result }) => {\n  const { setLocalCommunity, getChosenCommunity } = useContext(CommunityContext);\n\n  const { metadata, ui } = result;\n  const linkToCommunityPage = result.links.self_html;\n  const linkToLogo = result.links.logo;\n  const itemSelected = getChosenCommunity()?.id === result.id;\n  const typeL10n = ui.type?.title_l10n;\n  const isRestricted = result.access.visibility === \"restricted\";\n\n  return (\n    <Item key={result.id} className={itemSelected ? \"selected\" : \"\"}>\n      <Image\n        size=\"tiny\"\n        className=\"community-logo\"\n        src={linkToLogo}\n        fallbackSrc=\"/static/images/square-placeholder.png\"\n        as={Item.Image}\n      />\n\n      <Item.Content>\n        <Item.Header>\n          {metadata.title}\n          {isRestricted && (\n            <Label size=\"tiny\" color=\"red\" className=\"rel-ml-1\">\n              <Icon name=\"ban\" />\n              {_capitalize(result.access.visibility)}\n            </Label>\n          )}\n          <Button\n            as=\"a\"\n            href={linkToCommunityPage}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            size=\"small\"\n            className=\"transparent pt-0 ml-15 mb-5\"\n            content={i18next.t(\"View community\")}\n            icon=\"external alternate\"\n            title={i18next.t(\"Opens in new tab\")}\n          />\n        </Item.Header>\n        <Item.Description as=\"p\" className=\"rel-pr-1\">\n          {_truncate(metadata.description, { length: 150 })}\n        </Item.Description>\n        {typeL10n && <Item.Extra>{typeL10n}</Item.Extra>}\n      </Item.Content>\n      <Item.Extra className=\"flex width auto mt-0\">\n        <div className=\"align-self-center\">\n          <Button\n            content={itemSelected ? i18next.t(\"Selected\") : i18next.t(\"Select\")}\n            size=\"small\"\n            positive={itemSelected}\n            onClick={() => setLocalCommunity(result)}\n            aria-label={i18next.t(\"Select \") + metadata.title}\n          />\n        </div>\n      </Item.Extra>\n    </Item>\n  );\n};\n\nCommunityListItem.propTypes = {\n  result: PropTypes.object.isRequired,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2022 CERN.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport React, { Component } from \"react\";\nimport { OverridableContext } from \"react-overridable\";\nimport {\n  EmptyResults,\n  Error,\n  InvenioSearchApi,\n  Pagination,\n  ReactSearchKit,\n  ResultsList,\n  ResultsLoader,\n  SearchBar,\n} from \"react-searchkit\";\nimport { Container, Grid, Menu, Modal, Segment } from \"semantic-ui-react\";\nimport { CommunityListItem } from \"./CommunityListItem\";\n\nconst overriddenComponents = {\n  \"communities.ResultsList.item\": CommunityListItem,\n};\n\nexport class CommunitySelectionSearch extends Component {\n  constructor(props) {\n    super(props);\n\n    this.apiEndpoints = {\n      allCommunities: \"/api/communities\",\n      myCommunities: \"/api/user/communities\",\n    };\n\n    const defaultEndpoint = this.apiEndpoints.allCommunities;\n\n    this.state = {\n      selectedEndpoint: defaultEndpoint,\n    };\n  }\n\n  render() {\n    const { selectedEndpoint } = this.state;\n    const { allCommunities, myCommunities } = this.apiEndpoints;\n\n    const searchApi = new InvenioSearchApi({\n      axios: {\n        url: selectedEndpoint,\n        headers: { Accept: \"application/vnd.inveniordm.v1+json\" },\n      },\n    });\n\n    const searchbarPlaceholder =\n      selectedEndpoint === allCommunities\n        ? i18next.t(\"Search in all communities\")\n        : i18next.t(\"Search in my communities\");\n\n    return (\n      <OverridableContext.Provider value={overriddenComponents}>\n        <ReactSearchKit\n          appName=\"communities\"\n          urlHandlerApi={{ enabled: false }}\n          searchApi={searchApi}\n          key={selectedEndpoint}\n          initialQueryState={{ size: 5, page: 1 }}\n        >\n          <Grid>\n            <Grid.Row verticalAlign=\"middle\">\n              <Grid.Column width={8} textAlign=\"left\" floated=\"left\">\n                <Menu compact>\n                  <Menu.Item\n                    name=\"All\"\n                    active={selectedEndpoint === allCommunities}\n                    onClick={() =>\n                      this.setState({\n                        selectedEndpoint: allCommunities,\n                      })\n                    }\n                  >\n                    {i18next.t(\"All\")}\n                  </Menu.Item>\n                  <Menu.Item\n                    name=\"My communities\"\n                    active={selectedEndpoint === myCommunities}\n                    onClick={() =>\n                      this.setState({\n                        selectedEndpoint: myCommunities,\n                      })\n                    }\n                  >\n                    {i18next.t(\"My communities\")}\n                  </Menu.Item>\n                </Menu>\n              </Grid.Column>\n              <Grid.Column width={8} floated=\"right\" verticalAlign=\"middle\">\n                <SearchBar\n                  placeholder={searchbarPlaceholder}\n                  autofocus\n                  actionProps={{\n                    icon: \"search\",\n                    content: null,\n                    className: \"search\",\n                  }}\n                />\n              </Grid.Column>\n            </Grid.Row>\n\n            <Grid.Row verticalAlign=\"middle\">\n              <Grid.Column>\n                <ResultsLoader>\n                  <Segment className=\"community-list-container p-0\">\n                    <Modal.Content scrolling className=\"community-list-results\">\n                      <EmptyResults />\n                      <Error />\n                      <ResultsList />\n                    </Modal.Content>\n                  </Segment>\n                  <Container textAlign=\"center\">\n                    <Pagination />\n                  </Container>\n                </ResultsLoader>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        </ReactSearchKit>\n      </OverridableContext.Provider>\n    );\n  }\n}\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2022 CERN.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { Header, Modal } from \"semantic-ui-react\";\nimport { CommunityContext } from \"./CommunityContext\";\nimport { CommunitySelectionSearch } from \"./CommunitySelectionSearch\";\n\nexport class CommunitySelectionModal extends Component {\n  constructor(props) {\n    super(props);\n    const { chosenCommunity, onCommunityChange } = props;\n\n    this.state = {\n      modalOpen: false,\n      localChosenCommunity: chosenCommunity,\n    };\n\n    const { localChosenCommunity } = this.state;\n\n    this.contextValue = {\n      setLocalCommunity: (community) => {\n        onCommunityChange(community);\n        this.setState({ localChosenCommunity: null, modalOpen: false });\n      },\n      getChosenCommunity: () => localChosenCommunity,\n    };\n  }\n\n  render() {\n    const { modalOpen } = this.state;\n    const { chosenCommunity, trigger } = this.props;\n\n    return (\n      <CommunityContext.Provider value={this.contextValue}>\n        <Modal\n          role=\"dialog\"\n          aria-labelledby=\"community-modal-header\"\n          id=\"community-selection-modal\"\n          className=\"m-0\"\n          closeIcon\n          closeOnDimmerClick={false}\n          open={modalOpen}\n          onClose={() => this.setState({ modalOpen: false })}\n          onOpen={() =>\n            this.setState({\n              modalOpen: true,\n              localChosenCommunity: chosenCommunity,\n            })\n          }\n          trigger={React.cloneElement(trigger, {\n            \"aria-haspopup\": \"dialog\",\n            \"aria-expanded\": modalOpen,\n          })}\n        >\n          <Modal.Header>\n            <Header as=\"h2\" id=\"community-modal-header\">\n              {i18next.t(\"Select a community\")}\n            </Header>\n          </Modal.Header>\n\n          <Modal.Content>\n            <CommunitySelectionSearch />\n          </Modal.Content>\n        </Modal>\n      </CommunityContext.Provider>\n    );\n  }\n}\n\nCommunitySelectionModal.propTypes = {\n  chosenCommunity: PropTypes.object,\n  onCommunityChange: PropTypes.func.isRequired,\n  trigger: PropTypes.object.isRequired,\n};\n\nCommunitySelectionModal.defaultProps = {\n  chosenCommunity: null,\n};\n","// This file is part of InvenioRDM\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n// Copyright (C) 2021-2022 Graz University of Technology.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { Image } from \"react-invenio-forms\";\nimport { connect } from \"react-redux\";\nimport { Button, Container } from \"semantic-ui-react\";\nimport { changeSelectedCommunity } from \"../../state/actions\";\nimport { CommunitySelectionModal } from \"../CommunitySelectionModal\";\n\nclass CommunityHeaderComponent extends Component {\n  render() {\n    const {\n      changeSelectedCommunity,\n      community,\n      imagePlaceholderLink,\n      showCommunitySelectionButton,\n      disableCommunitySelectionButton,\n      showCommunityHeader,\n    } = this.props;\n\n    return (\n      showCommunityHeader && (\n        <Container\n          className=\"page-subheader-outer compact ml-0-mobile mr-0-mobile\"\n          fluid\n        >\n          <Container className=\"page-subheader\">\n            {community ? (\n              <>\n                <div className=\"page-subheader-element\">\n                  <Image\n                    size=\"tiny\"\n                    className=\"community-header-logo\"\n                    src={community.links?.logo || imagePlaceholderLink} // logo is undefined when new draft and no selection\n                    fallbackSrc={imagePlaceholderLink}\n                  />\n                </div>\n                <div className=\"page-subheader-element flex align-items-center\">\n                  {community.metadata.title}\n                </div>\n              </>\n            ) : (\n              <div className=\"page-subheader-element\">\n                {i18next.t(\n                  \"Select the community where you want to submit your record.\"\n                )}\n              </div>\n            )}\n            <div className=\"community-header-element rel-ml-1\">\n              {showCommunitySelectionButton && (\n                <>\n                  <CommunitySelectionModal\n                    onCommunityChange={(community) => {\n                      changeSelectedCommunity(community);\n                    }}\n                    chosenCommunity={community}\n                    trigger={\n                      <Button\n                        className=\"community-header-button\"\n                        disabled={disableCommunitySelectionButton}\n                        primary\n                        size=\"mini\"\n                        name=\"setting\"\n                        type=\"button\"\n                        content={\n                          community\n                            ? i18next.t(\"Change\")\n                            : i18next.t(\"Select a community\")\n                        }\n                      />\n                    }\n                  />\n                  {community && (\n                    <Button\n                      basic\n                      color=\"black\"\n                      size=\"mini\"\n                      className=\"community-header-button ml-5\"\n                      onClick={() => changeSelectedCommunity(null)}\n                      content={i18next.t(\"Remove\")}\n                      icon=\"close\"\n                      disabled={disableCommunitySelectionButton}\n                    />\n                  )}\n                </>\n              )}\n            </div>\n          </Container>\n        </Container>\n      )\n    );\n  }\n}\n\nCommunityHeaderComponent.propTypes = {\n  imagePlaceholderLink: PropTypes.string.isRequired,\n  community: PropTypes.object,\n  disableCommunitySelectionButton: PropTypes.bool.isRequired,\n  showCommunitySelectionButton: PropTypes.bool.isRequired,\n  showCommunityHeader: PropTypes.bool.isRequired,\n  changeSelectedCommunity: PropTypes.func.isRequired,\n};\n\nCommunityHeaderComponent.defaultProps = {\n  community: undefined,\n};\n\nconst mapStateToProps = (state) => ({\n  community: state.deposit.editorState.selectedCommunity,\n  disableCommunitySelectionButton:\n    state.deposit.editorState.ui.disableCommunitySelectionButton,\n  showCommunitySelectionButton:\n    state.deposit.editorState.ui.showCommunitySelectionButton,\n  showCommunityHeader: state.deposit.editorState.ui.showCommunityHeader,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  changeSelectedCommunity: (community) => dispatch(changeSelectedCommunity(community)),\n});\n\nexport const CommunityHeader = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CommunityHeaderComponent);\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { SelectField } from \"react-invenio-forms\";\nimport _unickBy from \"lodash/unionBy\";\nimport { i18next } from \"@translations/i18next\";\n\nexport class CreatibutorsIdentifiers extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOptions: props.initialOptions,\n    };\n  }\n\n  handleIdentifierAddition = (e, { value }) => {\n    this.setState((prevState) => ({\n      selectedOptions: _unickBy(\n        [\n          {\n            text: value,\n            value: value,\n            key: value,\n          },\n          ...prevState.selectedOptions,\n        ],\n        \"value\"\n      ),\n    }));\n  };\n\n  valuesToOptions = (options) =>\n    options.map((option) => ({\n      text: option,\n      value: option,\n      key: option,\n    }));\n\n  handleChange = ({ data, formikProps }) => {\n    const { fieldPath } = this.props;\n    this.setState({\n      selectedOptions: this.valuesToOptions(data.value),\n    });\n    formikProps.form.setFieldValue(fieldPath, data.value);\n  };\n\n  render() {\n    const { fieldPath, label, placeholder } = this.props;\n    const { selectedOptions } = this.state;\n\n    return (\n      <SelectField\n        fieldPath={fieldPath}\n        label={label}\n        options={selectedOptions}\n        placeholder={placeholder}\n        noResultsMessage={i18next.t(\"Type the value of an identifier...\")}\n        search\n        multiple\n        selection\n        allowAdditions\n        onChange={this.handleChange}\n        // `icon` is set to `null` in order to hide the dropdown default icon\n        icon={null}\n        onAddItem={this.handleIdentifierAddition}\n        optimized\n      />\n    );\n  }\n}\n\nCreatibutorsIdentifiers.propTypes = {\n  initialOptions: PropTypes.arrayOf(\n    PropTypes.shape({\n      key: PropTypes.string.isRequired,\n      text: PropTypes.string.isRequired,\n      value: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n  fieldPath: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  placeholder: PropTypes.string,\n};\n\nCreatibutorsIdentifiers.defaultProps = {\n  label: i18next.t(\"Name identifiers\"),\n  placeholder: i18next.t(\"e.g. ORCID, ISNI or GND.\"),\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nexport const CREATIBUTOR_TYPE = {\n  PERSON: \"personal\",\n  ORGANIZATION: \"organizational\",\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n// Copyright (C) 2022 data-futures.org.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component, createRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Form, Grid, Header, Modal } from \"semantic-ui-react\";\nimport { Formik } from \"formik\";\nimport {\n  Image,\n  SelectField,\n  TextField,\n  RadioField,\n  RemoteSelectField,\n} from \"react-invenio-forms\";\nimport * as Yup from \"yup\";\nimport _get from \"lodash/get\";\nimport _find from \"lodash/find\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _map from \"lodash/map\";\nimport { AffiliationsField } from \"./../AffiliationsField\";\nimport { CreatibutorsIdentifiers } from \"./CreatibutorsIdentifiers\";\nimport { CREATIBUTOR_TYPE } from \"./type\";\nimport { i18next, Trans } from \"@translations/i18next\";\n\nconst ModalActions = {\n  ADD: \"add\",\n  EDIT: \"edit\",\n};\n\nconst NamesAutocompleteOptions = {\n  SEARCH: \"search\",\n  SEARCH_ONLY: \"search_only\",\n  OFF: \"off\",\n};\n\nexport class CreatibutorsModal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      saveAndContinueLabel: i18next.t(\"Save and add another\"),\n      action: null,\n      showPersonForm:\n        props.autocompleteNames !== NamesAutocompleteOptions.SEARCH_ONLY ||\n        !_isEmpty(props.initialCreatibutor),\n    };\n    this.inputRef = createRef();\n    this.identifiersRef = createRef();\n    this.affiliationsRef = createRef();\n    this.namesAutocompleteRef = createRef();\n  }\n\n  CreatorSchema = Yup.object({\n    person_or_org: Yup.object({\n      type: Yup.string(),\n      family_name: Yup.string().when(\"type\", (type, schema) => {\n        if (type === CREATIBUTOR_TYPE.PERSON && this.isCreator()) {\n          return schema.required(i18next.t(\"Family name is a required field.\"));\n        }\n      }),\n      name: Yup.string().when(\"type\", (type, schema) => {\n        if (type === CREATIBUTOR_TYPE.ORGANIZATION && this.isCreator()) {\n          return schema.required(i18next.t(\"Name is a required field.\"));\n        }\n      }),\n    }),\n    role: Yup.string().when(\"_\", (_, schema) => {\n      if (!this.isCreator()) {\n        return schema.required(i18next.t(\"Role is a required field.\"));\n      }\n    }),\n  });\n\n  focusInput = () => this.inputRef.current.focus();\n\n  openModal = () => {\n    this.setState({ open: true, action: null }, () => {});\n  };\n\n  closeModal = () => {\n    this.setState({ open: false, action: null });\n  };\n\n  changeContent = () => {\n    this.setState({ saveAndContinueLabel: i18next.t(\"Added\") });\n    // change in 2 sec\n    setTimeout(() => {\n      this.setState({\n        saveAndContinueLabel: i18next.t(\"Save and add another\"),\n      });\n    }, 2000);\n  };\n\n  displayActionLabel = () => {\n    const { action, addLabel, editLabel } = this.props;\n\n    return action === ModalActions.ADD ? addLabel : editLabel;\n  };\n\n  /**\n   * Function to transform formik creatibutor state\n   * back to the external format.\n   */\n  serializeCreatibutor = (submittedCreatibutor) => {\n    const { initialCreatibutor } = this.props;\n    const findField = (arrayField, key, value) => {\n      const knownField = _find(arrayField, {\n        [key]: value,\n      });\n      return knownField ? knownField : { [key]: value };\n    };\n    const identifiersFieldPath = \"person_or_org.identifiers\";\n    const affiliationsFieldPath = \"affiliations\";\n    // The modal is saving only identifiers values, thus\n    // identifiers with existing scheme are trimmed\n    // Here we merge back the known scheme for the submitted identifiers\n    const initialIdentifiers = _get(initialCreatibutor, identifiersFieldPath, []);\n    const submittedIdentifiers = _get(submittedCreatibutor, identifiersFieldPath, []);\n    const identifiers = submittedIdentifiers.map((identifier) => {\n      return findField(initialIdentifiers, \"identifier\", identifier);\n    });\n\n    const submittedAffiliations = _get(submittedCreatibutor, affiliationsFieldPath, []);\n\n    return {\n      ...submittedCreatibutor,\n      person_or_org: {\n        ...submittedCreatibutor.person_or_org,\n        identifiers,\n      },\n      affiliations: submittedAffiliations,\n    };\n  };\n\n  /**\n   * Function to transform creatibutor object\n   * to formik initialValues. The function is converting\n   * the array of objects fields e.g `identifiers`, `affiliations`\n   * to simple arrays. This is needed as SUI dropdowns accept only\n   * array of strings as values.\n   */\n  deserializeCreatibutor = (initialCreatibutor) => {\n    const identifiersFieldPath = \"person_or_org.identifiers\";\n\n    return {\n      // default type to personal\n      person_or_org: {\n        type: CREATIBUTOR_TYPE.PERSON,\n        ...initialCreatibutor.person_or_org,\n        identifiers: _map(\n          _get(initialCreatibutor, identifiersFieldPath, []),\n          \"identifier\"\n        ),\n      },\n      affiliations: _get(initialCreatibutor, \"affiliations\", []),\n      role: _get(initialCreatibutor, \"role\", \"\"),\n    };\n  };\n\n  isCreator = () => {\n    const { schema } = this.props;\n\n    return schema === \"creators\";\n  };\n\n  onSubmit = (values, formikBag) => {\n    const { onCreatibutorChange } = this.props;\n    const { action } = this.state;\n\n    onCreatibutorChange(this.serializeCreatibutor(values));\n    formikBag.setSubmitting(false);\n    formikBag.resetForm();\n    switch (action) {\n      case \"saveAndContinue\":\n        // Needed to close and open the modal to reset the internal\n        // state of the cmp inside the modal\n        this.closeModal();\n        this.openModal();\n        this.changeContent();\n        break;\n      case \"saveAndClose\":\n        this.closeModal();\n        break;\n      default:\n        break;\n    }\n  };\n\n  makeIdEntry = (identifier) => {\n    let icon = null;\n    let link = null;\n\n    if (identifier.scheme === \"orcid\") {\n      icon = \"/static/images/orcid.svg\";\n      link = \"https://orcid.org/\" + identifier.identifier;\n    } else if (identifier.scheme === \"gnd\") {\n      icon = \"/static/images/gnd-icon.svg\";\n      link = \"https://d-nb.info/gnd/\" + identifier.identifier;\n    } else if (identifier.scheme === \"ror\") {\n      icon = \"/static/images/ror-icon.svg\";\n      link = \"https://ror.org/\" + identifier.identifier;\n    } else {\n      return (\n        <>\n          {identifier.scehme}: {identifier.identifier}\n        </>\n      );\n    }\n\n    return (\n      <span key={identifier.identifier}>\n        <a href={link} target=\"_blank\" rel=\"noopener noreferrer\">\n          <Image\n            src={icon}\n            className=\"inline-id-icon ml-5 mr-5\"\n            verticalAlign=\"middle\"\n          />\n          {identifier.identifier}\n        </a>\n        ;\n      </span>\n    );\n  };\n\n  serializeSuggestions = (creatibutors) => {\n    let results = creatibutors.map((creatibutor) => {\n      let affNames = \"\";\n      creatibutor.affiliations.forEach((affiliation, idx) => {\n        affNames += affiliation.name;\n        if (idx < creatibutor.affiliations.length - 1) {\n          affNames += \", \";\n        }\n      });\n\n      let idString = [];\n      creatibutor.identifiers.forEach((i) => {\n        idString.push(this.makeIdEntry(i));\n      });\n\n      return {\n        text: creatibutor.name,\n        value: creatibutor.id,\n        extra: creatibutor,\n        key: creatibutor.id,\n        content: (\n          <Header>\n            <Header.Content>\n              {creatibutor.name} {idString.length ? <>({idString})</> : null}\n            </Header.Content>\n            <Header.Subheader>{affNames}</Header.Subheader>\n          </Header>\n        ),\n      };\n    });\n\n    const { showPersonForm } = this.state;\n    const { autocompleteNames } = this.props;\n\n    const showManualEntry =\n      autocompleteNames === NamesAutocompleteOptions.SEARCH_ONLY && !showPersonForm;\n\n    if (showManualEntry) {\n      results.push({\n        text: \"Manual entry\",\n        value: \"Manual entry\",\n        extra: \"Manual entry\",\n        key: \"manual-entry\",\n        content: (\n          <Header textAlign=\"center\">\n            <Header.Content>\n              <p>\n                <Trans>\n                  {/* eslint-disable-next-line jsx-a11y/anchor-is-valid*/}\n                  Couldn't find your person? You can <a>create a new entry</a>.\n                </Trans>\n              </p>\n            </Header.Content>\n          </Header>\n        ),\n      });\n    }\n    return results;\n  };\n\n  onPersonSearchChange = ({ formikProps }, selectedSuggestions) => {\n    if (selectedSuggestions[0].key === \"manual-entry\") {\n      // Empty the autocomplete's selected values\n      this.namesAutocompleteRef.current.setState({\n        suggestions: [],\n        selectedSuggestions: [],\n      });\n      this.setState({\n        showPersonForm: true,\n      });\n      return;\n    }\n\n    this.setState(\n      {\n        showPersonForm: true,\n      },\n      () => {\n        const identifiers = selectedSuggestions[0].extra.identifiers.map(\n          (identifier) => {\n            return identifier.identifier;\n          }\n        );\n        const affiliations = selectedSuggestions[0].extra.affiliations.map(\n          (affiliation) => {\n            return affiliation;\n          }\n        );\n\n        const personOrOrgPath = `person_or_org`;\n        const familyNameFieldPath = `${personOrOrgPath}.family_name`;\n        const givenNameFieldPath = `${personOrOrgPath}.given_name`;\n        const identifiersFieldPath = `${personOrOrgPath}.identifiers`;\n        const affiliationsFieldPath = \"affiliations\";\n\n        let chosen = {\n          [givenNameFieldPath]: selectedSuggestions[0].extra.given_name,\n          [familyNameFieldPath]: selectedSuggestions[0].extra.family_name,\n          [identifiersFieldPath]: identifiers,\n          [affiliationsFieldPath]: affiliations,\n        };\n        Object.entries(chosen).forEach(([path, value]) => {\n          formikProps.form.setFieldValue(path, value);\n        });\n        // Update identifiers render\n        this.identifiersRef.current.setState({\n          selectedOptions: this.identifiersRef.current.valuesToOptions(identifiers),\n        });\n        // Update affiliations render\n        const affiliationsState = affiliations.map(({ name }) => ({\n          text: name,\n          value: name,\n          key: name,\n          name,\n        }));\n        this.affiliationsRef.current.setState({\n          suggestions: affiliationsState,\n          selectedSuggestions: affiliationsState,\n          searchQuery: null,\n          error: false,\n          open: false,\n        });\n      }\n    );\n  };\n\n  render() {\n    const { initialCreatibutor, autocompleteNames, roleOptions, trigger, action } =\n      this.props;\n    const { open, showPersonForm, saveAndContinueLabel } = this.state;\n\n    const ActionLabel = () => this.displayActionLabel();\n    return (\n      <Formik\n        initialValues={this.deserializeCreatibutor(initialCreatibutor)}\n        onSubmit={this.onSubmit}\n        enableReinitialize\n        validationSchema={this.CreatorSchema}\n        validateOnChange={false}\n        validateOnBlur={false}\n      >\n        {({ values, resetForm, handleSubmit }) => {\n          const personOrOrgPath = `person_or_org`;\n          const typeFieldPath = `${personOrOrgPath}.type`;\n          const familyNameFieldPath = `${personOrOrgPath}.family_name`;\n          const givenNameFieldPath = `${personOrOrgPath}.given_name`;\n          const nameFieldPath = `${personOrOrgPath}.name`;\n          const identifiersFieldPath = `${personOrOrgPath}.identifiers`;\n          const affiliationsFieldPath = \"affiliations\";\n          const roleFieldPath = \"role\";\n          return (\n            <Modal\n              centered={false}\n              onOpen={() => this.openModal()}\n              open={open}\n              trigger={trigger}\n              onClose={() => {\n                this.closeModal();\n                resetForm();\n              }}\n              closeIcon\n              closeOnDimmerClick={false}\n            >\n              <Modal.Header as=\"h6\" className=\"pt-10 pb-10\">\n                <Grid>\n                  <Grid.Column floated=\"left\" width={4}>\n                    <Header as=\"h2\">\n                      <ActionLabel />\n                    </Header>\n                  </Grid.Column>\n                </Grid>\n              </Modal.Header>\n              <Modal.Content>\n                <Form>\n                  <Form.Group>\n                    <RadioField\n                      fieldPath={typeFieldPath}\n                      label={i18next.t(\"Person\")}\n                      checked={_get(values, typeFieldPath) === CREATIBUTOR_TYPE.PERSON}\n                      value={CREATIBUTOR_TYPE.PERSON}\n                      onChange={({ formikProps }) => {\n                        formikProps.form.setFieldValue(\n                          typeFieldPath,\n                          CREATIBUTOR_TYPE.PERSON\n                        );\n                      }}\n                      optimized\n                    />\n                    <RadioField\n                      fieldPath={typeFieldPath}\n                      label={i18next.t(\"Organization\")}\n                      checked={\n                        _get(values, typeFieldPath) === CREATIBUTOR_TYPE.ORGANIZATION\n                      }\n                      value={CREATIBUTOR_TYPE.ORGANIZATION}\n                      onChange={({ formikProps }) => {\n                        formikProps.form.setFieldValue(\n                          typeFieldPath,\n                          CREATIBUTOR_TYPE.ORGANIZATION\n                        );\n                        this.focusInput();\n                      }}\n                      optimized\n                    />\n                  </Form.Group>\n                  {_get(values, typeFieldPath, \"\") === CREATIBUTOR_TYPE.PERSON ? (\n                    <div>\n                      {autocompleteNames !== NamesAutocompleteOptions.OFF && (\n                        <RemoteSelectField\n                          selectOnBlur={false}\n                          selectOnNavigation={false}\n                          searchInput={{\n                            autoFocus: _isEmpty(initialCreatibutor),\n                          }}\n                          fieldPath=\"creators\"\n                          clearable\n                          multiple={false}\n                          allowAdditions={false}\n                          placeholder={i18next.t(\n                            \"Search for persons by name, identifier, or affiliation...\"\n                          )}\n                          noQueryMessage={i18next.t(\n                            \"Search for persons by name, identifier, or affiliation...\"\n                          )}\n                          required={false}\n                          // Disable UI-side filtering of search results\n                          search={(options) => options}\n                          suggestionAPIUrl=\"/api/names\"\n                          serializeSuggestions={this.serializeSuggestions}\n                          onValueChange={this.onPersonSearchChange}\n                          ref={this.namesAutocompleteRef}\n                        />\n                      )}\n                      {showPersonForm && (\n                        <div>\n                          <Form.Group widths=\"equal\">\n                            <TextField\n                              label={i18next.t(\"Family name\")}\n                              placeholder={i18next.t(\"Family name\")}\n                              fieldPath={familyNameFieldPath}\n                              required={this.isCreator()}\n                            />\n                            <TextField\n                              label={i18next.t(\"Given names\")}\n                              placeholder={i18next.t(\"Given names\")}\n                              fieldPath={givenNameFieldPath}\n                            />\n                          </Form.Group>\n                          <Form.Group widths=\"equal\">\n                            <CreatibutorsIdentifiers\n                              initialOptions={_map(\n                                _get(values, identifiersFieldPath, []),\n                                (identifier) => ({\n                                  text: identifier,\n                                  value: identifier,\n                                  key: identifier,\n                                })\n                              )}\n                              fieldPath={identifiersFieldPath}\n                              ref={this.identifiersRef}\n                            />\n                          </Form.Group>\n                        </div>\n                      )}\n                    </div>\n                  ) : (\n                    <>\n                      <TextField\n                        label={i18next.t(\"Name\")}\n                        placeholder={i18next.t(\"Organization name\")}\n                        fieldPath={nameFieldPath}\n                        required={this.isCreator()}\n                        // forward ref to Input component because Form.Input\n                        // doesn't handle it\n                        input={{ ref: this.inputRef }}\n                      />\n                      <CreatibutorsIdentifiers\n                        initialOptions={_map(\n                          _get(values, identifiersFieldPath, []),\n                          (identifier) => ({\n                            text: identifier,\n                            value: identifier,\n                            key: identifier,\n                          })\n                        )}\n                        fieldPath={identifiersFieldPath}\n                        placeholder={i18next.t(\"e.g. ROR, ISNI or GND.\")}\n                      />\n                    </>\n                  )}\n                  {(_get(values, typeFieldPath) === CREATIBUTOR_TYPE.ORGANIZATION ||\n                    (showPersonForm &&\n                      _get(values, typeFieldPath) === CREATIBUTOR_TYPE.PERSON)) && (\n                    <div>\n                      <AffiliationsField\n                        fieldPath={affiliationsFieldPath}\n                        selectRef={this.affiliationsRef}\n                      />\n                      <SelectField\n                        fieldPath={roleFieldPath}\n                        label={i18next.t(\"Role\")}\n                        options={roleOptions}\n                        placeholder={i18next.t(\"Select role\")}\n                        {...(this.isCreator() && { clearable: true })}\n                        required={!this.isCreator()}\n                        optimized\n                        scrolling\n                      />\n                    </div>\n                  )}\n                </Form>\n              </Modal.Content>\n              <Modal.Actions>\n                <Button\n                  name=\"cancel\"\n                  onClick={() => {\n                    resetForm();\n                    this.closeModal();\n                  }}\n                  icon=\"remove\"\n                  content={i18next.t(\"Cancel\")}\n                  floated=\"left\"\n                />\n                {action === ModalActions.ADD && (\n                  <Button\n                    name=\"submit\"\n                    onClick={() => {\n                      this.setState(\n                        {\n                          action: \"saveAndContinue\",\n                          showPersonForm:\n                            autocompleteNames !== NamesAutocompleteOptions.SEARCH_ONLY,\n                        },\n                        () => {\n                          handleSubmit();\n                        }\n                      );\n                    }}\n                    primary\n                    icon=\"checkmark\"\n                    content={saveAndContinueLabel}\n                  />\n                )}\n                <Button\n                  name=\"submit\"\n                  onClick={() => {\n                    this.setState(\n                      {\n                        action: \"saveAndClose\",\n                        showPersonForm:\n                          autocompleteNames !== NamesAutocompleteOptions.SEARCH_ONLY,\n                      },\n                      () => handleSubmit()\n                    );\n                  }}\n                  primary\n                  icon=\"checkmark\"\n                  content={i18next.t(\"Save\")}\n                />\n              </Modal.Actions>\n            </Modal>\n          );\n        }}\n      </Formik>\n    );\n  }\n}\n\nCreatibutorsModal.propTypes = {\n  schema: PropTypes.oneOf([\"creators\", \"contributors\"]).isRequired,\n  action: PropTypes.oneOf([\"add\", \"edit\"]).isRequired,\n  addLabel: PropTypes.string.isRequired,\n  autocompleteNames: PropTypes.oneOf([\"search\", \"search_only\", \"off\"]),\n  editLabel: PropTypes.string.isRequired,\n  initialCreatibutor: PropTypes.shape({\n    id: PropTypes.string,\n    person_or_org: PropTypes.shape({\n      family_name: PropTypes.string,\n      given_name: PropTypes.string,\n      name: PropTypes.string,\n      identifiers: PropTypes.arrayOf(\n        PropTypes.shape({\n          scheme: PropTypes.string,\n          identifier: PropTypes.string,\n        })\n      ),\n    }),\n    affiliations: PropTypes.array,\n    role: PropTypes.string,\n  }),\n  trigger: PropTypes.object.isRequired,\n  onCreatibutorChange: PropTypes.func.isRequired,\n  roleOptions: PropTypes.array,\n};\n\nCreatibutorsModal.defaultProps = {\n  roleOptions: [],\n  initialCreatibutor: {},\n  autocompleteNames: \"search\",\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Northwestern University.\n// Copyright (C) 2021 New York University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport _get from \"lodash/get\";\nimport React from \"react\";\nimport { useDrag, useDrop } from \"react-dnd\";\nimport { Button, Label, List, Ref } from \"semantic-ui-react\";\nimport { CreatibutorsModal } from \"./CreatibutorsModal\";\nimport PropTypes from \"prop-types\";\n\nexport const CreatibutorsFieldItem = ({\n  compKey,\n  identifiersError,\n  index,\n  replaceCreatibutor,\n  removeCreatibutor,\n  moveCreatibutor,\n  addLabel,\n  editLabel,\n  initialCreatibutor,\n  displayName,\n  roleOptions,\n  schema,\n  autocompleteNames,\n}) => {\n  const dropRef = React.useRef(null);\n  // eslint-disable-next-line no-unused-vars\n  const [_, drag, preview] = useDrag({\n    item: { index, type: \"creatibutor\" },\n  });\n  const [{ hidden }, drop] = useDrop({\n    accept: \"creatibutor\",\n    hover(item, monitor) {\n      if (!dropRef.current) {\n        return;\n      }\n      const dragIndex = item.index;\n      const hoverIndex = index;\n\n      // Don't replace items with themselves\n      if (dragIndex === hoverIndex) {\n        return;\n      }\n\n      if (monitor.isOver({ shallow: true })) {\n        moveCreatibutor(dragIndex, hoverIndex);\n        item.index = hoverIndex;\n      }\n    },\n    collect: (monitor) => ({\n      hidden: monitor.isOver({ shallow: true }),\n    }),\n  });\n\n  const renderRole = (role, roleOptions) => {\n    if (role) {\n      const friendlyRole =\n        roleOptions.find(({ value }) => value === role)?.text ?? role;\n\n      return <Label size=\"tiny\">{friendlyRole}</Label>;\n    }\n  };\n  const firstError =\n    identifiersError &&\n    identifiersError.find((elem) => ![undefined, null].includes(elem));\n\n  // Initialize the ref explicitely\n  drop(dropRef);\n  return (\n    <Ref innerRef={dropRef} key={compKey}>\n      <List.Item\n        key={compKey}\n        className={hidden ? \"deposit-drag-listitem hidden\" : \"deposit-drag-listitem\"}\n      >\n        <List.Content floated=\"right\">\n          <CreatibutorsModal\n            addLabel={addLabel}\n            editLabel={editLabel}\n            onCreatibutorChange={(selectedCreatibutor) => {\n              replaceCreatibutor(index, selectedCreatibutor);\n            }}\n            initialCreatibutor={initialCreatibutor}\n            roleOptions={roleOptions}\n            schema={schema}\n            autocompleteNames={autocompleteNames}\n            action=\"edit\"\n            trigger={\n              <Button size=\"mini\" primary type=\"button\">\n                {i18next.t(\"Edit\")}\n              </Button>\n            }\n          />\n          <Button size=\"mini\" type=\"button\" onClick={() => removeCreatibutor(index)}>\n            {i18next.t(\"Remove\")}\n          </Button>\n        </List.Content>\n        <Ref innerRef={drag}>\n          <List.Icon name=\"bars\" className=\"drag-anchor\" />\n        </Ref>\n        <Ref innerRef={preview}>\n          <List.Content>\n            <List.Description>\n              <span className=\"creatibutor\">\n                {_get(initialCreatibutor, \"person_or_org.identifiers\", []).some(\n                  (identifier) => identifier.scheme === \"orcid\"\n                ) && (\n                  <img\n                    alt=\"ORCID logo\"\n                    className=\"inline-id-icon mr-5\"\n                    src=\"/static/images/orcid.svg\"\n                    width=\"16\"\n                    height=\"16\"\n                  />\n                )}\n                {_get(initialCreatibutor, \"person_or_org.identifiers\", []).some(\n                  (identifier) => identifier.scheme === \"ror\"\n                ) && (\n                  <img\n                    alt=\"ROR logo\"\n                    className=\"inline-id-icon mr-5\"\n                    src=\"/static/images/ror-icon.svg\"\n                    width=\"16\"\n                    height=\"16\"\n                  />\n                )}\n                {_get(initialCreatibutor, \"person_or_org.identifiers\", []).some(\n                  (identifier) => identifier.scheme === \"gnd\"\n                ) && (\n                  <img\n                    alt=\"GND logo\"\n                    className=\"inline-id-icon mr-5\"\n                    src=\"/static/images/gnd-icon.svg\"\n                    width=\"16\"\n                    height=\"16\"\n                  />\n                )}\n                {displayName} {renderRole(initialCreatibutor?.role, roleOptions)}\n              </span>\n            </List.Description>\n            {firstError && (\n              <Label pointing=\"left\" prompt>\n                {firstError.scheme ? firstError.scheme : \"Invalid identifiers\"}\n              </Label>\n            )}\n          </List.Content>\n        </Ref>\n      </List.Item>\n    </Ref>\n  );\n};\n\nCreatibutorsFieldItem.propTypes = {\n  compKey: PropTypes.string.isRequired,\n  identifiersError: PropTypes.array,\n  index: PropTypes.number.isRequired,\n  replaceCreatibutor: PropTypes.func.isRequired,\n  removeCreatibutor: PropTypes.func.isRequired,\n  moveCreatibutor: PropTypes.func.isRequired,\n  addLabel: PropTypes.node,\n  editLabel: PropTypes.node,\n  initialCreatibutor: PropTypes.object.isRequired,\n  displayName: PropTypes.string,\n  roleOptions: PropTypes.array.isRequired,\n  schema: PropTypes.string.isRequired,\n  autocompleteNames: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n};\n\nCreatibutorsFieldItem.defaultProps = {\n  identifiersError: undefined,\n  addLabel: undefined,\n  editLabel: undefined,\n  displayName: undefined,\n  autocompleteNames: undefined,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nexport function toCapitalCase(str) {\n  return str[0].toUpperCase() + str.slice(1);\n}\n\n/**\n * Traverse the leaves (non-Object, non-Array values) of obj and execute func\n * on each.\n *\n * @param {object} obj - generic Object\n * @param {function} func - (leaf) => ... (identity by default)\n *\n */\nexport function leafTraverse(obj, func = (l) => l) {\n  if (typeof obj === \"object\") {\n    // Objects and Arrays\n    for (const key in obj) {\n      leafTraverse(obj[key], func);\n    }\n  } else {\n    func(obj);\n  }\n}\n\n/**\n * Sort a list of string values (options).\n * @param {list} options\n * @returns\n */\nexport function sortOptions(options) {\n  return options.sort((o1, o2) => o1.text.localeCompare(o2.text));\n}\n\n/**\n * Scroll page to top\n */\nexport function scrollTop() {\n  window.scrollTo({\n    top: 0,\n    left: 0,\n    behavior: \"smooth\",\n  });\n}\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { getIn, FieldArray } from \"formik\";\nimport { Button, Form, Label, List, Icon } from \"semantic-ui-react\";\nimport _get from \"lodash/get\";\nimport { FieldLabel } from \"react-invenio-forms\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { DndProvider } from \"react-dnd\";\n\nimport { CreatibutorsModal } from \"./CreatibutorsModal\";\nimport { CreatibutorsFieldItem } from \"./CreatibutorsFieldItem\";\nimport { CREATIBUTOR_TYPE } from \"./type\";\nimport { sortOptions } from \"../../utils\";\nimport { i18next } from \"../../i18next\";\n\nconst creatibutorNameDisplay = (value) => {\n  const creatibutorType = _get(value, \"person_or_org.type\", CREATIBUTOR_TYPE.PERSON);\n  const isPerson = creatibutorType === CREATIBUTOR_TYPE.PERSON;\n\n  const familyName = _get(value, \"person_or_org.family_name\", \"\");\n  const givenName = _get(value, \"person_or_org.given_name\", \"\");\n  const affiliationName = _get(value, `affiliations[0].name`, \"\");\n  const name = _get(value, `person_or_org.name`);\n\n  const affiliation = affiliationName ? ` (${affiliationName})` : \"\";\n\n  if (isPerson) {\n    const givenNameSuffix = givenName ? `, ${givenName}` : \"\";\n    return `${familyName}${givenNameSuffix}${affiliation}`;\n  }\n\n  return `${name}${affiliation}`;\n};\n\nclass CreatibutorsFieldForm extends Component {\n  handleOnContributorChange = (selectedCreatibutor) => {\n    const { push: formikArrayPush } = this.props;\n    formikArrayPush(selectedCreatibutor);\n  };\n\n  render() {\n    const {\n      form: { values, errors, initialErrors, initialValues },\n      remove: formikArrayRemove,\n      replace: formikArrayReplace,\n      move: formikArrayMove,\n      name: fieldPath,\n      label,\n      labelIcon,\n      roleOptions,\n      schema,\n      modal,\n      autocompleteNames,\n      addButtonLabel,\n    } = this.props;\n\n    const creatibutorsList = getIn(values, fieldPath, []);\n    const formikInitialValues = getIn(initialValues, fieldPath, []);\n\n    const error = getIn(errors, fieldPath, null);\n    const initialError = getIn(initialErrors, fieldPath, null);\n    const creatibutorsError =\n      error || (creatibutorsList === formikInitialValues && initialError);\n\n    return (\n      <DndProvider backend={HTML5Backend}>\n        <Form.Field\n          required={schema === \"creators\"}\n          className={creatibutorsError ? \"error\" : \"\"}\n        >\n          <FieldLabel htmlFor={fieldPath} icon={labelIcon} label={label} />\n          <List>\n            {creatibutorsList.map((value, index) => {\n              const key = `${fieldPath}.${index}`;\n              const identifiersError =\n                creatibutorsError &&\n                creatibutorsError[index]?.person_or_org?.identifiers;\n              const displayName = creatibutorNameDisplay(value);\n\n              return (\n                <CreatibutorsFieldItem\n                  key={key}\n                  identifiersError={identifiersError}\n                  {...{\n                    displayName,\n                    index,\n                    roleOptions,\n                    schema,\n                    compKey: key,\n                    initialCreatibutor: value,\n                    removeCreatibutor: formikArrayRemove,\n                    replaceCreatibutor: formikArrayReplace,\n                    moveCreatibutor: formikArrayMove,\n                    addLabel: modal.addLabel,\n                    editLabel: modal.editLabel,\n                    autocompleteNames: autocompleteNames,\n                  }}\n                />\n              );\n            })}\n            <CreatibutorsModal\n              onCreatibutorChange={this.handleOnContributorChange}\n              action=\"add\"\n              addLabel={modal.addLabel}\n              editLabel={modal.editLabel}\n              roleOptions={sortOptions(roleOptions)}\n              schema={schema}\n              autocompleteNames={autocompleteNames}\n              trigger={\n                <Button type=\"button\" icon labelPosition=\"left\">\n                  <Icon name=\"add\" />\n                  {addButtonLabel}\n                </Button>\n              }\n            />\n            {creatibutorsError && typeof creatibutorsError == \"string\" && (\n              <Label pointing=\"left\" prompt>\n                {creatibutorsError}\n              </Label>\n            )}\n          </List>\n        </Form.Field>\n      </DndProvider>\n    );\n  }\n}\n\nexport class CreatibutorsField extends Component {\n  render() {\n    const { fieldPath } = this.props;\n\n    return (\n      <FieldArray\n        name={fieldPath}\n        component={(formikProps) => (\n          <CreatibutorsFieldForm {...formikProps} {...this.props} />\n        )}\n      />\n    );\n  }\n}\n\nCreatibutorsFieldForm.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  addButtonLabel: PropTypes.string,\n  modal: PropTypes.shape({\n    addLabel: PropTypes.string.isRequired,\n    editLabel: PropTypes.string.isRequired,\n  }),\n  schema: PropTypes.oneOf([\"creators\", \"contributors\"]).isRequired,\n  autocompleteNames: PropTypes.oneOf([\"search\", \"search_only\", \"off\"]),\n  label: PropTypes.string,\n  labelIcon: PropTypes.string,\n  roleOptions: PropTypes.array.isRequired,\n  form: PropTypes.object.isRequired,\n  remove: PropTypes.func.isRequired,\n  replace: PropTypes.func.isRequired,\n  move: PropTypes.func.isRequired,\n  push: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n};\n\nCreatibutorsFieldForm.defaultProps = {\n  autocompleteNames: \"search\",\n  label: i18next.t(\"Creators\"),\n  labelIcon: \"user\",\n  modal: {\n    addLabel: i18next.t(\"Add creator\"),\n    editLabel: i18next.t(\"Edit creator\"),\n  },\n  addButtonLabel: i18next.t(\"Add creator\"),\n};\n\nCreatibutorsField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  addButtonLabel: PropTypes.string,\n  modal: PropTypes.shape({\n    addLabel: PropTypes.string.isRequired,\n    editLabel: PropTypes.string.isRequired,\n  }),\n  schema: PropTypes.oneOf([\"creators\", \"contributors\"]).isRequired,\n  autocompleteNames: PropTypes.oneOf([\"search\", \"search_only\", \"off\"]),\n  label: PropTypes.string,\n  labelIcon: PropTypes.string,\n  roleOptions: PropTypes.array,\n};\n\nCreatibutorsField.defaultProps = {\n  autocompleteNames: \"search\",\n  label: undefined,\n  labelIcon: undefined,\n  roleOptions: undefined,\n  modal: {\n    addLabel: i18next.t(\"Add creator\"),\n    editLabel: i18next.t(\"Edit creator\"),\n  },\n  addButtonLabel: i18next.t(\"Add creator\"),\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2021 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ArrayField, GroupField, SelectField, TextField } from \"react-invenio-forms\";\nimport { Button, Form, Icon } from \"semantic-ui-react\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _matches from \"lodash/matches\";\nimport _filter from \"lodash/filter\";\nimport _isEqual from \"lodash/isEqual\";\nimport _has from \"lodash/has\";\nimport { emptyDate } from \"../record\";\nimport { i18next } from \"@translations/i18next\";\nimport { sortOptions } from \"../utils\";\n\nexport class DatesField extends Component {\n  /** Top-level Dates Component */\n\n  /**\n   * Returns the required option if the current value passed does match it\n   * @param  {Object} currentValue The current value\n   * @param  {Array} arrayOfValues The array of values for the field\n   * @return {Object} The required option if any\n   */\n  getRequiredOption = (currentValue, arrayOfValues) => {\n    const { requiredOptions } = this.props;\n    for (const requiredOption of requiredOptions) {\n      // If more values matched we do take the first value\n      const matchingValue = _filter(arrayOfValues, _matches(requiredOption))[0];\n      if (_isEqual(matchingValue, currentValue)) {\n        return requiredOption;\n      }\n    }\n    return null;\n  };\n\n  render() {\n    const {\n      fieldPath,\n      options,\n      label,\n      labelIcon,\n      placeholderDate,\n      required,\n      requiredOptions,\n      showEmptyValue,\n    } = this.props;\n\n    return (\n      <ArrayField\n        addButtonLabel={i18next.t(\"Add date\")} // TODO: Pass by prop\n        defaultNewValue={emptyDate}\n        fieldPath={fieldPath}\n        helpText={i18next.t(\n          \"Format: DATE or DATE/DATE where DATE is YYYY or YYYY-MM or YYYY-MM-DD.\"\n        )}\n        label={label}\n        labelIcon={labelIcon}\n        required={required}\n        requiredOptions={requiredOptions}\n        showEmptyValue={showEmptyValue}\n      >\n        {({ array, arrayHelpers, indexPath, value }) => {\n          const fieldPathPrefix = `${fieldPath}.${indexPath}`;\n          const requiredOption = this.getRequiredOption(value, array);\n          const hasRequiredDateValue = _has(requiredOption, \"date\");\n          const hasRequiredTypeValue = _has(requiredOption, \"type\");\n          const hasRequiredDescriptionValue = _has(requiredOption, \"description\");\n          return (\n            <GroupField fieldPath={fieldPath} optimized>\n              <TextField\n                fieldPath={`${fieldPathPrefix}.date`}\n                label={i18next.t(\"Date\")}\n                placeholder={placeholderDate}\n                disabled={hasRequiredDateValue}\n                required\n                width={5}\n              />\n              <SelectField\n                fieldPath={`${fieldPathPrefix}.type`}\n                label={i18next.t(\"Type\")}\n                options={sortOptions(options.type)}\n                disabled={hasRequiredTypeValue}\n                required\n                width={5}\n                optimized\n              />\n              <TextField\n                fieldPath={`${fieldPathPrefix}.description`}\n                label={i18next.t(\"Description\")}\n                disabled={hasRequiredDescriptionValue}\n                width={5}\n              />\n              <Form.Field>\n                <Button\n                  aria-label={i18next.t(\"Remove field\")}\n                  className=\"close-btn\"\n                  disabled={!_isEmpty(requiredOption)}\n                  icon\n                  onClick={() => arrayHelpers.remove(indexPath)}\n                  type=\"button\"\n                >\n                  <Icon name=\"close\" />\n                </Button>\n              </Form.Field>\n            </GroupField>\n          );\n        }}\n      </ArrayField>\n    );\n  }\n}\n\nDatesField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  labelIcon: PropTypes.string,\n  options: PropTypes.shape({\n    type: PropTypes.arrayOf(\n      PropTypes.shape({\n        text: PropTypes.string,\n        value: PropTypes.string,\n      })\n    ),\n  }).isRequired,\n  required: PropTypes.bool,\n  placeholderDate: PropTypes.string,\n  requiredOptions: PropTypes.array,\n  showEmptyValue: PropTypes.bool,\n};\n\nDatesField.defaultProps = {\n  label: i18next.t(\"Dates\"),\n  labelIcon: \"calendar\",\n  placeholderDate: i18next.t(\"YYYY-MM-DD or YYYY-MM-DD/YYYY-MM-DD\"),\n  required: false,\n  requiredOptions: [],\n  showEmptyValue: false,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React from \"react\";\n\nexport const DepositFormSubmitActions = {\n  SAVE: \"SAVE\",\n  PUBLISH: \"PUBLISH\",\n  PUBLISH_WITHOUT_COMMUNITY: \"PUBLISH_WITHOUT_COMMUNITY\",\n  PREVIEW: \"PREVIEW\",\n  DELETE: \"DELETE\",\n  RESERVE_PID: \"RESERVE_PID\",\n  DISCARD_PID: \"DISCARD_PID\",\n  SUBMIT_REVIEW: \"SUBMIT_REVIEW\",\n};\n\n/**\n * The current version of Formik does not allow to pass a context/arg to the submit action.\n * The assumption is that there must be only one Submit button in a form.\n * As a workaround, each submit button (Save, Publish, etc...) will:\n * 1. call `setSubmitContext` with the action name as first param (mandatory) and any extra context, if needed.\n * 2. call `formik.handleSubmit` to trigger the action.\n *\n * This might be fixed in future versions of Formik. See:\n * - https://github.com/jaredpalmer/formik/issues/214\n * - https://github.com/jaredpalmer/formik/issues/1792\n */\nexport const DepositFormSubmitContext = React.createContext({\n  setSubmitContext: undefined,\n});\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n// Copyright (C) 2021-2022 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { connect as connectFormik } from \"formik\";\nimport { Button, Modal } from \"semantic-ui-react\";\nimport {\n  DepositFormSubmitActions,\n  DepositFormSubmitContext,\n} from \"../DepositFormSubmitContext\";\nimport { DRAFT_DELETE_STARTED } from \"../state/types\";\nimport { toCapitalCase } from \"../utils\";\nimport _omit from \"lodash/omit\";\nimport PropTypes from \"prop-types\";\n\n// action\nconst DISCARD_CHANGES_LBL = i18next.t(\"discard changes\");\nconst DISCARD_VERSION_LBL = i18next.t(\"discard version\");\nconst DELETE_LBL = i18next.t(\"delete\");\n\n// action messages\nconst DISCARD_CHANGES_DLG = i18next.t(\n  \"Are you sure you want to discard the changes to this draft?\"\n);\n\nconst DISCARD_VERSION_DLG = i18next.t(\n  \"Are you sure you want to delete this new version?\"\n);\nconst DISCARD_DELETE_DLG = i18next.t(\"Are you sure you want to delete this draft?\");\n\nconst DialogText = ({ actionLbl }) => {\n  let text = \"\";\n  switch (actionLbl) {\n    case DISCARD_CHANGES_LBL:\n      text = DISCARD_CHANGES_DLG;\n      break;\n    case DISCARD_VERSION_LBL:\n      text = DISCARD_VERSION_DLG;\n      break;\n    case DELETE_LBL:\n      text = DISCARD_DELETE_DLG;\n      break;\n    default:\n      break;\n  }\n  return text;\n};\n\nexport class DeleteButtonComponent extends Component {\n  state = { modalOpen: false };\n  static contextType = DepositFormSubmitContext;\n\n  openConfirmModal = () => this.setState({ modalOpen: true });\n\n  closeConfirmModal = () => this.setState({ modalOpen: false });\n\n  handleDelete = async (event) => {\n    const { isPublished, isVersion, formik } = this.props;\n    const { handleSubmit } = formik;\n    const { setSubmitContext } = this.context;\n\n    setSubmitContext(DepositFormSubmitActions.DELETE, {\n      isDiscardingVersion: isPublished || isVersion,\n    });\n    handleSubmit(event);\n    this.closeConfirmModal();\n  };\n\n  render() {\n    const {\n      draftExists,\n      isPublished,\n      isVersion,\n      actionState,\n      formik,\n      ...ui // only has ActionButton props\n    } = this.props;\n    const { modalOpen } = this.state;\n\n    const { isSubmitting } = formik;\n\n    const uiProps = _omit(ui, [\"dispatch\"]);\n\n    let actionLbl = \"\";\n    if (!isPublished) {\n      actionLbl = isVersion ? DISCARD_VERSION_LBL : DELETE_LBL;\n    } else {\n      actionLbl = DISCARD_CHANGES_LBL;\n    }\n    const color = isPublished ? \"warning\" : \"negative\";\n    const capitalizedActionLbl = toCapitalCase(actionLbl);\n\n    return (\n      <>\n        <Button\n          disabled={!draftExists || isSubmitting}\n          onClick={this.openConfirmModal}\n          className={color}\n          icon\n          loading={isSubmitting && actionState === DRAFT_DELETE_STARTED}\n          labelPosition=\"left\"\n          {...uiProps}\n          content={capitalizedActionLbl}\n        />\n\n        <Modal open={modalOpen} onClose={this.closeConfirmModal} size=\"tiny\">\n          <Modal.Content>\n            <DialogText actionLbl={actionLbl} />\n          </Modal.Content>\n          <Modal.Actions>\n            <Button onClick={this.closeConfirmModal} floated=\"left\">\n              {i18next.t(\"Cancel\")}\n            </Button>\n            <Button\n              {...color}\n              onClick={this.handleDelete}\n              loading={isSubmitting && actionState === DRAFT_DELETE_STARTED}\n              icon=\"trash alternate outline\"\n              content={capitalizedActionLbl}\n            />\n          </Modal.Actions>\n        </Modal>\n      </>\n    );\n  }\n}\n\nDeleteButtonComponent.propTypes = {\n  draftExists: PropTypes.bool,\n  isPublished: PropTypes.bool,\n  isVersion: PropTypes.bool,\n  actionState: PropTypes.string,\n  formik: PropTypes.object.isRequired,\n};\n\nDeleteButtonComponent.defaultProps = {\n  draftExists: false,\n  isPublished: false,\n  isVersion: false,\n  actionState: undefined,\n};\n\nconst mapStateToProps = (state) => ({\n  draftExists: Boolean(state.deposit.record.id),\n  isPublished: state.deposit.record.is_published,\n  isVersion: state.deposit.record.versions?.index > 1,\n  actionState: state.deposit.actionState,\n});\n\nexport const DeleteButton = connect(\n  mapStateToProps,\n  null\n)(connectFormik(DeleteButtonComponent));\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Header } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/i18next\";\nimport PropTypes from \"prop-types\";\n\nclass DepositFormTitleComponent extends Component {\n  render() {\n    const { isPublished, isVersion } = this.props;\n\n    let content = \"\";\n    if (!isPublished) {\n      content = isVersion ? i18next.t(\"New version\") : i18next.t(\"New upload\");\n    } else {\n      content = i18next.t(\"Edit upload\");\n    }\n    return <Header as=\"h1\" icon=\"upload\" content={content} />;\n  }\n}\n\nDepositFormTitleComponent.propTypes = {\n  isPublished: PropTypes.bool,\n  isVersion: PropTypes.bool,\n};\n\nDepositFormTitleComponent.defaultProps = {\n  isPublished: false,\n  isVersion: false,\n};\n\nconst mapStateToProps = (state) => ({\n  isPublished: state.deposit.record.is_published,\n  isVersion: state.deposit.record.versions?.index > 1,\n});\n\nexport const DepositFormTitle = connect(\n  mapStateToProps,\n  null\n)(DepositFormTitleComponent);\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport _isEmpty from \"lodash/isEmpty\";\nimport {\n  DISCARD_PID_FAILED,\n  DISCARD_PID_STARTED,\n  DISCARD_PID_SUCCEEDED,\n  DRAFT_DELETE_FAILED,\n  DRAFT_DELETE_STARTED,\n  DRAFT_FETCHED,\n  DRAFT_HAS_VALIDATION_ERRORS,\n  DRAFT_PREVIEW_FAILED,\n  DRAFT_PREVIEW_STARTED,\n  DRAFT_PUBLISH_FAILED,\n  DRAFT_PUBLISH_FAILED_WITH_VALIDATION_ERRORS,\n  DRAFT_PUBLISH_STARTED,\n  DRAFT_SAVE_FAILED,\n  DRAFT_SAVE_STARTED,\n  DRAFT_SAVE_SUCCEEDED,\n  DRAFT_SUBMIT_REVIEW_FAILED,\n  DRAFT_SUBMIT_REVIEW_FAILED_WITH_VALIDATION_ERRORS,\n  DRAFT_SUBMIT_REVIEW_STARTED,\n  RESERVE_PID_FAILED,\n  RESERVE_PID_STARTED,\n  RESERVE_PID_SUCCEEDED,\n  SET_COMMUNITY,\n} from \"../types\";\n\nexport class DepositStatus {\n  static DRAFT = \"draft\";\n  static NEW_VERSION_DRAFT = \"new_version_draft\";\n  static DRAFT_WITH_REVIEW = \"draft_with_review\";\n  static IN_REVIEW = \"in_review\";\n  static DECLINED = \"declined\";\n  static EXPIRED = \"expired\";\n  static PUBLISHED = \"published\";\n\n  static allowsReviewDeletionStates = [\n    DepositStatus.DRAFT_WITH_REVIEW,\n    DepositStatus.DECLINED,\n    DepositStatus.EXPIRED,\n  ];\n\n  static allowsReviewUpdateStates = [\n    DepositStatus.DRAFT_WITH_REVIEW,\n    DepositStatus.DECLINED,\n    DepositStatus.EXPIRED,\n    DepositStatus.DRAFT,\n  ];\n\n  static disallowsSubmitForReviewStates = [\n    DepositStatus.PUBLISHED,\n    DepositStatus.IN_REVIEW,\n    DepositStatus.NEW_VERSION_DRAFT,\n  ];\n}\n\nfunction hasStatus(record, statuses = []) {\n  return statuses.includes(record.status);\n}\n\nfunction getSelectedCommunityMetadata(record, selectedCommunity) {\n  switch (selectedCommunity) {\n    case undefined: {\n      // when `undefined`, retrieve the community from the record, if previously selected\n      const reviewCommunityId = record.parent?.review?.receiver?.community;\n      const defaultCommunityId = record.parent?.communities?.default;\n      const hasCommunity = reviewCommunityId || defaultCommunityId;\n      if (!hasCommunity) {\n        // community never selected\n        return undefined;\n      }\n\n      const alreadyPublished = hasStatus(record, [\n        DepositStatus.PUBLISHED,\n        DepositStatus.NEW_VERSION_DRAFT,\n      ]);\n\n      // record should be expanded\n      return alreadyPublished\n        ? record.expanded.parent.communities.default\n        : record.expanded.parent.review.receiver;\n    }\n    case null:\n      // when value is `null`, the selected community was deselected\n      return null;\n    default:\n      return selectedCommunity;\n  }\n}\n\n/**\n * Given a draft and optionally a newly selected community, it computes multiple states. The computed\n * states are split in 2 namespaces, `ui` and `actions`. The former is holding state regarding\n * the UI components while the later holds the state that is used on redux actions. More specifically:\n *\n * - `actions.shouldUpdateReview`: true if the review associated with the draft needs to be updated or created i.e\n * all of the following are true:\n *     - user has selected a community\n *     - the selected community has a saved request in the backend\n *     - the draft status is one of `DepositStatus.allowsReviewUpdateStates`\n *     - the community selected for the draft has not a declined/expired request associated with it\n * - `actions.shouldDeleteReview`: true if the review associated with the draft needs to be deleted i.e\n * all of the following are true:\n *     - user has deselected a community\n *     - the draft status is one of `DepositStatus.allowsReviewDeletionStates`\n * - `actions.communityStateMustBeChecked`: true if one of the `shouldUpdateReview` or `shouldDeleteReview` is true\n * - `ui.showSubmitForReviewButton`: true if all of the following are true:\n *     - user has selected a community\n *     - the associated review for the selected community is not declined/expired\n *     - the record is not published\n * - `ui.disableSubmitForReviewButton`: true if all the following are true\n *     - `ui.showSubmitForReviewButton` is true\n *     - the draft status is one of `DepositStatus.disallowsSubmitForReviewStates`\n * - `ui.showChangeCommunityButton`: true if the associated review for the selected community is declined/expired\n * - `ui.showCommunitySelectionButton`: true if the record is not published\n * - `ui.disableCommunitySelectionButton`: true `ui.showCommunitySelectionButton` is true and any of the following is true:\n *     - the associated review for the selected community is declined/expired\n *     - the draft status is one of `DepositStatus.disallowsSubmitForReviewStates` and `ui.showCommunityHeader` is false\n * - `ui.showCommunityHeader`: false if all of the following is true:\n *     - the draft is published\n *     - the `record.parent.communities` is empty i.e the record was published without a community selected.\n *\n * When the `selectedCommunity` param is omitted, it will retrieve the community from the draft, if any.\n *\n * @param {object} record: the latest version of the record\n * @param {object} selectedCommunity: the selected community, `null` to deselect.\n * @returns a new state for the deposit form\n */\nexport function computeDepositState(record, selectedCommunity = undefined) {\n  const depositStatusAllowsReviewDeletion = hasStatus(\n    record,\n    DepositStatus.allowsReviewDeletionStates\n  );\n  const depositStatusAllowsReviewUpdate = hasStatus(\n    record,\n    DepositStatus.allowsReviewUpdateStates\n  );\n  const depositStatusDisallowsSubmitForReview = hasStatus(\n    record,\n    DepositStatus.disallowsSubmitForReviewStates\n  );\n\n  // Serialize selectedCommunity\n  const _selectedCommunity = getSelectedCommunityMetadata(record, selectedCommunity);\n  const communityIsSelected = !_isEmpty(_selectedCommunity);\n\n  const draftReview = record?.parent?.review;\n\n  // check if the selected community has a request created\n  const isReviewForSelectedCommunityCreated =\n    hasStatus(record, [DepositStatus.DRAFT_WITH_REVIEW]) &&\n    draftReview?.receiver?.community === _selectedCommunity?.id;\n\n  // check if the selected community has a declined or expired request\n  const isReviewForSelectedCommunityDeclinedOrExpired =\n    hasStatus(record, [DepositStatus.DECLINED, DepositStatus.EXPIRED]) &&\n    draftReview?.receiver?.community === _selectedCommunity?.id;\n\n  // check if the record is published without a community selected\n  const isRecordPublishedWithoutCommunity =\n    hasStatus(record, [DepositStatus.PUBLISHED, DepositStatus.NEW_VERSION_DRAFT]) &&\n    _isEmpty(record.parent?.communities);\n\n  // show submit for review button conditions extracted to be reused\n  const _showSubmitReviewButton =\n    communityIsSelected &&\n    !isReviewForSelectedCommunityDeclinedOrExpired &&\n    !hasStatus(record, [DepositStatus.PUBLISHED, DepositStatus.NEW_VERSION_DRAFT]);\n\n  // show community selection button conditions extracted to be reused\n  const _showCommunitySelectionButton = !hasStatus(record, [\n    DepositStatus.PUBLISHED,\n    DepositStatus.NEW_VERSION_DRAFT,\n  ]);\n\n  const shouldUpdateReview =\n    communityIsSelected &&\n    depositStatusAllowsReviewUpdate &&\n    !isReviewForSelectedCommunityCreated &&\n    !isReviewForSelectedCommunityDeclinedOrExpired;\n\n  const shouldDeleteReview = !communityIsSelected && depositStatusAllowsReviewDeletion;\n\n  const _disableCommunitySelectionButton =\n    _showCommunitySelectionButton &&\n    (isReviewForSelectedCommunityDeclinedOrExpired ||\n      (depositStatusDisallowsSubmitForReview && !isRecordPublishedWithoutCommunity));\n\n  return {\n    selectedCommunity: _selectedCommunity,\n    ui: {\n      showSubmitForReviewButton: _showSubmitReviewButton,\n      disableSubmitForReviewButton:\n        _showSubmitReviewButton && depositStatusDisallowsSubmitForReview,\n      showChangeCommunityButton: isReviewForSelectedCommunityDeclinedOrExpired,\n      showCommunitySelectionButton: _showCommunitySelectionButton,\n      showCommunityHeader: !isRecordPublishedWithoutCommunity,\n      disableCommunitySelectionButton: _disableCommunitySelectionButton,\n    },\n    actions: {\n      shouldUpdateReview,\n      shouldDeleteReview,\n      communityStateMustBeChecked: shouldUpdateReview || shouldDeleteReview,\n    },\n  };\n}\n\nconst depositReducer = (state = {}, action) => {\n  switch (action.type) {\n    case DRAFT_SAVE_STARTED:\n    case DRAFT_PUBLISH_STARTED:\n    case DRAFT_DELETE_STARTED:\n    case DRAFT_PREVIEW_STARTED:\n      return {\n        ...state,\n        actionState: action.type,\n      };\n    case DRAFT_SUBMIT_REVIEW_STARTED:\n      return {\n        ...state,\n        actionState: action.type,\n        actionStateExtra: { reviewComment: action.payload.reviewComment },\n      };\n    case RESERVE_PID_STARTED:\n    case DISCARD_PID_STARTED:\n      return {\n        ...state,\n        actionState: action.type,\n        actionStateExtra: { pidType: action.payload.pidType },\n      };\n    case DRAFT_FETCHED:\n    case DRAFT_SAVE_SUCCEEDED:\n    case RESERVE_PID_SUCCEEDED:\n    case DISCARD_PID_SUCCEEDED:\n      return {\n        ...state,\n        record: {\n          ...state.record,\n          ...action.payload.data,\n        },\n        editorState: computeDepositState(\n          action.payload.data,\n          state.editorState.selectedCommunity\n        ),\n        errors: {},\n        actionState: action.type,\n        actionStateExtra: {},\n      };\n    case DRAFT_HAS_VALIDATION_ERRORS:\n    case DRAFT_PUBLISH_FAILED_WITH_VALIDATION_ERRORS:\n    case DRAFT_SUBMIT_REVIEW_FAILED_WITH_VALIDATION_ERRORS:\n      return {\n        ...state,\n        record: {\n          ...state.record,\n          ...action.payload.data,\n        },\n        editorState: computeDepositState(\n          action.payload.data,\n          state.editorState.selectedCommunity\n        ),\n        errors: { ...action.payload.errors },\n        actionState: action.type,\n      };\n    case DRAFT_SAVE_FAILED:\n    case DRAFT_PUBLISH_FAILED:\n    case DRAFT_DELETE_FAILED:\n    case DRAFT_PREVIEW_FAILED:\n    case RESERVE_PID_FAILED:\n    case DISCARD_PID_FAILED:\n    case DRAFT_SUBMIT_REVIEW_FAILED:\n      return {\n        ...state,\n        errors: { ...action.payload.errors },\n        actionState: action.type,\n        actionStateExtra: {},\n      };\n    case SET_COMMUNITY: {\n      let recordCopy = {\n        ...state.record,\n      };\n\n      const isCommunityRestricted =\n        action.payload?.community?.access?.visibility === \"restricted\";\n      const isRecordPublic = recordCopy.access.record === \"public\";\n\n      if (isRecordPublic && isCommunityRestricted) {\n        recordCopy = {\n          ...state.record,\n          access: {\n            files: \"restricted\",\n            record: \"restricted\",\n          },\n        };\n      }\n\n      return {\n        ...state,\n        record: recordCopy,\n        editorState: computeDepositState(recordCopy, action.payload.community),\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default depositReducer;\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2022 CERN.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Button, Grid, Icon, Popup } from \"semantic-ui-react\";\nimport { DepositStatus } from \"../../state/reducers/deposit\";\nimport PropTypes from \"prop-types\";\n\nconst STATUSES = {\n  [DepositStatus.IN_REVIEW]: {\n    color: \"warning\",\n    title: i18next.t(\"In review\"),\n    message: i18next.t(\n      \"Community curators will review your upload. Once accepted, it will be published.\"\n    ),\n  },\n  [DepositStatus.DECLINED]: {\n    color: \"negative\",\n    title: i18next.t(\"Declined\"),\n    message: i18next.t(\n      \"The request to submit this upload to the community was declined.\"\n    ),\n  },\n  [DepositStatus.EXPIRED]: {\n    color: \"expired\",\n    title: i18next.t(\"Expired\"),\n    message: i18next.t(\n      \"The request to submit this upload to the community has expired.\"\n    ),\n  },\n  [DepositStatus.PUBLISHED]: {\n    color: \"positive\",\n    title: i18next.t(\"Published\"),\n    message: i18next.t(\"Your upload is published.\"),\n  },\n  [DepositStatus.DRAFT_WITH_REVIEW]: {\n    color: \"neutral\",\n    title: i18next.t(\"Draft\"),\n    message: i18next.t(\n      \"Once your upload is complete, you can submit it for review to the community curators.\"\n    ),\n  },\n  [DepositStatus.DRAFT]: {\n    color: \"neutral\",\n    title: i18next.t(\"Draft\"),\n    message: i18next.t(\n      \"Once your upload is complete, you can publish or submit it for review to the community curators.\"\n    ),\n  },\n  [DepositStatus.NEW_VERSION_DRAFT]: {\n    color: \"neutral\",\n    title: i18next.t(\"New version draft\"),\n    message: i18next.t(\"Once your upload is complete, you can publish it.\"),\n  },\n};\n\nconst DepositStatusBoxComponent = ({ depositReview, depositStatus }) => {\n  const status = STATUSES[depositStatus];\n  if (!status) {\n    throw new Error(\"Status is undefined\");\n  }\n  const isReviewStatus = depositStatus === DepositStatus.IN_REVIEW;\n\n  return (\n    <Grid verticalAlign=\"middle\">\n      <Grid.Row centered className={`pt-5 pb-5 ${status.color}`}>\n        <Grid.Column\n          width={isReviewStatus ? 8 : 16}\n          textAlign={isReviewStatus ? \"left\" : \"center\"}\n        >\n          <span>{status.title}</span>\n          <Popup\n            trigger={<Icon className=\"ml-10\" name=\"info circle\" />}\n            content={status.message}\n          />\n        </Grid.Column>\n        {isReviewStatus && (\n          <Grid.Column width={8} textAlign=\"right\">\n            <Button\n              href={`/me/requests/${depositReview.id}`}\n              target=\"_blank\"\n              icon=\"external alternate\"\n              content={i18next.t(\"View request\")}\n              size=\"mini\"\n              className=\"transparent\"\n              title={i18next.t(\"Opens in new tab\")}\n            />\n          </Grid.Column>\n        )}\n      </Grid.Row>\n    </Grid>\n  );\n};\n\nDepositStatusBoxComponent.propTypes = {\n  depositReview: PropTypes.bool.isRequired,\n  depositStatus: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  depositStatus: state.deposit.record.status,\n  depositReview:\n    state.deposit.record.status !== DepositStatus.DRAFT &&\n    state.deposit.record.parent.review,\n});\n\nexport const DepositStatusBox = connect(\n  mapStateToProps,\n  null\n)(DepositStatusBoxComponent);\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020      CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n// Copyright (C) 2021      Graz University of Technology.\n// Copyright (C) 2022      TU Wien.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Form, Grid, Icon } from \"semantic-ui-react\";\n\nimport { ArrayField, SelectField, RichInputField } from \"react-invenio-forms\";\nimport { emptyAdditionalDescription } from \"../record\";\nimport { LanguagesField } from \"./LanguagesField\";\nimport { i18next } from \"@translations/i18next\";\nimport { sortOptions } from \"../utils\";\n\nexport class AdditionalDescriptionsField extends Component {\n  render() {\n    const { fieldPath, options, recordUI, editorConfig } = this.props;\n    return (\n      <ArrayField\n        addButtonLabel={i18next.t(\"Add description\")}\n        defaultNewValue={emptyAdditionalDescription}\n        fieldPath={fieldPath}\n        className=\"additional-descriptions\"\n      >\n        {({ arrayHelpers, indexPath }) => {\n          const fieldPathPrefix = `${fieldPath}.${indexPath}`;\n\n          return (\n            <Grid className=\"description\">\n              <Grid.Row>\n                <Grid.Column mobile={16} tablet={10} computer={12}>\n                  <RichInputField\n                    fieldPath={`${fieldPathPrefix}.description`}\n                    label={i18next.t(\"Additional Description\")}\n                    editorConfig={editorConfig}\n                    optimized\n                    required\n                  />\n                </Grid.Column>\n                <Grid.Column mobile={16} tablet={6} computer={4}>\n                  <Form.Field>\n                    <Button\n                      aria-label={i18next.t(\"Remove field\")}\n                      className=\"close-btn\"\n                      floated=\"right\"\n                      icon\n                      onClick={() => arrayHelpers.remove(indexPath)}\n                    >\n                      <Icon name=\"close\" />\n                    </Button>\n                  </Form.Field>\n                  <SelectField\n                    fieldPath={`${fieldPathPrefix}.type`}\n                    label={i18next.t(\"Type\")}\n                    options={sortOptions(options.type)}\n                    required\n                    optimized\n                  />\n                  <LanguagesField\n                    serializeSuggestions={(suggestions) =>\n                      suggestions.map((item) => ({\n                        text: item.title_l10n,\n                        value: item.id,\n                        fieldPathPrefix: item.id,\n                      }))\n                    }\n                    initialOptions={\n                      recordUI?.additional_descriptions &&\n                      recordUI.additional_descriptions[indexPath]?.lang\n                        ? [recordUI.additional_descriptions[indexPath].lang]\n                        : []\n                    }\n                    fieldPath={`${fieldPathPrefix}.lang`}\n                    label={i18next.t(\"Language\")}\n                    multiple={false}\n                    placeholder={i18next.t(\"Select language\")}\n                    labelIcon=\"\"\n                    clearable\n                    selectOnBlur={false}\n                  />\n                </Grid.Column>\n              </Grid.Row>\n            </Grid>\n          );\n        }}\n      </ArrayField>\n    );\n  }\n}\n\nAdditionalDescriptionsField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  options: PropTypes.shape({\n    type: PropTypes.arrayOf(\n      PropTypes.shape({\n        icon: PropTypes.string,\n        text: PropTypes.string,\n        value: PropTypes.string,\n      })\n    ),\n    lang: PropTypes.arrayOf(\n      PropTypes.shape({\n        text: PropTypes.string,\n        value: PropTypes.string,\n      })\n    ),\n  }).isRequired,\n  recordUI: PropTypes.object,\n  editorConfig: PropTypes.object,\n};\n\nAdditionalDescriptionsField.defaultProps = {\n  recordUI: {},\n  editorConfig: undefined,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { FieldLabel, RichInputField } from \"react-invenio-forms\";\nimport { AdditionalDescriptionsField } from \"./AdditionalDescriptionsField\";\nimport { i18next } from \"@translations/i18next\";\n\nexport class DescriptionsField extends Component {\n  render() {\n    const { fieldPath, label, labelIcon, options, editorConfig, recordUI } = this.props;\n    return (\n      <>\n        <RichInputField\n          className=\"description-field rel-mb-1\"\n          fieldPath={fieldPath}\n          editorConfig={editorConfig}\n          label={<FieldLabel htmlFor={fieldPath} icon={labelIcon} label={label} />}\n          optimized\n        />\n        <AdditionalDescriptionsField\n          recordUI={recordUI}\n          options={options}\n          editorConfig={editorConfig}\n          fieldPath=\"metadata.additional_descriptions\"\n        />\n      </>\n    );\n  }\n}\n\nDescriptionsField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  labelIcon: PropTypes.string,\n  editorConfig: PropTypes.object,\n  recordUI: PropTypes.object,\n  options: PropTypes.object.isRequired,\n};\n\nDescriptionsField.defaultProps = {\n  label: i18next.t(\"Description\"),\n  labelIcon: \"pencil\",\n  editorConfig: undefined,\n  recordUI: undefined,\n};\n","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport {\n  FILE_DELETED_SUCCESS,\n  FILE_DELETE_FAILED,\n  FILE_IMPORT_FAILED,\n  FILE_IMPORT_STARTED,\n  FILE_IMPORT_SUCCESS,\n  FILE_UPLOAD_ADDED,\n  FILE_UPLOAD_CANCELLED,\n  FILE_UPLOAD_FAILED,\n  FILE_UPLOAD_FINISHED,\n  FILE_UPLOAD_IN_PROGRESS,\n  FILE_UPLOAD_SAVE_DRAFT_FAILED,\n  FILE_UPLOAD_SET_CANCEL_FUNCTION,\n} from \"../types\";\n\nexport const UploadState = {\n  // initial: 'initial', // no file or the initial file selected\n  uploading: \"uploading\", // currently uploading a file from the UI\n  error: \"error\", // upload failed\n  finished: \"finished\", // upload finished (uploaded file is the field's current file)\n  pending: \"pending\", // files retrieved from the backend are in pending state\n};\n\nconst initialState = {};\n\nconst fileReducer = (state = initialState, action) => {\n  let newState;\n  // Filename needs to be normalised due to encoding differences between client and server.\n  const remoteFileName = action.payload?.filename?.normalize() ?? \"\";\n  switch (action.type) {\n    case FILE_UPLOAD_ADDED:\n      return {\n        ...state,\n        entries: {\n          ...state.entries,\n          [remoteFileName]: {\n            progressPercentage: 0,\n            name: remoteFileName,\n            size: 0,\n            status: UploadState.pending,\n            checksum: null,\n            links: null,\n            cancelUploadFn: null,\n          },\n        },\n        actionState: action.type,\n      };\n    case FILE_UPLOAD_IN_PROGRESS:\n      return {\n        ...state,\n        entries: {\n          ...state.entries,\n          [remoteFileName]: {\n            ...state.entries[remoteFileName],\n            progressPercentage: action.payload.percent,\n            status: UploadState.uploading,\n          },\n        },\n        isFileUploadInProgress: true,\n        actionState: action.type,\n      };\n    case FILE_UPLOAD_FINISHED:\n      newState = {\n        ...state,\n        entries: {\n          ...state.entries,\n          [remoteFileName]: {\n            ...state.entries[remoteFileName],\n            status: UploadState.finished,\n            size: action.payload.size,\n            progressPercentage: 100,\n            checksum: action.payload.checksum,\n            links: action.payload.links,\n            cancelUploadFn: null,\n          },\n        },\n      };\n      return {\n        ...newState,\n        isFileUploadInProgress: Object.values(newState.entries).some(\n          (value) => value.status === UploadState.uploading\n        ),\n        actionState: action.type,\n      };\n    case FILE_UPLOAD_SAVE_DRAFT_FAILED:\n      return {\n        ...state,\n        errors: { ...action.payload.errors },\n        actionState: action.type,\n      };\n    case FILE_UPLOAD_FAILED:\n      newState = {\n        ...state,\n        entries: {\n          ...state.entries,\n          [remoteFileName]: {\n            ...state.entries[remoteFileName],\n            status: UploadState.error,\n            cancelUploadFn: null,\n          },\n        },\n      };\n      return {\n        ...newState,\n        isFileUploadInProgress: Object.values(newState.entries).some(\n          (value) => value.status === UploadState.uploading\n        ),\n        actionState: action.type,\n      };\n    case FILE_UPLOAD_SET_CANCEL_FUNCTION:\n      return {\n        ...state,\n        entries: {\n          ...state.entries,\n          [remoteFileName]: {\n            ...state.entries[remoteFileName],\n            cancelUploadFn: action.payload.cancelUploadFn,\n          },\n        },\n        actionState: action.type,\n      };\n    case FILE_UPLOAD_CANCELLED: {\n      // eslint-disable-next-line no-unused-vars\n      const { [remoteFileName]: cancelledFile, ...afterCancellationEntriesState } =\n        state.entries;\n      return {\n        ...state,\n        entries: {\n          ...afterCancellationEntriesState,\n        },\n        isFileUploadInProgress: Object.values(afterCancellationEntriesState).some(\n          (value) => value.status === UploadState.uploading\n        ),\n        actionState: action.type,\n      };\n    }\n    case FILE_DELETED_SUCCESS: {\n      // eslint-disable-next-line no-unused-vars\n      const { [remoteFileName]: deletedFile, ...afterDeletionEntriesState } =\n        state.entries;\n      return {\n        ...state,\n        entries: { ...afterDeletionEntriesState },\n        isFileUploadInProgress: Object.values(afterDeletionEntriesState).some(\n          (value) => value.status === UploadState.uploading\n        ),\n        actionState: action.type,\n      };\n    }\n    case FILE_DELETE_FAILED:\n      return {\n        ...state,\n        actionState: action.type,\n      };\n    case FILE_IMPORT_STARTED:\n      return {\n        ...state,\n        isFileImportInProgress: true,\n        actionState: action.type,\n      };\n    case FILE_IMPORT_SUCCESS:\n      return {\n        ...state,\n        entries: { ...action.payload.files },\n        isFileImportInProgress: false,\n        actionState: action.type,\n      };\n    case FILE_IMPORT_FAILED:\n      return {\n        ...state,\n        isFileImportInProgress: false,\n        actionState: action.type,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default fileReducer;\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { useState } from \"react\";\nimport { http } from \"react-invenio-forms\";\nimport { Icon, Button, Popup } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/i18next\";\nimport PropTypes from \"prop-types\";\n\nexport const NewVersionButton = ({ onError, record, disabled, ...uiProps }) => {\n  const [loading, setLoading] = useState(false);\n\n  const handleClick = async () => {\n    setLoading(true);\n\n    try {\n      const response = await http.post(record.links.versions);\n      window.location = response.data.links.self_html;\n    } catch (error) {\n      console.error(error);\n      setLoading(false);\n      onError(error.response.data.message);\n    }\n  };\n\n  return (\n    <Popup\n      content={i18next.t(\"You don't have permissions to create a new version.\")}\n      disabled={!disabled}\n      trigger={\n        <Button\n          type=\"button\"\n          positive\n          size=\"mini\"\n          onClick={handleClick}\n          loading={loading}\n          icon\n          labelPosition=\"left\"\n          {...uiProps}\n        >\n          <Icon name=\"tag\" />\n          {i18next.t(\"New version\")}\n        </Button>\n      }\n    />\n  );\n};\n\nNewVersionButton.propTypes = {\n  onError: PropTypes.func.isRequired,\n  record: PropTypes.object.isRequired,\n  disabled: PropTypes.bool,\n};\n\nNewVersionButton.defaultProps = {\n  disabled: false,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020 Northwestern University.\n// Copyright (C) 2022 TU Wien.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport _isNumber from \"lodash/isNumber\";\n\nexport function humanReadableBytes(bytes, decimalDisplay = false) {\n  if (_isNumber(bytes)) {\n    const base = decimalDisplay ? 1000 : 1024;\n    const kiloBytes = base;\n    const megaBytes = base * kiloBytes;\n    const gigaBytes = base * megaBytes;\n\n    if (bytes < kiloBytes) {\n      return `${bytes} bytes`;\n    } else if (bytes < megaBytes) {\n      return `${(bytes / kiloBytes).toFixed(2)} ${decimalDisplay ? \"KB\" : \"KiB\"}`;\n    } else if (bytes < gigaBytes) {\n      return `${(bytes / megaBytes).toFixed(2)} ${decimalDisplay ? \"MB\" : \"MiB\"}`;\n    } else {\n      return `${(bytes / gigaBytes).toFixed(2)} ${decimalDisplay ? \"GB\" : \"GiB\"}`;\n    }\n  }\n  return \"\";\n}\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n// Copyright (C) 2021-2022 Graz University of Technology.\n// Copyright (C)      2022 TU Wien.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport { useFormikContext } from \"formik\";\nimport _get from \"lodash/get\";\nimport PropTypes from \"prop-types\";\nimport React, { Component, useState } from \"react\";\nimport Dropzone from \"react-dropzone\";\nimport {\n  Button,\n  Checkbox,\n  Grid,\n  Header,\n  Icon,\n  Popup,\n  Progress,\n  Segment,\n  Table,\n} from \"semantic-ui-react\";\nimport { humanReadableBytes } from \"./utils\";\n\nconst FileTableHeader = ({ isDraftRecord }) => (\n  <Table.Header>\n    <Table.Row>\n      <Table.HeaderCell>\n        {i18next.t(\"Preview\")}{\" \"}\n        <Popup\n          content=\"Set the default preview\"\n          trigger={<Icon fitted name=\"help circle\" size=\"small\" />}\n        />\n      </Table.HeaderCell>\n      <Table.HeaderCell>{i18next.t(\"Filename\")}</Table.HeaderCell>\n      <Table.HeaderCell>{i18next.t(\"Size\")}</Table.HeaderCell>\n      {isDraftRecord && (\n        <Table.HeaderCell textAlign=\"center\">{i18next.t(\"Progress\")}</Table.HeaderCell>\n      )}\n      {isDraftRecord && <Table.HeaderCell />}\n    </Table.Row>\n  </Table.Header>\n);\n\nFileTableHeader.propTypes = {\n  isDraftRecord: PropTypes.bool,\n};\n\nFileTableHeader.defaultProps = {\n  isDraftRecord: false,\n};\n\nconst FileTableRow = ({\n  isDraftRecord,\n  file,\n  deleteFile,\n  defaultPreview,\n  setDefaultPreview,\n  decimalSizeDisplay,\n}) => {\n  const [isCancelling, setIsCancelling] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n  const isDefaultPreview = defaultPreview === file.name;\n\n  const handleDelete = async (file) => {\n    setIsDeleting(true);\n    try {\n      await deleteFile(file);\n      if (isDefaultPreview) {\n        setDefaultPreview(\"\");\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleCancelUpload = (file) => {\n    setIsCancelling(true);\n    file.cancelUploadFn();\n  };\n\n  return (\n    <Table.Row key={file.name}>\n      <Table.Cell data-label={i18next.t(\"Default preview\")} width={2}>\n        {/* TODO: Investigate if react-deposit-forms optimized Checkbox field\n                  would be more performant */}\n        <Checkbox\n          checked={isDefaultPreview}\n          onChange={() => setDefaultPreview(isDefaultPreview ? \"\" : file.name)}\n        />\n      </Table.Cell>\n      <Table.Cell data-label={i18next.t(\"Filename\")} width={10}>\n        <div>\n          {file.uploadState.isPending ? (\n            file.name\n          ) : (\n            <a\n              href={_get(file, \"links.content\", \"\")}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"mr-5\"\n            >\n              {file.name}\n            </a>\n          )}\n          <br />\n          {file.checksum && (\n            <div className=\"ui text-muted\">\n              <span style={{ fontSize: \"10px\" }}>{file.checksum}</span>{\" \"}\n              <Popup\n                content={i18next.t(\n                  \"This is the file fingerprint (MD5 checksum), which can be used to verify the file integrity.\"\n                )}\n                trigger={<Icon fitted name=\"help circle\" size=\"small\" />}\n                position=\"top center\"\n              />\n            </div>\n          )}\n        </div>\n      </Table.Cell>\n      <Table.Cell data-label={i18next.t(\"Size\")} width={2}>\n        {file.size ? humanReadableBytes(file.size, decimalSizeDisplay) : \"\"}\n      </Table.Cell>\n      {isDraftRecord && (\n        <Table.Cell\n          className=\"file-upload-pending\"\n          data-label={i18next.t(\"Progress\")}\n          width={2}\n        >\n          {!file.uploadState?.isPending && (\n            <Progress\n              className=\"file-upload-progress primary\"\n              percent={file.progressPercentage}\n              error={file.uploadState.isFailed}\n              size=\"medium\"\n              progress\n              autoSuccess\n              active\n            />\n          )}\n          {file.uploadState?.isPending && <span>{i18next.t(\"Pending\")}</span>}\n        </Table.Cell>\n      )}\n      {isDraftRecord && (\n        <Table.Cell textAlign=\"right\" width={2}>\n          {(file.uploadState?.isFinished || file.uploadState?.isFailed) &&\n            (isDeleting ? (\n              <Icon loading name=\"spinner\" />\n            ) : (\n              <Icon\n                link\n                className=\"action primary\"\n                name=\"trash alternate outline\"\n                disabled={isDeleting}\n                onClick={() => handleDelete(file)}\n                aria-label={i18next.t(\"Delete file\")}\n                title={i18next.t(\"Delete file\")}\n              />\n            ))}\n          {file.uploadState?.isUploading && (\n            <Button\n              compact\n              type=\"button\"\n              negative\n              size=\"tiny\"\n              disabled={isCancelling}\n              onClick={() => handleCancelUpload(file)}\n            >\n              {isCancelling ? <Icon loading name=\"spinner\" /> : i18next.t(\"Cancel\")}\n            </Button>\n          )}\n        </Table.Cell>\n      )}\n    </Table.Row>\n  );\n};\n\nFileTableRow.propTypes = {\n  isDraftRecord: PropTypes.bool,\n  file: PropTypes.object,\n  deleteFile: PropTypes.func.isRequired,\n  defaultPreview: PropTypes.string,\n  setDefaultPreview: PropTypes.func.isRequired,\n  decimalSizeDisplay: PropTypes.bool,\n};\n\nFileTableRow.defaultProps = {\n  isDraftRecord: false,\n  file: undefined,\n  defaultPreview: undefined,\n  decimalSizeDisplay: false,\n};\n\nconst FileUploadBox = ({\n  isDraftRecord,\n  filesList,\n  dragText,\n  uploadButtonIcon,\n  uploadButtonText,\n  openFileDialog,\n}) =>\n  isDraftRecord && (\n    <Segment\n      basic\n      padded=\"very\"\n      className={filesList.length ? \"file-upload-area\" : \"file-upload-area no-files\"}\n    >\n      <Grid columns={3} textAlign=\"center\">\n        <Grid.Row verticalAlign=\"middle\">\n          <Grid.Column mobile={16} tablet={7} computer={7}>\n            <Header size=\"small\">{dragText}</Header>\n          </Grid.Column>\n\n          <Grid.Column className=\"mt-10 mb-10\" mobile={16} tablet={2} computer={2}>\n            - {i18next.t(\"or\")} -\n          </Grid.Column>\n\n          <Grid.Column mobile={16} tablet={7} computer={7}>\n            <Button\n              type=\"button\"\n              primary\n              labelPosition=\"left\"\n              icon={uploadButtonIcon}\n              content={uploadButtonText}\n              onClick={() => openFileDialog()}\n              disabled={openFileDialog === null}\n            />\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </Segment>\n  );\n\nFileUploadBox.propTypes = {\n  isDraftRecord: PropTypes.bool.isRequired,\n  filesList: PropTypes.array,\n  dragText: PropTypes.string,\n  uploadButtonIcon: PropTypes.node,\n  uploadButtonText: PropTypes.string,\n  openFileDialog: PropTypes.func,\n};\n\nFileUploadBox.defaultProps = {\n  filesList: undefined,\n  dragText: undefined,\n  uploadButtonIcon: undefined,\n  uploadButtonText: undefined,\n  openFileDialog: null,\n};\n\nconst FilesListTable = ({\n  isDraftRecord,\n  filesList,\n  deleteFile,\n  decimalSizeDisplay,\n}) => {\n  const { setFieldValue, values: formikDraft } = useFormikContext();\n  const defaultPreview = _get(formikDraft, \"files.default_preview\", \"\");\n  return (\n    <Table>\n      <FileTableHeader isDraftRecord={isDraftRecord} />\n      <Table.Body>\n        {filesList.map((file) => {\n          return (\n            <FileTableRow\n              key={file.name}\n              isDraftRecord={isDraftRecord}\n              file={file}\n              deleteFile={deleteFile}\n              defaultPreview={defaultPreview}\n              setDefaultPreview={(filename) =>\n                setFieldValue(\"files.default_preview\", filename)\n              }\n              decimalSizeDisplay={decimalSizeDisplay}\n            />\n          );\n        })}\n      </Table.Body>\n    </Table>\n  );\n};\n\nFilesListTable.propTypes = {\n  isDraftRecord: PropTypes.bool,\n  filesList: PropTypes.array,\n  deleteFile: PropTypes.func,\n  decimalSizeDisplay: PropTypes.bool,\n};\n\nFilesListTable.defaultProps = {\n  isDraftRecord: undefined,\n  filesList: undefined,\n  deleteFile: undefined,\n  decimalSizeDisplay: undefined,\n};\n\nexport class FileUploaderArea extends Component {\n  render() {\n    const { filesEnabled, dropzoneParams, filesList } = this.props;\n    return filesEnabled ? (\n      <Dropzone {...dropzoneParams}>\n        {({ getRootProps, getInputProps, open: openFileDialog }) => (\n          <Grid.Column width={16}>\n            <span {...getRootProps()}>\n              <input {...getInputProps()} />\n              {filesList.length !== 0 && (\n                <Grid.Column verticalAlign=\"middle\">\n                  <FilesListTable {...this.props} />\n                </Grid.Column>\n              )}\n              <FileUploadBox {...this.props} openFileDialog={openFileDialog} />\n            </span>\n          </Grid.Column>\n        )}\n      </Dropzone>\n    ) : (\n      <Grid.Column width={16}>\n        <Segment basic padded=\"very\" className=\"file-upload-area no-files\">\n          <Grid textAlign=\"center\">\n            <Grid.Row verticalAlign=\"middle\">\n              <Grid.Column>\n                <Header size=\"medium\">\n                  {i18next.t(\"This is a Metadata-only record.\")}\n                </Header>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        </Segment>\n      </Grid.Column>\n    );\n  }\n}\n\nFileUploaderArea.propTypes = {\n  deleteFile: PropTypes.func,\n  dragText: PropTypes.string,\n  dropzoneParams: PropTypes.object,\n  filesEnabled: PropTypes.bool.isRequired,\n  filesList: PropTypes.array,\n  isDraftRecord: PropTypes.bool,\n  links: PropTypes.object,\n  setDefaultPreviewFile: PropTypes.func,\n  uploadButtonIcon: PropTypes.string,\n  uploadButtonText: PropTypes.string,\n  decimalSizeDisplay: PropTypes.bool,\n};\n\nFileUploaderArea.defaultProps = {\n  deleteFile: undefined,\n  dragText: undefined,\n  dropzoneParams: undefined,\n  filesList: undefined,\n  isDraftRecord: false,\n  links: undefined,\n  setDefaultPreviewFile: undefined,\n  uploadButtonIcon: undefined,\n  uploadButtonText: undefined,\n  decimalSizeDisplay: undefined,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2021 CERN.\n// Copyright (C) 2020-2021 Northwestern University.\n// Copyright (C)      2021 Graz University of Technology.\n// Copyright (C)      2022 TU Wien.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\nimport { useFormikContext } from \"formik\";\nimport React from \"react\";\nimport { Header, Checkbox, Grid, Icon, Label, List, Popup } from \"semantic-ui-react\";\nimport { humanReadableBytes } from \"./utils\";\nimport { i18next } from \"@translations/i18next\";\nimport PropTypes from \"prop-types\";\nimport Overridable from \"react-overridable\";\n\n// NOTE: This component has to be a function component to allow\n//       the `useFormikContext` hook.\nexport const FileUploaderToolbar = (props) => {\n  const { config, filesList, filesSize, filesEnabled, quota, decimalSizeDisplay } =\n    props;\n  const { setFieldValue } = useFormikContext();\n\n  const handleOnChangeMetadataOnly = () => {\n    setFieldValue(\"files.enabled\", !filesEnabled);\n    setFieldValue(\"access.files\", \"public\");\n  };\n\n  return (\n    <>\n      <Grid.Column\n        verticalAlign=\"middle\"\n        floated=\"left\"\n        mobile={16}\n        tablet={6}\n        computer={6}\n      >\n        {config.canHaveMetadataOnlyRecords && (\n          <Overridable id=\"ReactInvenioDeposit.MetadataOnlyToggle.layout\" {...props}>\n            <List horizontal>\n              <List.Item>\n                <Checkbox\n                  label={i18next.t(\"Metadata-only record\")}\n                  onChange={handleOnChangeMetadataOnly}\n                  disabled={filesList.length > 0}\n                  checked={!filesEnabled}\n                />\n              </List.Item>\n              <List.Item>\n                <Popup\n                  trigger={<Icon name=\"question circle outline\" className=\"neutral\" />}\n                  content={i18next.t(\"Disable files for this record\")}\n                  position=\"top center\"\n                />\n              </List.Item>\n            </List>\n          </Overridable>\n        )}\n      </Grid.Column>\n      {filesEnabled && (\n        <Grid.Column mobile={16} tablet={10} computer={10} className=\"storage-col\">\n          <Header size=\"tiny\" className=\"mr-10\">\n            {i18next.t(\"Storage available\")}\n          </Header>\n          <List horizontal floated=\"right\">\n            <List.Item>\n              <Label\n                {...(filesList.length === quota.maxFiles ? { color: \"blue\" } : {})}\n              >\n                {i18next.t(`{{length}} out of {{maxfiles}} files`, {\n                  length: filesList.length,\n                  maxfiles: quota.maxFiles,\n                })}\n              </Label>\n            </List.Item>\n            <List.Item>\n              <Label\n                {...(humanReadableBytes(filesSize, decimalSizeDisplay) ===\n                humanReadableBytes(quota.maxStorage, decimalSizeDisplay)\n                  ? { color: \"blue\" }\n                  : {})}\n              >\n                {humanReadableBytes(filesSize, decimalSizeDisplay)}{\" \"}\n                {i18next.t(\"out of\")}{\" \"}\n                {humanReadableBytes(quota.maxStorage, decimalSizeDisplay)}\n              </Label>\n            </List.Item>\n          </List>\n        </Grid.Column>\n      )}\n    </>\n  );\n};\n\nFileUploaderToolbar.propTypes = {\n  config: PropTypes.object,\n  filesList: PropTypes.array,\n  filesSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  filesEnabled: PropTypes.bool.isRequired,\n  quota: PropTypes.object,\n  decimalSizeDisplay: PropTypes.bool,\n};\n\nFileUploaderToolbar.defaultProps = {\n  config: undefined,\n  filesList: undefined,\n  filesSize: undefined,\n  quota: undefined,\n  decimalSizeDisplay: false,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n// Copyright (C)      2022 Graz University of Technology.\n// Copyright (C)      2022 TU Wien.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\nimport { i18next } from \"@translations/i18next\";\nimport { useFormikContext } from \"formik\";\nimport _get from \"lodash/get\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _map from \"lodash/map\";\nimport PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\nimport { Button, Grid, Icon, Message, Modal } from \"semantic-ui-react\";\nimport { UploadState } from \"../../state/reducers/files\";\nimport { NewVersionButton } from \"../NewVersionButton\";\nimport { FileUploaderArea } from \"./FileUploaderArea\";\nimport { FileUploaderToolbar } from \"./FileUploaderToolbar\";\nimport { humanReadableBytes } from \"./utils\";\n\n// NOTE: This component has to be a function component to allow\n//       the `useFormikContext` hook.\nexport const FileUploaderComponent = ({\n  config,\n  files,\n  isDraftRecord,\n  hasParentRecord,\n  quota,\n  permissions,\n  record,\n  uploadFiles,\n  deleteFile,\n  importParentFiles,\n  importButtonIcon,\n  importButtonText,\n  isFileImportInProgress,\n  decimalSizeDisplay,\n  ...uiProps\n}) => {\n  // We extract the working copy of the draft stored as `values` in formik\n  const { values: formikDraft } = useFormikContext();\n  const filesEnabled = _get(formikDraft, \"files.enabled\", false);\n  const [warningMsg, setWarningMsg] = useState();\n\n  const filesList = Object.values(files).map((fileState) => {\n    return {\n      name: fileState.name,\n      size: fileState.size,\n      checksum: fileState.checksum,\n      links: fileState.links,\n      uploadState: {\n        // initial: fileState.status === UploadState.initial,\n        isFailed: fileState.status === UploadState.error,\n        isUploading: fileState.status === UploadState.uploading,\n        isFinished: fileState.status === UploadState.finished,\n        isPending: fileState.status === UploadState.pending,\n      },\n      progressPercentage: fileState.progressPercentage,\n      cancelUploadFn: fileState.cancelUploadFn,\n    };\n  });\n\n  const filesSize = filesList.reduce((totalSize, file) => (totalSize += file.size), 0);\n\n  const dropzoneParams = {\n    preventDropOnDocument: true,\n    onDropAccepted: (acceptedFiles) => {\n      const maxFileNumberReached =\n        filesList.length + acceptedFiles.length > quota.maxFiles;\n      const acceptedFilesSize = acceptedFiles.reduce(\n        (totalSize, file) => (totalSize += file.size),\n        0\n      );\n      const maxFileStorageReached = filesSize + acceptedFilesSize > quota.maxStorage;\n\n      const filesNames = _map(filesList, \"name\");\n      const duplicateFiles = acceptedFiles.filter((acceptedFile) =>\n        filesNames.includes(acceptedFile.name)\n      );\n\n      if (maxFileNumberReached) {\n        setWarningMsg(\n          <div className=\"content\">\n            <Message\n              warning\n              icon=\"warning circle\"\n              header=\"Could not upload files.\"\n              content={`Uploading the selected files would result in ${\n                filesList.length + acceptedFiles.length\n              } files (max.${quota.maxFiles})`}\n            />\n          </div>\n        );\n      } else if (maxFileStorageReached) {\n        setWarningMsg(\n          <div className=\"content\">\n            <Message\n              warning\n              icon=\"warning circle\"\n              header=\"Could not upload files.\"\n              content={\n                <>\n                  {i18next.t(\"Uploading the selected files would result in\")}{\" \"}\n                  {humanReadableBytes(\n                    filesSize + acceptedFilesSize,\n                    decimalSizeDisplay\n                  )}\n                  {i18next.t(\"but the limit is\")}\n                  {humanReadableBytes(quota.maxStorage, decimalSizeDisplay)}.\n                </>\n              }\n            />\n          </div>\n        );\n      } else if (!_isEmpty(duplicateFiles)) {\n        setWarningMsg(\n          <div className=\"content\">\n            <Message\n              warning\n              icon=\"warning circle\"\n              header={i18next.t(`The following files already exist`)}\n              list={_map(duplicateFiles, \"name\")}\n            />\n          </div>\n        );\n      } else {\n        uploadFiles(formikDraft, acceptedFiles);\n      }\n    },\n    multiple: true,\n    noClick: true,\n    noKeyboard: true,\n    disabled: false,\n  };\n\n  const filesLeft = filesList.length < quota.maxFiles;\n  if (!filesLeft) {\n    dropzoneParams[\"disabled\"] = true;\n  }\n\n  const displayImportBtn =\n    filesEnabled && isDraftRecord && hasParentRecord && !filesList.length;\n\n  return (\n    <>\n      <Grid>\n        <Grid.Row className=\"pt-10 pb-5\">\n          {isDraftRecord && (\n            <FileUploaderToolbar\n              {...uiProps}\n              config={config}\n              filesEnabled={filesEnabled}\n              filesList={filesList}\n              filesSize={filesSize}\n              isDraftRecord={isDraftRecord}\n              quota={quota}\n              decimalSizeDisplay={decimalSizeDisplay}\n            />\n          )}\n        </Grid.Row>\n        {displayImportBtn && (\n          <Grid.Row className=\"pb-5 pt-5\">\n            <Grid.Column width={16}>\n              <Message visible info>\n                <div style={{ display: \"inline-block\", float: \"right\" }}>\n                  <Button\n                    type=\"button\"\n                    size=\"mini\"\n                    primary\n                    icon={importButtonIcon}\n                    content={importButtonText}\n                    onClick={() => importParentFiles()}\n                    disabled={isFileImportInProgress}\n                    loading={isFileImportInProgress}\n                  />\n                </div>\n                <p style={{ marginTop: \"5px\", display: \"inline-block\" }}>\n                  <Icon name=\"info circle\" />\n                  {i18next.t(\"You can import files from the previous version.\")}\n                </p>\n              </Message>\n            </Grid.Column>\n          </Grid.Row>\n        )}\n        {filesEnabled && (\n          <Grid.Row className=\"pt-0 pb-0\">\n            <FileUploaderArea\n              {...uiProps}\n              filesList={filesList}\n              dropzoneParams={dropzoneParams}\n              isDraftRecord={isDraftRecord}\n              filesEnabled={filesEnabled}\n              deleteFile={deleteFile}\n              decimalSizeDisplay={decimalSizeDisplay}\n            />\n          </Grid.Row>\n        )}\n        {isDraftRecord ? (\n          <Grid.Row className=\"file-upload-note pt-5\">\n            <Grid.Column width={16}>\n              <Message visible warning>\n                <p>\n                  <Icon name=\"warning sign\" />\n                  {i18next.t(\n                    \"File addition, removal or modification are not allowed after you have published your upload.\"\n                  )}\n                </p>\n              </Message>\n            </Grid.Column>\n          </Grid.Row>\n        ) : (\n          <Grid.Row className=\"file-upload-note pt-5\">\n            <Grid.Column width={16}>\n              <Message info>\n                <NewVersionButton\n                  record={record}\n                  onError={() => {}}\n                  className=\"\"\n                  disabled={!permissions.can_new_version}\n                  style={{ float: \"right\" }}\n                />\n                <p style={{ marginTop: \"5px\", display: \"inline-block\" }}>\n                  <Icon name=\"info circle\" size=\"large\" />\n                  {i18next.t(\n                    \"You must create a new version to add, modify or delete files.\"\n                  )}\n                </p>\n              </Message>\n            </Grid.Column>\n          </Grid.Row>\n        )}\n      </Grid>\n      <Modal\n        open={!!warningMsg}\n        header=\"Warning!\"\n        content={warningMsg}\n        onClose={() => setWarningMsg()}\n        closeIcon\n      />\n    </>\n  );\n};\n\nconst fileDetailsShape = PropTypes.objectOf(\n  PropTypes.shape({\n    name: PropTypes.string,\n    size: PropTypes.number,\n    progressPercentage: PropTypes.number,\n    checksum: PropTypes.string,\n    links: PropTypes.object,\n    cancelUploadFn: PropTypes.func,\n    state: PropTypes.oneOf(Object.values(UploadState)),\n    enabled: PropTypes.bool,\n  })\n);\n\nFileUploaderComponent.propTypes = {\n  config: PropTypes.object,\n  dragText: PropTypes.string,\n  files: fileDetailsShape,\n  isDraftRecord: PropTypes.bool,\n  hasParentRecord: PropTypes.bool,\n  quota: PropTypes.shape({\n    maxStorage: PropTypes.number,\n    maxFiles: PropTypes.number,\n  }),\n  record: PropTypes.object,\n  uploadButtonIcon: PropTypes.string,\n  uploadButtonText: PropTypes.string,\n  importButtonIcon: PropTypes.string,\n  importButtonText: PropTypes.string,\n  isFileImportInProgress: PropTypes.bool,\n  importParentFiles: PropTypes.func.isRequired,\n  uploadFiles: PropTypes.func.isRequired,\n  deleteFile: PropTypes.func.isRequired,\n  decimalSizeDisplay: PropTypes.bool,\n  permissions: PropTypes.object,\n};\n\nFileUploaderComponent.defaultProps = {\n  permissions: undefined,\n  config: undefined,\n  files: undefined,\n  record: undefined,\n  isFileImportInProgress: false,\n  dragText: i18next.t(\"Drag and drop files\"),\n  isDraftRecord: true,\n  hasParentRecord: false,\n  quota: {\n    maxFiles: 5,\n    maxStorage: 10 ** 10,\n  },\n  uploadButtonIcon: \"upload\",\n  uploadButtonText: i18next.t(\"Upload files\"),\n  importButtonIcon: \"sync\",\n  importButtonText: i18next.t(\"Import files\"),\n  decimalSizeDisplay: true,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2021 CERN.\n// Copyright (C) 2020-2021 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { connect } from \"react-redux\";\nimport { deleteFile, importParentFiles, uploadFiles } from \"../../state/actions\";\nimport { FileUploaderComponent } from \"./FileUploader\";\n\nconst mapStateToProps = (state) => {\n  const { links, entries } = state.files;\n  return {\n    files: entries,\n    links,\n    record: state.deposit.record,\n    config: state.deposit.config,\n    permissions: state.deposit.permissions,\n    isFileImportInProgress: state.files.isFileImportInProgress,\n    hasParentRecord: Boolean(\n      state.deposit.record?.versions?.index && state.deposit.record?.versions?.index > 1\n    ),\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  uploadFiles: (draft, files) => dispatch(uploadFiles(draft, files)),\n  importParentFiles: () => dispatch(importParentFiles()),\n  deleteFile: (file) => dispatch(deleteFile(file)),\n});\n\nexport const FileUploader = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(FileUploaderComponent);\n\nexport { humanReadableBytes } from \"./utils\";\n","// This file is part of InvenioRDM\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2021 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// Invenio App RDM is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport _get from \"lodash/get\";\nimport _isObject from \"lodash/isObject\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Grid, Message } from \"semantic-ui-react\";\nimport {\n  DISCARD_PID_FAILED,\n  DRAFT_DELETE_FAILED,\n  DRAFT_HAS_VALIDATION_ERRORS,\n  DRAFT_PREVIEW_FAILED,\n  DRAFT_PUBLISH_FAILED,\n  DRAFT_PUBLISH_FAILED_WITH_VALIDATION_ERRORS,\n  DRAFT_SAVE_FAILED,\n  DRAFT_SAVE_SUCCEEDED,\n  DRAFT_SUBMIT_REVIEW_FAILED,\n  DRAFT_SUBMIT_REVIEW_FAILED_WITH_VALIDATION_ERRORS,\n  FILE_IMPORT_FAILED,\n  FILE_UPLOAD_SAVE_DRAFT_FAILED,\n  RESERVE_PID_FAILED,\n} from \"../state/types\";\nimport { leafTraverse } from \"../utils\";\nimport PropTypes from \"prop-types\";\n\nconst defaultLabels = {\n  \"files.enabled\": i18next.t(\"Files\"),\n  \"metadata.resource_type\": i18next.t(\"Resource type\"),\n  \"metadata.title\": i18next.t(\"Title\"),\n  \"metadata.additional_titles\": i18next.t(\"Additional titles\"),\n  \"metadata.publication_date\": i18next.t(\"Publication date\"),\n  \"metadata.creators\": i18next.t(\"Creators\"),\n  \"metadata.contributors\": i18next.t(\"Contributors\"),\n  \"metadata.description\": i18next.t(\"Description\"),\n  \"metadata.additional_descriptions\": i18next.t(\"Additional descriptions\"),\n  \"metadata.rights\": i18next.t(\"Licenses\"),\n  \"metadata.languages\": i18next.t(\"Languages\"),\n  \"metadata.dates\": i18next.t(\"Dates\"),\n  \"metadata.version\": i18next.t(\"Version\"),\n  \"metadata.publisher\": i18next.t(\"Publisher\"),\n  \"metadata.related_identifiers\": i18next.t(\"Related works\"),\n  \"metadata.identifiers\": i18next.t(\"Alternate identifiers\"),\n  \"access.embargo.until\": i18next.t(\"Embargo until\"),\n  \"pids.doi\": i18next.t(\"DOI\"),\n};\n\nconst ACTIONS = {\n  [DRAFT_SAVE_SUCCEEDED]: {\n    feedback: \"positive\",\n    message: i18next.t(\"Record successfully saved.\"),\n  },\n  [DRAFT_HAS_VALIDATION_ERRORS]: {\n    feedback: \"warning\",\n    message: i18next.t(\"Record saved with validation errors:\"),\n  },\n  [DRAFT_SAVE_FAILED]: {\n    feedback: \"negative\",\n    message: i18next.t(\n      \"Oops, something went wrong! The draft was not saved. Please try again. If the problem persists, contact user support.\"\n    ),\n  },\n  [DRAFT_PUBLISH_FAILED]: {\n    feedback: \"negative\",\n    message: i18next.t(\n      \"Oops, something went wrong! The draft was not published. Please try again. If the problem persists, contact user support.\"\n    ),\n  },\n  [DRAFT_PUBLISH_FAILED_WITH_VALIDATION_ERRORS]: {\n    feedback: \"negative\",\n    message: i18next.t(\n      \"The draft was not published. Record saved with validation errors:\"\n    ),\n  },\n  [DRAFT_SUBMIT_REVIEW_FAILED]: {\n    feedback: \"negative\",\n    message: i18next.t(\n      \"Oops, something went wrong! The draft was not submitted for review. Please try again. If the problem persists, contact user support.\"\n    ),\n  },\n  [DRAFT_SUBMIT_REVIEW_FAILED_WITH_VALIDATION_ERRORS]: {\n    feedback: \"negative\",\n    message: i18next.t(\n      \"The draft was not submitted for review. Record saved with validation errors:\"\n    ),\n  },\n  [DRAFT_DELETE_FAILED]: {\n    feedback: \"negative\",\n    message: i18next.t(\n      \"Oops, something went wrong! The draft was not deleted. Please try again. If the problem persists, contact user support.\"\n    ),\n  },\n  [DRAFT_PREVIEW_FAILED]: {\n    feedback: \"negative\",\n    message: i18next.t(\n      \"Oops, something went wrong! The draft cannot be previewed. Please try again. If the problem persists, contact user support.\"\n    ),\n  },\n  [RESERVE_PID_FAILED]: {\n    feedback: \"negative\",\n    message: i18next.t(\n      \"Oops, something went wrong! The identifier was not reserved. Please try again. If the problem persists, contact user support.\"\n    ),\n  },\n  [DISCARD_PID_FAILED]: {\n    feedback: \"negative\",\n    message: i18next.t(\n      \"Oops, something went wrong! The identifier was not discarded. Please try again. If the problem persists, contact user support.\"\n    ),\n  },\n  [FILE_UPLOAD_SAVE_DRAFT_FAILED]: {\n    feedback: \"negative\",\n    message: i18next.t(\n      \"Oops, something went wrong! The draft could not be saved before uploading the file. Please try again. If the problem persists, contact user support.\"\n    ),\n  },\n  [FILE_IMPORT_FAILED]: {\n    feedback: \"negative\",\n    message: i18next.t(\n      \"Oops, something went wrong! Importing files from the previous version failed. Please try again. If the problem persists, contact user support.\"\n    ),\n  },\n};\n\nclass DisconnectedFormFeedback extends Component {\n  constructor(props) {\n    super(props);\n    this.labels = {\n      ...defaultLabels,\n      ...props.labels,\n    };\n  }\n\n  /**\n   * Render error messages inline (if 1) or as list (if multiple).\n   *\n   * @param {Array<String>} messages\n   * @returns String or React node\n   */\n  renderErrorMessages(messages) {\n    const uniqueMessages = [...new Set(messages)];\n    if (uniqueMessages.length === 1) {\n      return messages[0];\n    } else {\n      return (\n        <ul>\n          {uniqueMessages.map((m) => (\n            <li key={m}>{m}</li>\n          ))}\n        </ul>\n      );\n    }\n  }\n\n  /**\n   * Return array of error messages from errorValue object.\n   *\n   * The error message(s) might be deeply nested in the errorValue e.g.\n   *\n   * errorValue = [\n   *   {\n   *     title: \"Missing value\"\n   *   }\n   * ];\n   *\n   * @param {object} errorValue\n   * @returns array of Strings (error messages)\n   */\n  toErrorMessages(errorValue) {\n    let messages = [];\n    let store = (l) => {\n      messages.push(l);\n    };\n    leafTraverse(errorValue, store);\n    return messages;\n  }\n\n  /**\n   * Return object with human readbable labels as keys and error messages as\n   * values given an errors object.\n   *\n   * @param {object} errors\n   * @returns object\n   */\n  toLabelledErrorMessages(errors) {\n    // Step 0 - Create object with collapsed 1st and 2nd level keys\n    //          e.g., {metadata: {creators: ,,,}} => {\"metadata.creators\": ...}\n    // For now, only for metadata, files and access.embargo\n    const metadata = errors.metadata || {};\n    const step0Metadata = Object.entries(metadata).map(([key, value]) => {\n      return [\"metadata.\" + key, value];\n    });\n    const files = errors.files || {};\n    const step0Files = Object.entries(files).map(([key, value]) => {\n      return [\"files.\" + key, value];\n    });\n    const access = errors.access?.embargo || {};\n    const step0Access = Object.entries(access).map(([key, value]) => {\n      return [\"access.embargo.\" + key, value];\n    });\n    const pids = errors.pids || {};\n    const step0Pids = _isObject(pids)\n      ? Object.entries(pids).map(([key, value]) => {\n          return [\"pids.\" + key, value];\n        })\n      : [[\"pids\", pids]];\n    const customFields = errors.custom_fields || {};\n    const step0CustomFields = Object.entries(customFields).map(([key, value]) => {\n      return [\"custom_fields.\" + key, value];\n    });\n    const step0 = Object.fromEntries(\n      step0Metadata\n        .concat(step0Files)\n        .concat(step0Access)\n        .concat(step0Pids)\n        .concat(step0CustomFields)\n    );\n\n    // Step 1 - Transform each error value into array of error messages\n    const step1 = Object.fromEntries(\n      Object.entries(step0).map(([key, value]) => {\n        return [key, this.toErrorMessages(value)];\n      })\n    );\n\n    // Step 2 - Group error messages by label\n    // (different error keys can map to same label e.g. title and\n    // additional_titles)\n    const labelledErrorMessages = {};\n    for (const key in step1) {\n      const label = this.labels[key] || \"Unknown field\";\n      let messages = labelledErrorMessages[label] || [];\n      labelledErrorMessages[label] = messages.concat(step1[key]);\n    }\n\n    return labelledErrorMessages;\n  }\n\n  render() {\n    const { errors: errorsProp, actionState } = this.props;\n\n    const errors = errorsProp || {};\n\n    const { feedback, message } = _get(ACTIONS, actionState, {\n      feedback: undefined,\n      message: undefined,\n    });\n\n    if (!message) {\n      // if no message to display, simply return null\n      return null;\n    }\n\n    const labelledMessages = this.toLabelledErrorMessages(errors);\n    const listErrors = Object.entries(labelledMessages).map(([label, messages]) => (\n      <Message.Item key={label}>\n        <b>{label}</b>: {this.renderErrorMessages(messages)}\n      </Message.Item>\n    ));\n\n    // errors not related to validation, following a different format {status:.., message:..}\n    const backendErrorMessage = errors.message;\n\n    return (\n      <Message\n        visible\n        positive={feedback === \"positive\"}\n        warning={feedback === \"warning\"}\n        negative={feedback === \"negative\"}\n        className=\"flashed top attached\"\n      >\n        <Grid container>\n          <Grid.Column width={15} textAlign=\"left\">\n            <strong>{backendErrorMessage || message}</strong>\n            {listErrors.length > 0 && <Message.List>{listErrors}</Message.List>}\n          </Grid.Column>\n        </Grid>\n      </Message>\n    );\n  }\n}\n\nDisconnectedFormFeedback.propTypes = {\n  errors: PropTypes.object,\n  actionState: PropTypes.string,\n  labels: PropTypes.object,\n};\n\nDisconnectedFormFeedback.defaultProps = {\n  errors: undefined,\n  actionState: undefined,\n  labels: undefined,\n};\n\nconst mapStateToProps = (state) => ({\n  actionState: state.deposit.actionState,\n  errors: state.deposit.errors,\n});\n\nexport const FormFeedback = connect(mapStateToProps, null)(DisconnectedFormFeedback);\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport _get from \"lodash/get\";\nimport { Item, Header, Radio, Label, Icon } from \"semantic-ui-react\";\nimport { withState } from \"react-searchkit\";\nimport { FastField } from \"formik\";\n\nexport const AwardResults = withState(\n  ({\n    currentResultsState: results,\n    deserializeAward,\n    deserializeFunder,\n    computeFundingContents,\n  }) => {\n    return (\n      <FastField name=\"selectedFunding\">\n        {({ form: { values, setFieldValue } }) => {\n          return (\n            <Item.Group>\n              {results.data.hits.map((award) => {\n                let funder = award?.funder;\n                const deserializedAward = deserializeAward(award);\n                const deserializedFunder = deserializeFunder(funder);\n                const funding = {\n                  award: deserializedAward,\n                  funder: deserializedFunder,\n                };\n                let { headerContent, descriptionContent, awardOrFunder } =\n                  computeFundingContents(funding);\n\n                return (\n                  <Item\n                    key={deserializedAward.id}\n                    onClick={() => setFieldValue(\"selectedFunding\", funding)}\n                    className=\"license-item\"\n                  >\n                    <Radio\n                      checked={\n                        _get(values, \"selectedFunding.award.id\") === funding.award.id\n                      }\n                      onChange={() => setFieldValue(\"selectedFunding\", funding)}\n                    />\n                    <Item.Content className=\"license-item-content\">\n                      <Header size=\"small\">\n                        {headerContent}\n                        {awardOrFunder === \"award\"\n                          ? award.number && (\n                              <Label basic size=\"mini\">\n                                {award.number}\n                              </Label>\n                            )\n                          : \"\"}\n                        {awardOrFunder === \"award\"\n                          ? award.url && (\n                              <a\n                                href={`${award.url}`}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                              >\n                                <Icon\n                                  link\n                                  name=\"external alternate\"\n                                  className=\"spaced-left\"\n                                />\n                              </a>\n                            )\n                          : \"\"}\n                      </Header>\n                      <Item.Description className=\"license-item-description\">\n                        {descriptionContent}\n                      </Item.Description>\n                    </Item.Content>\n                  </Item>\n                );\n              })}\n            </Item.Group>\n          );\n        }}\n      </FastField>\n    );\n  }\n);\n\nAwardResults.propTypes = {\n  deserializeAward: PropTypes.func.isRequired,\n  deserializeFunder: PropTypes.func.isRequired,\n  computeFundingContents: PropTypes.func.isRequired,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { Form, Header } from \"semantic-ui-react\";\nimport { TextField, RemoteSelectField } from \"react-invenio-forms\";\nimport { i18next } from \"@translations/i18next\";\nimport _isEmpty from \"lodash/isEmpty\";\n\nfunction CustomAwardForm({ deserializeFunder, selectedFunding }) {\n  function deserializeFunderToDropdown(funderItem) {\n    let funderName = null;\n    let funderPID = null;\n\n    if (funderItem.name) {\n      funderName = funderItem.name;\n    }\n\n    if (funderItem.pid) {\n      funderPID = funderItem.pid;\n    }\n\n    if (!funderName && !funderPID) {\n      return {};\n    }\n\n    return {\n      text: funderName || funderPID,\n      value: funderItem.id,\n      key: funderItem.id,\n      ...(funderName && { name: funderName }),\n      ...(funderPID && { pid: funderPID }),\n    };\n  }\n\n  function serializeFunderFromDropdown(funderDropObject) {\n    return {\n      id: funderDropObject.key,\n      ...(funderDropObject.name && { name: funderDropObject.name }),\n      ...(funderDropObject.pid && { pid: funderDropObject.pid }),\n    };\n  }\n\n  return (\n    <Form>\n      <RemoteSelectField\n        fieldPath=\"selectedFunding.funder.id\"\n        suggestionAPIUrl=\"/api/funders\"\n        suggestionAPIHeaders={{\n          Accept: \"application/vnd.inveniordm.v1+json\",\n        }}\n        placeholder={i18next.t(\"Search for a funder by name\")}\n        serializeSuggestions={(funders) => {\n          return funders.map((funder) =>\n            deserializeFunderToDropdown(deserializeFunder(funder))\n          );\n        }}\n        searchInput={{\n          autoFocus: _isEmpty(selectedFunding),\n        }}\n        label={i18next.t(\"Funder\")}\n        noQueryMessage={i18next.t(\"Search for funder...\")}\n        clearable\n        allowAdditions={false}\n        multiple={false}\n        selectOnBlur={false}\n        selectOnNavigation={false}\n        required\n        search={(options) => options}\n        onValueChange={({ formikProps }, selectedFundersArray) => {\n          if (selectedFundersArray.length === 1) {\n            const selectedFunder = selectedFundersArray[0];\n            if (selectedFunder) {\n              const deserializedFunder = serializeFunderFromDropdown(selectedFunder);\n              formikProps.form.setFieldValue(\n                \"selectedFunding.funder\",\n                deserializedFunder\n              );\n            }\n          }\n        }}\n      />\n\n      <Header as=\"h3\" size=\"small\">\n        {i18next.t(\"Award information\")} ({i18next.t(\"optional\")})\n      </Header>\n      <Form.Group widths=\"equal\">\n        <TextField\n          label={i18next.t(\"Number\")}\n          placeholder={i18next.t(\"Award number\")}\n          fieldPath=\"selectedFunding.award.number\"\n        />\n        <TextField\n          label={i18next.t(\"Title\")}\n          placeholder={i18next.t(\"Award Title\")}\n          fieldPath=\"selectedFunding.award.title\"\n        />\n        <TextField\n          label={i18next.t(\"URL\")}\n          placeholder={i18next.t(\"Award URL\")}\n          fieldPath=\"selectedFunding.award.url\"\n        />\n      </Form.Group>\n    </Form>\n  );\n}\n\nCustomAwardForm.propTypes = {\n  deserializeFunder: PropTypes.func.isRequired,\n  selectedFunding: PropTypes.object,\n};\n\nCustomAwardForm.defaultProps = {\n  selectedFunding: undefined,\n};\n\nexport default CustomAwardForm;\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2022 CERN.\n// Copyright (C) 2021 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React from \"react\";\n\nimport { Dropdown } from \"semantic-ui-react\";\nimport { withState } from \"react-searchkit\";\nimport { i18next } from \"@translations/i18next\";\n\nexport const FunderDropdown = withState(\n  ({ currentResultsState: awardsList, updateQueryState, currentQueryState }) => {\n    const [fundersFromFacets] = useFundersFromFacets(awardsList);\n\n    /**\n     * Trigger on funder selection.\n     * Updated the query state to filter by the selected funder.\n     *\n     * @param {*} event\n     * @param {*} data\n     */\n    function onFunderSelect(event, data) {\n      let newFilter = [];\n\n      if (data && data.value !== \"\") {\n        newFilter = [\"funders\", data.value];\n      }\n      updateQueryState({ ...currentQueryState, filters: newFilter, page: 1 });\n    }\n\n    /**\n     * Custom hook, triggered when the awards list changes.\n     * It retrieves funders from new award's facets.\n     *\n     * @param {object} awards\n     *\n     * @returns {object[]} an array of objects, each representing a facetted funder.\n     */\n    function useFundersFromFacets(awards) {\n      const [result, setResult] = React.useState([]);\n      React.useEffect(() => {\n        /**\n         * Retrieves funders from awards facets and sets the result in state 'result'.\n         */\n        function getFundersFromAwardsFacet() {\n          if (awards.loading) {\n            setResult([]);\n            return;\n          }\n\n          const funders = awards.data.aggregations?.funders?.buckets.map((agg) => {\n            return {\n              key: agg.key,\n              value: agg.key,\n              text: agg.label,\n            };\n          });\n          setResult(funders);\n        }\n\n        getFundersFromAwardsFacet();\n      }, [awards]);\n\n      return [result];\n    }\n\n    return (\n      <Dropdown\n        placeholder={i18next.t(\"Funder\")}\n        search\n        selection\n        clearable\n        scrolling\n        multiple={false}\n        options={fundersFromFacets || []}\n        allowAdditions={false}\n        onChange={onFunderSelect}\n        fluid\n        selectOnBlur={false}\n        selectOnNavigation={false}\n      />\n    );\n  }\n);\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { Segment } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/i18next\";\n\nexport function NoAwardResults({ switchToCustom }) {\n  return (\n    <Segment\n      basic\n      content={\n        <p>\n          {i18next.t(\"Did not find your award? \")}\n          <a\n            href=\"/\"\n            onClick={(e) => {\n              e.preventDefault();\n              switchToCustom();\n            }}\n          >\n            {i18next.t(\"Add a custom award.\")}\n          </a>\n        </p>\n      }\n    />\n  );\n}\n\nNoAwardResults.propTypes = {\n  switchToCustom: PropTypes.func.isRequired,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021-2022 CERN.\n// Copyright (C) 2021 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport { Formik } from \"formik\";\nimport PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\nimport {\n  EmptyResults,\n  Error,\n  InvenioSearchApi,\n  Pagination,\n  ReactSearchKit,\n  ResultsLoader,\n  SearchBar,\n} from \"react-searchkit\";\nimport { Grid, Modal, Container, Button } from \"semantic-ui-react\";\nimport * as Yup from \"yup\";\nimport { AwardResults } from \"./AwardResults\";\nimport CustomAwardForm from \"./CustomAwardForm\";\nimport { FunderDropdown } from \"./FunderDropdown\";\nimport { NoAwardResults } from \"./NoAwardResults\";\n\nconst ModalTypes = {\n  STANDARD: \"standard\",\n  CUSTOM: \"custom\",\n};\n\nconst ModalActions = {\n  ADD: \"add\",\n  EDIT: \"edit\",\n};\n\nconst StandardSchema = Yup.object().shape({\n  selectedFunding: Yup.object().shape({\n    funder: Yup.object().shape({\n      id: Yup.string().required(),\n    }),\n    award: Yup.object().shape({\n      id: Yup.string().required(),\n    }),\n  }),\n});\n\nconst CustomFundingSchema = Yup.object().shape({\n  selectedFunding: Yup.object().shape({\n    funder: Yup.object().shape({\n      id: Yup.string().required(i18next.t(\"Funder is required.\")),\n    }),\n    award: Yup.object().shape({\n      title: Yup.string().test({\n        name: \"testTitle\",\n        message: i18next.t(\"Title must be set alongside number.\"),\n        test: function testTitle(value) {\n          const { number } = this.parent;\n\n          if (number && !value) {\n            return false;\n          }\n\n          return true;\n        },\n      }),\n      number: Yup.string().test({\n        name: \"testNumber\",\n        message: i18next.t(\"Number must be set alongside title.\"),\n        test: function testNumber(value) {\n          const { title } = this.parent;\n\n          if (title && !value) {\n            return false;\n          }\n\n          return true;\n        },\n      }),\n      url: Yup.string()\n        .url(i18next.t(\"URL must be valid.\"))\n        .test({\n          name: \"validateUrlDependencies\",\n          message: i18next.t(\"URL must be set alongside title and number.\"),\n          test: function testUrl(value) {\n            const { title, number } = this.parent;\n\n            if (value && value !== \"\" && !title && !number) {\n              return false;\n            }\n\n            return true;\n          },\n        }),\n    }),\n  }),\n});\n\nfunction FundingModal({\n  action,\n  mode: initialMode,\n  trigger,\n  onAwardChange,\n  searchConfig,\n  deserializeAward,\n  deserializeFunder,\n  computeFundingContents,\n  ...props\n}) {\n  const [open, setOpen] = useState(false);\n  const [mode, setMode] = useState(initialMode);\n  const openModal = () => setOpen(true);\n  const closeModal = () => {\n    setMode(initialMode);\n    setOpen(false);\n  };\n  const onSubmit = (values, formikBag) => {\n    formikBag.setSubmitting(false);\n    formikBag.resetForm();\n    setMode(initialMode);\n    closeModal();\n    onAwardChange(values.selectedFunding);\n  };\n\n  const searchApi = new InvenioSearchApi(searchConfig.searchApi);\n  const customObject = mode === ModalTypes.CUSTOM ? props.initialFunding : {};\n  const initialFunding = {\n    selectedFunding: action === ModalActions.EDIT ? customObject : {},\n  };\n\n  const FundingSchema =\n    mode === ModalTypes.CUSTOM ? CustomFundingSchema : StandardSchema;\n\n  return (\n    <Formik\n      initialValues={initialFunding}\n      onSubmit={onSubmit}\n      validationSchema={FundingSchema}\n      validateOnChange={false}\n      validateOnBlur={false}\n      enableReinitialize\n    >\n      {({ values, resetForm, handleSubmit }) => (\n        <Modal\n          role=\"dialog\"\n          centered={false}\n          onOpen={openModal}\n          open={open}\n          trigger={React.cloneElement(trigger, {\n            \"aria-expanded\": open,\n            \"aria-haspopup\": \"dialog\",\n          })}\n          onClose={closeModal}\n          closeIcon\n          closeOnDimmerClick={false}\n        >\n          <Modal.Header as=\"h2\" className=\"pt-10 pb-10\">\n            {mode === \"standard\"\n              ? i18next.t(\"Add standard award\")\n              : i18next.t(\"Add custom award\")}\n          </Modal.Header>\n          <Modal.Content>\n            {mode === ModalTypes.STANDARD && (\n              <ReactSearchKit\n                searchApi={searchApi}\n                appName=\"awards\"\n                urlHandlerApi={{ enabled: false }}\n                initialQueryState={searchConfig.initialQueryState}\n              >\n                <Grid className=\"m-0\">\n                  <Grid.Row>\n                    <Grid.Column width={11} floated=\"left\" verticalAlign=\"middle\">\n                      <SearchBar\n                        placeholder={i18next.t(\"Search for awards\")}\n                        autofocus\n                        actionProps={{\n                          icon: \"search\",\n                          content: null,\n                          className: \"search\",\n                        }}\n                      />\n                    </Grid.Column>\n                    <Grid.Column width={5} floated=\"right\" textAlign=\"right\">\n                      <FunderDropdown />\n                    </Grid.Column>\n                  </Grid.Row>\n\n                  <Grid.Column width={16} className=\"pb-0\">\n                    <ResultsLoader>\n                      <EmptyResults />\n                      <Error />\n                      <AwardResults\n                        deserializeAward={deserializeAward}\n                        deserializeFunder={deserializeFunder}\n                        computeFundingContents={computeFundingContents}\n                      />\n                    </ResultsLoader>\n                    <Container textAlign=\"center\" className=\"rel-mb-1\">\n                      <Pagination />\n                    </Container>\n                  </Grid.Column>\n\n                  <Grid.Column width={16} textAlign=\"center\" className=\"pt-0 pb-0\">\n                    <NoAwardResults\n                      switchToCustom={() => {\n                        resetForm();\n                        setMode(ModalTypes.CUSTOM);\n                      }}\n                    />\n                  </Grid.Column>\n                </Grid>\n              </ReactSearchKit>\n            )}\n            {mode === ModalTypes.CUSTOM && (\n              <CustomAwardForm\n                deserializeFunder={deserializeFunder}\n                selectedFunding={values.selectedFunding}\n              />\n            )}\n          </Modal.Content>\n          <Modal.Actions>\n            <Button\n              onClick={() => {\n                resetForm();\n                closeModal();\n              }}\n              icon=\"remove\"\n              content={i18next.t(\"Cancel\")}\n              floated=\"left\"\n            />\n            <Button\n              onClick={(event) => handleSubmit(event)}\n              primary\n              icon=\"checkmark\"\n              content={\n                action === ModalActions.ADD\n                  ? i18next.t(\"Add award\")\n                  : i18next.t(\"Change award\")\n              }\n            />\n          </Modal.Actions>\n        </Modal>\n      )}\n    </Formik>\n  );\n}\n\nFundingModal.propTypes = {\n  mode: PropTypes.oneOf([\"standard\", \"custom\"]).isRequired,\n  action: PropTypes.oneOf([\"add\", \"edit\"]).isRequired,\n  trigger: PropTypes.object.isRequired,\n  onAwardChange: PropTypes.func.isRequired,\n  searchConfig: PropTypes.shape({\n    searchApi: PropTypes.shape({\n      axios: PropTypes.shape({\n        headers: PropTypes.object,\n      }),\n    }).isRequired,\n    initialQueryState: PropTypes.object.isRequired,\n  }).isRequired,\n  deserializeAward: PropTypes.func.isRequired,\n  deserializeFunder: PropTypes.func.isRequired,\n  computeFundingContents: PropTypes.func.isRequired,\n  initialFunding: PropTypes.object,\n};\n\nFundingModal.defaultProps = {\n  initialFunding: undefined,\n};\n\nexport default FundingModal;\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport React from \"react\";\nimport { useDrag, useDrop } from \"react-dnd\";\nimport { Button, Icon, Label, List, Ref } from \"semantic-ui-react\";\n\nimport FundingModal from \"./FundingModal\";\nimport PropTypes from \"prop-types\";\n\nexport const FundingFieldItem = ({\n  compKey,\n  index,\n  fundingItem,\n  awardType,\n  moveFunding,\n  replaceFunding,\n  removeFunding,\n  searchConfig,\n  deserializeAward,\n  deserializeFunder,\n  computeFundingContents,\n}) => {\n  const dropRef = React.useRef(null);\n  // eslint-disable-next-line no-unused-vars\n  const [_, drag, preview] = useDrag({\n    item: { index, type: \"award\" },\n  });\n  const [{ hidden }, drop] = useDrop({\n    accept: \"award\",\n    hover(item, monitor) {\n      if (!dropRef.current) {\n        return;\n      }\n      const dragIndex = item.index;\n      const hoverIndex = index;\n\n      // Don't replace items with themselves\n      if (dragIndex === hoverIndex) {\n        return;\n      }\n\n      if (monitor.isOver({ shallow: true })) {\n        moveFunding(dragIndex, hoverIndex);\n        item.index = hoverIndex;\n      }\n    },\n    collect: (monitor) => ({\n      hidden: monitor.isOver({ shallow: true }),\n    }),\n  });\n\n  let { headerContent, descriptionContent, awardOrFunder } =\n    computeFundingContents(fundingItem);\n\n  // Initialize the ref explicitely\n  drop(dropRef);\n  return (\n    <Ref innerRef={dropRef} key={compKey}>\n      <List.Item\n        key={compKey}\n        className={hidden ? \"deposit-drag-listitem hidden\" : \"deposit-drag-listitem\"}\n      >\n        <List.Content floated=\"right\">\n          <FundingModal\n            searchConfig={searchConfig}\n            onAwardChange={(selectedFunding) => {\n              replaceFunding(index, selectedFunding);\n            }}\n            mode={awardType}\n            action=\"edit\"\n            trigger={\n              <Button size=\"mini\" primary type=\"button\">\n                {i18next.t(\"Edit\")}\n              </Button>\n            }\n            deserializeAward={deserializeAward}\n            deserializeFunder={deserializeFunder}\n            computeFundingContents={computeFundingContents}\n            initialFunding={fundingItem}\n          />\n          <Button size=\"mini\" type=\"button\" onClick={() => removeFunding(index)}>\n            {i18next.t(\"Remove\")}\n          </Button>\n        </List.Content>\n\n        <Ref innerRef={drag}>\n          <List.Icon name=\"bars\" className=\"drag-anchor\" />\n        </Ref>\n        <Ref innerRef={preview}>\n          <List.Content>\n            <List.Header>\n              <>\n                <span className=\"mr-5\">{headerContent}</span>\n\n                {awardOrFunder === \"award\"\n                  ? fundingItem?.award?.number && (\n                      <Label basic size=\"mini\" className=\"mr-5\">\n                        {fundingItem.award.number}\n                      </Label>\n                    )\n                  : \"\"}\n                {awardOrFunder === \"award\"\n                  ? fundingItem?.award?.url && (\n                      <a\n                        href={`${fundingItem.award.url}`}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        aria-label={i18next.t(\"Open external link\")}\n                      >\n                        <Icon link name=\"external alternate\" />\n                      </a>\n                    )\n                  : \"\"}\n              </>\n            </List.Header>\n            <List.Description>\n              {descriptionContent ? descriptionContent : <br />}\n            </List.Description>\n          </List.Content>\n        </Ref>\n      </List.Item>\n    </Ref>\n  );\n};\n\nFundingFieldItem.propTypes = {\n  compKey: PropTypes.any,\n  index: PropTypes.number,\n  fundingItem: PropTypes.object,\n  awardType: PropTypes.string,\n  moveFunding: PropTypes.func.isRequired,\n  replaceFunding: PropTypes.func.isRequired,\n  removeFunding: PropTypes.func.isRequired,\n  searchConfig: PropTypes.object.isRequired,\n  deserializeAward: PropTypes.func.isRequired,\n  deserializeFunder: PropTypes.func.isRequired,\n  computeFundingContents: PropTypes.func.isRequired,\n};\n\nFundingFieldItem.defaultProps = {\n  compKey: undefined,\n  index: undefined,\n  fundingItem: undefined,\n  awardType: undefined,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { FieldArray, getIn } from \"formik\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { DndProvider } from \"react-dnd\";\nimport { Button, Form, Icon, List } from \"semantic-ui-react\";\nimport { FieldLabel } from \"react-invenio-forms\";\n\nimport { FundingFieldItem } from \"./FundingFieldItem\";\nimport FundingModal from \"./FundingModal\";\n\nimport { i18next } from \"@translations/i18next\";\n\nfunction FundingFieldForm(props) {\n  const {\n    label,\n    labelIcon,\n    fieldPath,\n    form: { values },\n    move: formikArrayMove,\n    push: formikArrayPush,\n    remove: formikArrayRemove,\n    replace: formikArrayReplace,\n    required,\n    deserializeAward: deserializeAwardFunc,\n    deserializeFunder: deserializeFunderFunc,\n    computeFundingContents: computeFundingContentsFunc,\n    searchConfig,\n  } = props;\n\n  const deserializeAward = deserializeAwardFunc\n    ? deserializeAwardFunc\n    : (award) => ({\n        title: award?.title_l10n,\n        number: award.number,\n        funder: award.funder ?? \"\",\n        id: award.id,\n        ...(award.identifiers && { identifiers: award.identifiers }),\n        ...(award.acronym && { acronym: award.acronym }),\n      });\n\n  const deserializeFunder = deserializeFunderFunc\n    ? deserializeFunderFunc\n    : (funder) => ({\n        id: funder.id,\n        name: funder.name,\n        ...(funder.pid && { pid: funder.pid }),\n        ...(funder.country && { country: funder.country }),\n        ...(funder.identifiers && { identifiers: funder.identifiers }),\n      });\n\n  const computeFundingContents = computeFundingContentsFunc\n    ? computeFundingContentsFunc\n    : (funding) => {\n        let headerContent,\n          descriptionContent = \"\";\n        let awardOrFunder = \"award\";\n        if (funding.award) {\n          headerContent = funding.award.title;\n        }\n\n        if (funding.funder) {\n          const funderName =\n            funding?.funder?.name ?? funding.funder?.title ?? funding?.funder?.id ?? \"\";\n          descriptionContent = funderName;\n          if (!headerContent) {\n            awardOrFunder = \"funder\";\n            headerContent = funderName;\n            descriptionContent = \"\";\n          }\n        }\n\n        return { headerContent, descriptionContent, awardOrFunder };\n      };\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <Form.Field required={required}>\n        <FieldLabel htmlFor={fieldPath} icon={labelIcon} label={label} />\n        <List>\n          {getIn(values, fieldPath, []).map((value, index) => {\n            const key = `${fieldPath}.${index}`;\n            // if award does not exist or has no id, it's a custom one\n            const awardType = value?.award?.id ? \"standard\" : \"custom\";\n            return (\n              <FundingFieldItem\n                key={key}\n                {...{\n                  index,\n                  compKey: key,\n                  fundingItem: value,\n                  awardType,\n                  moveFunding: formikArrayMove,\n                  replaceFunding: formikArrayReplace,\n                  removeFunding: formikArrayRemove,\n                  searchConfig: searchConfig,\n                  computeFundingContents: computeFundingContents,\n                  deserializeAward: deserializeAward,\n                  deserializeFunder: deserializeFunder,\n                }}\n              />\n            );\n          })}\n          <FundingModal\n            searchConfig={searchConfig}\n            trigger={\n              <Button\n                type=\"button\"\n                key=\"custom\"\n                icon\n                labelPosition=\"left\"\n                className=\"mb-5\"\n              >\n                <Icon name=\"add\" />\n                {i18next.t(\"Add award\")}\n              </Button>\n            }\n            onAwardChange={(selectedFunding) => {\n              formikArrayPush(selectedFunding);\n            }}\n            mode=\"standard\"\n            action=\"add\"\n            deserializeAward={deserializeAward}\n            deserializeFunder={deserializeFunder}\n            computeFundingContents={computeFundingContents}\n          />\n          <FundingModal\n            searchConfig={searchConfig}\n            trigger={\n              <Button type=\"button\" key=\"custom\" icon labelPosition=\"left\">\n                <Icon name=\"add\" />\n                {i18next.t(\"Add custom\")}\n              </Button>\n            }\n            onAwardChange={(selectedFunding) => {\n              formikArrayPush(selectedFunding);\n            }}\n            mode=\"custom\"\n            action=\"add\"\n            deserializeAward={deserializeAward}\n            deserializeFunder={deserializeFunder}\n            computeFundingContents={computeFundingContents}\n          />\n        </List>\n      </Form.Field>\n    </DndProvider>\n  );\n}\n\nFundingFieldForm.propTypes = {\n  label: PropTypes.node,\n  labelIcon: PropTypes.node,\n  fieldPath: PropTypes.string.isRequired,\n  form: PropTypes.object,\n  move: PropTypes.func,\n  push: PropTypes.func,\n  remove: PropTypes.func,\n  replace: PropTypes.func,\n  required: PropTypes.bool,\n  deserializeAward: PropTypes.func,\n  deserializeFunder: PropTypes.func,\n  computeFundingContents: PropTypes.func,\n  searchConfig: PropTypes.object,\n};\n\nFundingFieldForm.defaultProps = {\n  label: undefined,\n  labelIcon: undefined,\n  form: undefined,\n  move: undefined,\n  push: undefined,\n  remove: undefined,\n  replace: undefined,\n  required: undefined,\n  deserializeAward: undefined,\n  deserializeFunder: undefined,\n  computeFundingContents: undefined,\n  searchConfig: undefined,\n};\n\nexport function FundingField(props) {\n  const { fieldPath } = props;\n  return (\n    <FieldArray\n      name={fieldPath}\n      component={(formikProps) => <FundingFieldForm {...formikProps} {...props} />}\n    />\n  );\n}\n\nFundingField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  labelIcon: PropTypes.string,\n  searchConfig: PropTypes.object.isRequired,\n  required: PropTypes.bool,\n  deserializeAward: PropTypes.func,\n  deserializeFunder: PropTypes.func,\n  computeFundingContents: PropTypes.func,\n};\n\nFundingField.defaultProps = {\n  label: \"Awards\",\n  labelIcon: \"money bill alternate outline\",\n  required: false,\n  deserializeAward: undefined,\n  deserializeFunder: undefined,\n  computeFundingContents: undefined,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport {\n  ArrayField,\n  FieldLabel,\n  GroupField,\n  SelectField,\n  TextField,\n} from \"react-invenio-forms\";\nimport { Button, Form } from \"semantic-ui-react\";\nimport { i18next } from \"@translations/i18next\";\nimport { emptyIdentifier } from \"../../record\";\n\n/** Identifiers array component */\nexport class IdentifiersField extends Component {\n  render() {\n    const { fieldPath, label, labelIcon, required, schemeOptions, showEmptyValue } =\n      this.props;\n    return (\n      <ArrayField\n        addButtonLabel={i18next.t(\"Add identifier\")}\n        defaultNewValue={emptyIdentifier}\n        fieldPath={fieldPath}\n        label={<FieldLabel htmlFor={fieldPath} icon={labelIcon} label={label} />}\n        required={required}\n        showEmptyValue={showEmptyValue}\n      >\n        {({ arrayHelpers, indexPath }) => {\n          const fieldPathPrefix = `${fieldPath}.${indexPath}`;\n          return (\n            <GroupField>\n              <TextField\n                fieldPath={`${fieldPathPrefix}.identifier`}\n                label={i18next.t(\"Identifier\")}\n                required\n                width={11}\n              />\n              {schemeOptions && (\n                <SelectField\n                  fieldPath={`${fieldPathPrefix}.scheme`}\n                  label={i18next.t(\"Scheme\")}\n                  options={schemeOptions}\n                  optimized\n                  required\n                  width={5}\n                />\n              )}\n              {!schemeOptions && (\n                <TextField\n                  fieldPath={`${fieldPathPrefix}.scheme`}\n                  label={i18next.t(\"Scheme\")}\n                  required\n                  width={5}\n                />\n              )}\n              <Form.Field>\n                <Button\n                  aria-label={i18next.t(\"Remove field\")}\n                  className=\"close-btn\"\n                  icon=\"close\"\n                  onClick={() => arrayHelpers.remove(indexPath)}\n                />\n              </Form.Field>\n            </GroupField>\n          );\n        }}\n      </ArrayField>\n    );\n  }\n}\n\nIdentifiersField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  labelIcon: PropTypes.string,\n  required: PropTypes.bool,\n  schemeOptions: PropTypes.arrayOf(\n    PropTypes.shape({\n      text: PropTypes.string,\n      value: PropTypes.string,\n    })\n  ),\n  showEmptyValue: PropTypes.bool,\n};\n\nIdentifiersField.defaultProps = {\n  label: i18next.t(\"Identifiers\"),\n  labelIcon: \"barcode\",\n  required: false,\n  schemeOptions: undefined,\n  showEmptyValue: false,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021-2022 CERN.\n// Copyright (C) 2021-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport { FastField, Field, getIn } from \"formik\";\nimport _debounce from \"lodash/debounce\";\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { FieldLabel } from \"react-invenio-forms\";\nimport { connect } from \"react-redux\";\nimport { Form, Popup, Radio } from \"semantic-ui-react\";\nimport {\n  DepositFormSubmitActions,\n  DepositFormSubmitContext,\n} from \"../../DepositFormSubmitContext\";\nimport { DISCARD_PID_STARTED, RESERVE_PID_STARTED } from \"../../state/types\";\n\nconst PROVIDER_EXTERNAL = \"external\";\nconst UPDATE_PID_DEBOUNCE_MS = 200;\n\nconst getFieldErrors = (form, fieldPath) => {\n  return (\n    getIn(form.errors, fieldPath, null) || getIn(form.initialErrors, fieldPath, null)\n  );\n};\n\n/**\n * Button component to reserve a PID.\n */\nclass ReservePIDBtn extends Component {\n  render() {\n    const { disabled, handleReservePID, label, loading } = this.props;\n    return (\n      <Field>\n        {({ form: formik }) => (\n          <Form.Button\n            className=\"positive\"\n            size=\"mini\"\n            loading={loading}\n            disabled={disabled || loading}\n            onClick={(e) => handleReservePID(e, formik)}\n            content={label}\n          />\n        )}\n      </Field>\n    );\n  }\n}\n\nReservePIDBtn.propTypes = {\n  disabled: PropTypes.bool,\n  handleReservePID: PropTypes.func.isRequired,\n  label: PropTypes.string.isRequired,\n  loading: PropTypes.bool,\n};\n\nReservePIDBtn.defaultProps = {\n  disabled: false,\n  loading: false,\n};\n\n/**\n * Button component to unreserve a PID.\n */\nclass UnreservePIDBtn extends Component {\n  render() {\n    const { disabled, handleDiscardPID, label, loading } = this.props;\n    return (\n      <Popup\n        content={label}\n        trigger={\n          <Field>\n            {({ form: formik }) => (\n              <Form.Button\n                disabled={disabled || loading}\n                loading={loading}\n                icon=\"close\"\n                onClick={(e) => handleDiscardPID(e, formik)}\n                size=\"mini\"\n              />\n            )}\n          </Field>\n        }\n      />\n    );\n  }\n}\n\nUnreservePIDBtn.propTypes = {\n  disabled: PropTypes.bool,\n  handleDiscardPID: PropTypes.func.isRequired,\n  label: PropTypes.string.isRequired,\n  loading: PropTypes.bool,\n};\n\nUnreservePIDBtn.defaultProps = {\n  disabled: false,\n  loading: false,\n};\n\n/**\n * Manage radio buttons choices between managed\n * and unmanaged PID.\n */\nclass ManagedUnmanagedSwitch extends Component {\n  handleChange = (e, { value }) => {\n    const { onManagedUnmanagedChange } = this.props;\n    const isManagedSelected = value === \"managed\";\n    onManagedUnmanagedChange(isManagedSelected);\n  };\n\n  render() {\n    const { disabled, isManagedSelected, pidLabel } = this.props;\n\n    return (\n      <Form.Group inline>\n        <Form.Field>\n          {i18next.t(\"Do you already have a {{pidLabel}} for this upload?\", {\n            pidLabel: pidLabel,\n          })}\n        </Form.Field>\n        <Form.Field width={2}>\n          <Radio\n            label={i18next.t(\"Yes\")}\n            name=\"radioGroup\"\n            value=\"unmanaged\"\n            disabled={disabled}\n            checked={!isManagedSelected}\n            onChange={this.handleChange}\n          />\n        </Form.Field>\n        <Form.Field width={2}>\n          <Radio\n            label={i18next.t(\"No\")}\n            name=\"radioGroup\"\n            value=\"managed\"\n            disabled={disabled}\n            checked={isManagedSelected}\n            onChange={this.handleChange}\n          />\n        </Form.Field>\n      </Form.Group>\n    );\n  }\n}\n\nManagedUnmanagedSwitch.propTypes = {\n  disabled: PropTypes.bool,\n  isManagedSelected: PropTypes.bool.isRequired,\n  onManagedUnmanagedChange: PropTypes.func.isRequired,\n  pidLabel: PropTypes.string,\n};\n\nManagedUnmanagedSwitch.defaultProps = {\n  disabled: false,\n  pidLabel: undefined,\n};\n\n/**\n * Render identifier field and reserve/unreserve\n * button components for managed PID.\n */\nclass ManagedIdentifierComponent extends Component {\n  static contextType = DepositFormSubmitContext;\n\n  handleReservePID = (event, formik) => {\n    const { pidType } = this.props;\n    const { setSubmitContext } = this.context;\n    setSubmitContext(DepositFormSubmitActions.RESERVE_PID, {\n      pidType: pidType,\n    });\n    formik.handleSubmit(event);\n  };\n\n  handleDiscardPID = (event, formik) => {\n    const { pidType } = this.props;\n    const { setSubmitContext } = this.context;\n    setSubmitContext(DepositFormSubmitActions.DISCARD_PID, {\n      pidType: pidType,\n    });\n    formik.handleSubmit(event);\n  };\n\n  render() {\n    const {\n      actionState,\n      actionStateExtra,\n      btnLabelDiscardPID,\n      btnLabelGetPID,\n      disabled,\n      helpText,\n      identifier,\n      pidPlaceholder,\n      pidType,\n    } = this.props;\n    const hasIdentifier = identifier !== \"\";\n\n    const ReserveBtn = (\n      <ReservePIDBtn\n        disabled={disabled || hasIdentifier}\n        label={btnLabelGetPID}\n        loading={\n          actionState === RESERVE_PID_STARTED && actionStateExtra.pidType === pidType\n        }\n        handleReservePID={this.handleReservePID}\n      />\n    );\n\n    const UnreserveBtn = (\n      <UnreservePIDBtn\n        disabled={disabled}\n        label={btnLabelDiscardPID}\n        handleDiscardPID={this.handleDiscardPID}\n        loading={\n          actionState === DISCARD_PID_STARTED && actionStateExtra.pidType === pidType\n        }\n        pidType={pidType}\n      />\n    );\n\n    return (\n      <>\n        <Form.Group inline>\n          {hasIdentifier ? (\n            <Form.Field>\n              <label>{identifier}</label>\n            </Form.Field>\n          ) : (\n            <Form.Field width={4}>\n              <Form.Input disabled value=\"\" placeholder={pidPlaceholder} width={16} />\n            </Form.Field>\n          )}\n\n          <Form.Field>{identifier ? UnreserveBtn : ReserveBtn}</Form.Field>\n        </Form.Group>\n        {helpText && <label className=\"helptext\">{helpText}</label>}\n      </>\n    );\n  }\n}\n\nManagedIdentifierComponent.propTypes = {\n  btnLabelGetPID: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  helpText: PropTypes.string,\n  identifier: PropTypes.string.isRequired,\n  btnLabelDiscardPID: PropTypes.string.isRequired,\n  pidPlaceholder: PropTypes.string.isRequired,\n  pidType: PropTypes.string.isRequired,\n  /* from Redux */\n  actionState: PropTypes.string,\n  actionStateExtra: PropTypes.object,\n};\n\nManagedIdentifierComponent.defaultProps = {\n  disabled: false,\n  helpText: null,\n  /* from Redux */\n  actionState: \"\",\n  actionStateExtra: {},\n};\n\nconst mapStateToProps = (state) => ({\n  actionState: state.deposit.actionState,\n  actionStateExtra: state.deposit.actionStateExtra,\n});\n\nconst ManagedIdentifierCmp = connect(mapStateToProps, null)(ManagedIdentifierComponent);\n\n/**\n * Render identifier field to allow user to input\n * the unmanaged PID.\n */\nclass UnmanagedIdentifierCmp extends Component {\n  constructor(props) {\n    super(props);\n\n    const { identifier } = props;\n\n    this.state = {\n      localIdentifier: identifier,\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    // called after the form field is updated and therefore re-rendered.\n    const { identifier } = this.props;\n    if (identifier !== prevProps.identifier) {\n      this.setState({ localIdentifier: identifier });\n    }\n  }\n\n  onChange = (value) => {\n    const { onIdentifierChanged } = this.props;\n    this.setState({ localIdentifier: value }, () => onIdentifierChanged(value));\n  };\n\n  render() {\n    const { localIdentifier } = this.state;\n    const { form, fieldPath, helpText, pidPlaceholder } = this.props;\n    const fieldError = getFieldErrors(form, fieldPath);\n    return (\n      <>\n        <Form.Field width={8} error={fieldError}>\n          <Form.Input\n            onChange={(e, { value }) => this.onChange(value)}\n            value={localIdentifier}\n            placeholder={pidPlaceholder}\n            width={16}\n            error={fieldError}\n          />\n        </Form.Field>\n        {helpText && <label className=\"helptext\">{helpText}</label>}\n      </>\n    );\n  }\n}\n\nUnmanagedIdentifierCmp.propTypes = {\n  form: PropTypes.object.isRequired,\n  fieldPath: PropTypes.string.isRequired,\n  helpText: PropTypes.string,\n  identifier: PropTypes.string.isRequired,\n  onIdentifierChanged: PropTypes.func.isRequired,\n  pidPlaceholder: PropTypes.string.isRequired,\n};\n\nUnmanagedIdentifierCmp.defaultProps = {\n  helpText: null,\n};\n\n/**\n * Render managed or unamanged PID fields and update\n * Formik form on input changed.\n * The field value has the following format:\n * { 'doi': { identifier: '<value>', provider: '<value>', client: '<value>' } }\n */\nclass CustomPIDField extends Component {\n  constructor(props) {\n    super(props);\n\n    const { canBeManaged, canBeUnmanaged } = this.props;\n    this.canBeManagedAndUnmanaged = canBeManaged && canBeUnmanaged;\n\n    this.state = {\n      isManagedSelected: undefined,\n    };\n  }\n\n  onExternalIdentifierChanged = (identifier) => {\n    const { form, fieldPath } = this.props;\n\n    const pid = {\n      identifier: identifier,\n      provider: PROVIDER_EXTERNAL,\n    };\n\n    this.debounced && this.debounced.cancel();\n    this.debounced = _debounce(() => {\n      form.setFieldValue(fieldPath, pid);\n    }, UPDATE_PID_DEBOUNCE_MS);\n    this.debounced();\n  };\n\n  render() {\n    const { isManagedSelected } = this.state;\n    const {\n      btnLabelDiscardPID,\n      btnLabelGetPID,\n      canBeManaged,\n      canBeUnmanaged,\n      form,\n      fieldPath,\n      fieldLabel,\n      isEditingPublishedRecord,\n      managedHelpText,\n      pidLabel,\n      pidIcon,\n      pidPlaceholder,\n      required,\n      unmanagedHelpText,\n      pidType,\n      field,\n    } = this.props;\n\n    const value = field.value || {};\n    const currentIdentifier = value.identifier || \"\";\n    const currentProvider = value.provider || \"\";\n\n    let managedIdentifier = \"\",\n      unmanagedIdentifier = \"\";\n    if (currentIdentifier !== \"\") {\n      const isProviderExternal = currentProvider === PROVIDER_EXTERNAL;\n      managedIdentifier = !isProviderExternal ? currentIdentifier : \"\";\n      unmanagedIdentifier = isProviderExternal ? currentIdentifier : \"\";\n    }\n\n    const hasManagedIdentifier = managedIdentifier !== \"\";\n\n    const _isManagedSelected =\n      isManagedSelected === undefined\n        ? hasManagedIdentifier || currentProvider === \"\" // i.e pids: {}\n        : isManagedSelected;\n\n    const fieldError = getFieldErrors(form, fieldPath);\n    return (\n      <>\n        <Form.Field required={required} error={fieldError}>\n          <FieldLabel htmlFor={fieldPath} icon={pidIcon} label={fieldLabel} />\n        </Form.Field>\n\n        {this.canBeManagedAndUnmanaged && (\n          <ManagedUnmanagedSwitch\n            disabled={isEditingPublishedRecord || hasManagedIdentifier}\n            isManagedSelected={_isManagedSelected}\n            onManagedUnmanagedChange={(userSelectedManaged) => {\n              if (userSelectedManaged) {\n                form.setFieldValue(\"pids\", {});\n              } else {\n                this.onExternalIdentifierChanged(\"\");\n              }\n              this.setState({\n                isManagedSelected: userSelectedManaged,\n              });\n            }}\n            pidLabel={pidLabel}\n          />\n        )}\n\n        {canBeManaged && _isManagedSelected && (\n          <ManagedIdentifierCmp\n            disabled={isEditingPublishedRecord}\n            btnLabelDiscardPID={btnLabelDiscardPID}\n            btnLabelGetPID={btnLabelGetPID}\n            form={form}\n            identifier={managedIdentifier}\n            helpText={managedHelpText}\n            pidPlaceholder={pidPlaceholder}\n            pidType={pidType}\n            pidLabel={pidLabel}\n          />\n        )}\n\n        {canBeUnmanaged && !_isManagedSelected && (\n          <UnmanagedIdentifierCmp\n            identifier={unmanagedIdentifier}\n            onIdentifierChanged={(identifier) => {\n              this.onExternalIdentifierChanged(identifier);\n            }}\n            form={form}\n            fieldPath={fieldPath}\n            pidPlaceholder={pidPlaceholder}\n            helpText={unmanagedHelpText}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nCustomPIDField.propTypes = {\n  field: PropTypes.object,\n  form: PropTypes.object.isRequired,\n  btnLabelDiscardPID: PropTypes.string.isRequired,\n  btnLabelGetPID: PropTypes.string.isRequired,\n  canBeManaged: PropTypes.bool.isRequired,\n  canBeUnmanaged: PropTypes.bool.isRequired,\n  fieldPath: PropTypes.string.isRequired,\n  fieldLabel: PropTypes.string.isRequired,\n  isEditingPublishedRecord: PropTypes.bool.isRequired,\n  managedHelpText: PropTypes.string,\n  pidIcon: PropTypes.string.isRequired,\n  pidLabel: PropTypes.string.isRequired,\n  pidPlaceholder: PropTypes.string.isRequired,\n  pidType: PropTypes.string.isRequired,\n  required: PropTypes.bool.isRequired,\n  unmanagedHelpText: PropTypes.string,\n};\n\nCustomPIDField.defaultProps = {\n  managedHelpText: null,\n  unmanagedHelpText: null,\n  field: undefined,\n};\n\n/**\n * Render the PIDField using a custom Formik component\n */\nexport class PIDField extends Component {\n  constructor(props) {\n    super(props);\n\n    this.validatePropValues();\n  }\n\n  validatePropValues = () => {\n    const { canBeManaged, canBeUnmanaged, fieldPath } = this.props;\n\n    if (!canBeManaged && !canBeUnmanaged) {\n      throw Error(`${fieldPath} must be managed, unmanaged or both.`);\n    }\n  };\n\n  render() {\n    const { fieldPath } = this.props;\n\n    return <FastField name={fieldPath} component={CustomPIDField} {...this.props} />;\n  }\n}\n\nPIDField.propTypes = {\n  btnLabelDiscardPID: PropTypes.string,\n  btnLabelGetPID: PropTypes.string,\n  canBeManaged: PropTypes.bool,\n  canBeUnmanaged: PropTypes.bool,\n  fieldPath: PropTypes.string.isRequired,\n  fieldLabel: PropTypes.string.isRequired,\n  isEditingPublishedRecord: PropTypes.bool.isRequired,\n  managedHelpText: PropTypes.string,\n  pidIcon: PropTypes.string,\n  pidLabel: PropTypes.string.isRequired,\n  pidPlaceholder: PropTypes.string,\n  pidType: PropTypes.string.isRequired,\n  required: PropTypes.bool,\n  unmanagedHelpText: PropTypes.string,\n};\n\nPIDField.defaultProps = {\n  btnLabelDiscardPID: \"Discard\",\n  btnLabelGetPID: \"Reserve\",\n  canBeManaged: true,\n  canBeUnmanaged: true,\n  managedHelpText: null,\n  pidIcon: \"barcode\",\n  pidPlaceholder: \"\",\n  required: false,\n  unmanagedHelpText: null,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Menu } from \"semantic-ui-react\";\n\nexport const LicenseFilter = ({\n  updateQueryFilters,\n  userSelectionFilters,\n  filterValue,\n  label,\n  title,\n}) => {\n  const _isChecked = (userSelectionFilters) => {\n    const isFilterActive =\n      userSelectionFilters.filter((filter) => filter[1] === filterValue[1]).length > 0;\n    return isFilterActive;\n  };\n\n  const onToggleClicked = () => {\n    updateQueryFilters(userSelectionFilters.concat([filterValue]));\n  };\n\n  const isChecked = _isChecked(userSelectionFilters);\n  return isChecked ? (\n    <Menu.Item name={label} active as={Button} primary onClick={onToggleClicked}>\n      {title}\n    </Menu.Item>\n  ) : (\n    <Menu.Item name={label} onClick={onToggleClicked}>\n      {title}\n    </Menu.Item>\n  );\n};\n\nLicenseFilter.propTypes = {\n  updateQueryFilters: PropTypes.func.isRequired,\n  userSelectionFilters: PropTypes.array.isRequired,\n  filterValue: PropTypes.array.isRequired,\n  label: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React from \"react\";\nimport { Item, Header, Radio } from \"semantic-ui-react\";\nimport { withState } from \"react-searchkit\";\nimport _get from \"lodash/get\";\nimport { FastField } from \"formik\";\n\nexport const LicenseResults = withState(\n  ({ currentResultsState: results, serializeLicenses }) => {\n    const serializeLicenseResult = serializeLicenses\n      ? serializeLicenses\n      : (result) => ({\n          title: result.title_l10n,\n          description: result.description_l10n,\n          id: result.id,\n        });\n    return (\n      <FastField name=\"selectedLicense\">\n        {({ form: { values, setFieldValue } }) => (\n          <Item.Group>\n            {results.data.hits.map((result) => {\n              const title = result[\"title_l10n\"];\n              const description = result[\"description_l10n\"];\n              return (\n                <Item\n                  key={title}\n                  onClick={() =>\n                    setFieldValue(\"selectedLicense\", serializeLicenseResult(result))\n                  }\n                  className=\"license-item mb-15\"\n                >\n                  <Radio\n                    checked={_get(values, \"selectedLicense.title\") === title}\n                    onChange={() =>\n                      setFieldValue(\"selectedLicense\", serializeLicenseResult(result))\n                    }\n                    {...(!description && { className: \"mt-0\" })}\n                  />\n                  <Item.Content className=\"license-item-content\">\n                    <Header size=\"small\" className=\"mt-0\">\n                      {title}\n                    </Header>\n                    {description && (\n                      <Item.Description className=\"license-item-description\">\n                        {description}\n                      </Item.Description>\n                    )}\n                  </Item.Content>\n                </Item>\n              );\n            })}\n          </Item.Group>\n        )}\n      </FastField>\n    );\n  }\n);\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport { Formik } from \"formik\";\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { TextAreaField, TextField } from \"react-invenio-forms\";\nimport { OverridableContext } from \"react-overridable\";\nimport {\n  EmptyResults,\n  Error,\n  InvenioSearchApi,\n  ReactSearchKit,\n  ResultsLoader,\n  SearchBar,\n  Toggle,\n} from \"react-searchkit\";\nimport { Button, Form, Grid, Header, Menu, Modal } from \"semantic-ui-react\";\nimport * as Yup from \"yup\";\nimport { LicenseFilter } from \"./LicenseFilter\";\nimport { LicenseResults } from \"./LicenseResults\";\n\nconst overriddenComponents = {\n  \"SearchFilters.Toggle\": LicenseFilter,\n};\n\nconst ModalTypes = {\n  STANDARD: \"standard\",\n  CUSTOM: \"custom\",\n};\n\nconst ModalActions = {\n  ADD: \"add\",\n  EDIT: \"edit\",\n};\n\nconst LicenseSchema = Yup.object().shape({\n  selectedLicense: Yup.object().shape({\n    title: Yup.string().required(i18next.t(\"Title is a required field.\")),\n    link: Yup.string().url(i18next.t(\"Link must be a valid URL\")),\n  }),\n});\n\nexport class LicenseModal extends Component {\n  state = {\n    open: false,\n  };\n\n  openModal = () => {\n    this.setState({ open: true });\n  };\n\n  closeModal = () => {\n    this.setState({ open: false });\n  };\n\n  onSubmit = (values) => {\n    // We have to close the modal first because onLicenseChange and passing\n    // license as an object makes React get rid of this component. Otherwise\n    // we get a memory leak warning.\n    const { onLicenseChange } = this.props;\n    this.closeModal();\n    onLicenseChange(values.selectedLicense);\n  };\n\n  render() {\n    const {\n      mode,\n      trigger,\n      action,\n      searchConfig,\n      serializeLicenses,\n      initialLicense: initialLicenseProp,\n    } = this.props;\n    const { open } = this.state;\n\n    const initialLicense = initialLicenseProp || {\n      title: \"\",\n      description: \"\",\n      id: null,\n      link: \"\",\n    };\n\n    const searchApi = new InvenioSearchApi(searchConfig.searchApi);\n    return (\n      <Formik\n        initialValues={{\n          selectedLicense: initialLicense,\n        }}\n        onSubmit={this.onSubmit}\n        validationSchema={LicenseSchema}\n        validateOnChange={false}\n        validateOnBlur={false}\n      >\n        {({ handleSubmit, resetForm }) => (\n          <Modal\n            onOpen={() => this.openModal()}\n            open={open}\n            trigger={trigger}\n            onClose={this.closeModal}\n            closeIcon\n            closeOnDimmerClick={false}\n          >\n            <Modal.Header as=\"h6\" className=\"pt-10 pb-10\">\n              <Grid>\n                <Grid.Column floated=\"left\">\n                  <Header as=\"h2\">\n                    {action === ModalActions.ADD\n                      ? i18next.t(`Add {{mode}} license`, {\n                          mode: mode,\n                        })\n                      : i18next.t(`Change {{mode}} license`, {\n                          mode: mode,\n                        })}\n                  </Header>\n                </Grid.Column>\n              </Grid>\n            </Modal.Header>\n            <Modal.Content scrolling>\n              {mode === ModalTypes.STANDARD && (\n                <OverridableContext.Provider value={overriddenComponents}>\n                  <ReactSearchKit\n                    searchApi={searchApi}\n                    appName=\"licenses\"\n                    urlHandlerApi={{ enabled: false }}\n                    initialQueryState={searchConfig.initialQueryState}\n                  >\n                    <Grid>\n                      <Grid.Row>\n                        <Grid.Column width={8} floated=\"left\" verticalAlign=\"middle\">\n                          <SearchBar\n                            placeholder={i18next.t(\"Search\")}\n                            autofocus\n                            actionProps={{\n                              icon: \"search\",\n                              content: null,\n                              className: \"search\",\n                            }}\n                          />\n                        </Grid.Column>\n                        <Grid.Column width={8} textAlign=\"right\" floated=\"right\">\n                          <Menu compact>\n                            <Toggle\n                              title={i18next.t(\"Recommended\")}\n                              label=\"recommended\"\n                              filterValue={[\"tags\", \"recommended\"]}\n                            />\n                            <Toggle\n                              title={i18next.t(\"All\")}\n                              label=\"all\"\n                              filterValue={[\"tags\", \"all\"]}\n                            />\n                            <Toggle\n                              title={i18next.t(\"Data\")}\n                              label=\"data\"\n                              filterValue={[\"tags\", \"data\"]}\n                            />\n                            <Toggle\n                              title={i18next.t(\"Software\")}\n                              label=\"software\"\n                              filterValue={[\"tags\", \"software\"]}\n                            />\n                          </Menu>\n                        </Grid.Column>\n                      </Grid.Row>\n                      <Grid.Row verticalAlign=\"middle\">\n                        <Grid.Column>\n                          <ResultsLoader>\n                            <EmptyResults />\n                            <Error />\n                            <LicenseResults\n                              {...(serializeLicenses && {\n                                serializeLicenses,\n                              })}\n                            />\n                          </ResultsLoader>\n                        </Grid.Column>\n                      </Grid.Row>\n                    </Grid>\n                  </ReactSearchKit>\n                </OverridableContext.Provider>\n              )}\n              {mode === ModalTypes.CUSTOM && (\n                <Form>\n                  <TextField\n                    label={i18next.t(\"Title\")}\n                    placeholder={i18next.t(\"License title\")}\n                    fieldPath=\"selectedLicense.title\"\n                    required\n                  />\n                  <TextAreaField\n                    fieldPath=\"selectedLicense.description\"\n                    label={i18next.t(\"Description\")}\n                  />\n                  <TextField\n                    label={i18next.t(\"Link\")}\n                    placeholder={i18next.t(\"License link\")}\n                    fieldPath=\"selectedLicense.link\"\n                  />\n                </Form>\n              )}\n            </Modal.Content>\n            <Modal.Actions>\n              <Button\n                name=\"cancel\"\n                onClick={() => {\n                  resetForm();\n                  this.closeModal();\n                }}\n                icon=\"remove\"\n                labelPosition=\"left\"\n                content={i18next.t(\"Cancel\")}\n                floated=\"left\"\n              />\n              <Button\n                name=\"submit\"\n                onClick={(event) => handleSubmit(event)}\n                primary\n                icon=\"checkmark\"\n                labelPosition=\"left\"\n                content={\n                  action === ModalActions.ADD\n                    ? i18next.t(\"Add license\")\n                    : i18next.t(\"Change license\")\n                }\n              />\n            </Modal.Actions>\n          </Modal>\n        )}\n      </Formik>\n    );\n  }\n}\n\nLicenseModal.propTypes = {\n  mode: PropTypes.oneOf([\"standard\", \"custom\"]).isRequired,\n  action: PropTypes.oneOf([\"add\", \"edit\"]).isRequired,\n  initialLicense: PropTypes.shape({\n    id: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n  }),\n  trigger: PropTypes.object.isRequired,\n  onLicenseChange: PropTypes.func.isRequired,\n  searchConfig: PropTypes.shape({\n    searchApi: PropTypes.shape({\n      axios: PropTypes.shape({\n        headers: PropTypes.object,\n      }),\n    }).isRequired,\n    initialQueryState: PropTypes.shape({\n      filters: PropTypes.arrayOf(PropTypes.array),\n    }).isRequired,\n  }).isRequired,\n  serializeLicenses: PropTypes.func,\n};\n\nLicenseModal.defaultProps = {\n  initialLicense: undefined,\n  serializeLicenses: undefined,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2021-2022 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React from \"react\";\nimport { useDrag, useDrop } from \"react-dnd\";\nimport { Button, List, Ref } from \"semantic-ui-react\";\nimport _truncate from \"lodash/truncate\";\nimport { LicenseModal } from \"./LicenseModal\";\nimport { i18next } from \"@translations/i18next\";\nimport PropTypes from \"prop-types\";\n\nexport const LicenseFieldItem = ({\n  license,\n  moveLicense,\n  replaceLicense,\n  removeLicense,\n  searchConfig,\n  serializeLicenses,\n}) => {\n  const dropRef = React.useRef(null);\n\n  const [, drag, preview] = useDrag({\n    item: { index: license.index, type: \"license\" },\n  });\n  const [{ hidden }, drop] = useDrop({\n    accept: \"license\",\n    hover(item, monitor) {\n      if (!dropRef.current) {\n        return;\n      }\n      const dragIndex = item.index;\n      const hoverIndex = license.index;\n\n      // Don't replace items with themselves\n      if (dragIndex === hoverIndex) {\n        return;\n      }\n\n      if (monitor.isOver({ shallow: true })) {\n        moveLicense(dragIndex, hoverIndex);\n        item.index = hoverIndex;\n      }\n    },\n    collect: (monitor) => ({\n      hidden: monitor.isOver({ shallow: true }),\n    }),\n  });\n\n  // Initialize the ref explicitely\n  drop(dropRef);\n  return (\n    <Ref innerRef={dropRef} key={license.key}>\n      <List.Item\n        key={license.key}\n        className={hidden ? \"deposit-drag-listitem hidden\" : \"deposit-drag-listitem\"}\n      >\n        <List.Content floated=\"right\">\n          <LicenseModal\n            searchConfig={searchConfig}\n            onLicenseChange={(selectedLicense) => {\n              replaceLicense(license.index, selectedLicense);\n            }}\n            mode={license.type}\n            initialLicense={license.initial}\n            action=\"edit\"\n            trigger={\n              <Button size=\"mini\" primary type=\"button\">\n                {i18next.t(\"Edit\")}\n              </Button>\n            }\n            serializeLicenses={serializeLicenses}\n          />\n          <Button\n            size=\"mini\"\n            type=\"button\"\n            onClick={() => {\n              removeLicense(license.index);\n            }}\n          >\n            {i18next.t(\"Remove\")}\n          </Button>\n        </List.Content>\n        <Ref innerRef={drag}>\n          <List.Icon name=\"bars\" className=\"drag-anchor\" />\n        </Ref>\n        <Ref innerRef={preview}>\n          <List.Content>\n            <List.Header>{license.title}</List.Header>\n            {license.description && (\n              <List.Description>\n                {_truncate(license.description, { length: 300 })}\n              </List.Description>\n            )}\n            {license.link && (\n              <span>\n                <a href={license.link} target=\"_blank\" rel=\"noopener noreferrer\">\n                  {license.description && <span>&nbsp;</span>}\n                  {i18next.t(\"Read more\")}\n                </a>\n              </span>\n            )}\n          </List.Content>\n        </Ref>\n      </List.Item>\n    </Ref>\n  );\n};\n\nLicenseFieldItem.propTypes = {\n  license: PropTypes.object.isRequired,\n  moveLicense: PropTypes.func.isRequired,\n  replaceLicense: PropTypes.func.isRequired,\n  removeLicense: PropTypes.func.isRequired,\n  searchConfig: PropTypes.object.isRequired,\n  serializeLicenses: PropTypes.func,\n};\n\nLicenseFieldItem.defaultProps = {\n  serializeLicenses: undefined,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2021 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport _find from \"lodash/find\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { getIn, FieldArray } from \"formik\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { DndProvider } from \"react-dnd\";\nimport { FieldLabel } from \"react-invenio-forms\";\nimport { Button, Form, Icon, List } from \"semantic-ui-react\";\n\nimport { LicenseModal } from \"./LicenseModal\";\nimport { LicenseFieldItem } from \"./LicenseFieldItem\";\nimport { i18next } from \"@translations/i18next\";\n\n/**\n * The user-facing license.\n *\n */\nclass VisibleLicense {\n  /**\n   * Constructor.\n   *\n   * @param {array} uiRights\n   * @param {object} right\n   * @param {int} index\n   */\n  constructor(uiRights, right, index) {\n    this.index = index;\n    this.type = right.id ? \"standard\" : \"custom\";\n    this.key = right.id || right.title;\n    this.initial = this.type === \"custom\" ? right : null;\n\n    let uiRight =\n      _find(\n        uiRights,\n        right.id ? (o) => o.id === right.id : (o) => o.title === right.title\n      ) || {};\n\n    this.description = uiRight.description_l10n || right.description || \"\";\n    this.title = uiRight.title_l10n || right.title || \"\";\n    this.link =\n      (uiRight.props && uiRight.props.url) ||\n      uiRight.link ||\n      (right.props && right.props.url) ||\n      right.link ||\n      \"\";\n  }\n}\n\nclass LicenseFieldForm extends Component {\n  render() {\n    const {\n      label,\n      labelIcon,\n      fieldPath,\n      uiFieldPath,\n      form: { values },\n      move: formikArrayMove,\n      push: formikArrayPush,\n      remove: formikArrayRemove,\n      replace: formikArrayReplace,\n      required,\n      searchConfig,\n      serializeLicenses,\n    } = this.props;\n\n    const uiRights = getIn(values, uiFieldPath, []);\n\n    return (\n      <DndProvider backend={HTML5Backend}>\n        <Form.Field required={required}>\n          <FieldLabel htmlFor={fieldPath} icon={labelIcon} label={label} />\n          <List>\n            {getIn(values, fieldPath, []).map((value, index) => {\n              const license = new VisibleLicense(uiRights, value, index);\n              return (\n                <LicenseFieldItem\n                  key={license.key}\n                  license={license}\n                  moveLicense={formikArrayMove}\n                  replaceLicense={formikArrayReplace}\n                  removeLicense={formikArrayRemove}\n                  searchConfig={searchConfig}\n                  serializeLicenses={serializeLicenses}\n                />\n              );\n            })}\n            <LicenseModal\n              searchConfig={searchConfig}\n              trigger={\n                <Button type=\"button\" key=\"standard\" icon labelPosition=\"left\">\n                  <Icon name=\"add\" />\n                  {i18next.t(\"Add standard\")}\n                </Button>\n              }\n              onLicenseChange={(selectedLicense) => {\n                formikArrayPush(selectedLicense);\n              }}\n              mode=\"standard\"\n              action=\"add\"\n              serializeLicenses={serializeLicenses}\n            />\n            <LicenseModal\n              searchConfig={searchConfig}\n              trigger={\n                <Button type=\"button\" key=\"custom\" icon labelPosition=\"left\">\n                  <Icon name=\"add\" />\n                  {i18next.t(\"Add custom\")}\n                </Button>\n              }\n              onLicenseChange={(selectedLicense) => {\n                formikArrayPush(selectedLicense);\n              }}\n              mode=\"custom\"\n              action=\"add\"\n            />\n          </List>\n        </Form.Field>\n      </DndProvider>\n    );\n  }\n}\n\nLicenseFieldForm.propTypes = {\n  label: PropTypes.node.isRequired,\n  labelIcon: PropTypes.node,\n  fieldPath: PropTypes.string.isRequired,\n  uiFieldPath: PropTypes.string,\n  form: PropTypes.object.isRequired,\n  move: PropTypes.func.isRequired,\n  push: PropTypes.func.isRequired,\n  remove: PropTypes.func.isRequired,\n  replace: PropTypes.func.isRequired,\n  required: PropTypes.bool.isRequired,\n  searchConfig: PropTypes.object.isRequired,\n  serializeLicenses: PropTypes.func,\n};\n\nLicenseFieldForm.defaultProps = {\n  labelIcon: undefined,\n  uiFieldPath: undefined,\n  serializeLicenses: undefined,\n};\n\nexport class LicenseField extends Component {\n  render() {\n    const { fieldPath } = this.props;\n    return (\n      <FieldArray\n        name={fieldPath}\n        component={(formikProps) => (\n          <LicenseFieldForm {...formikProps} {...this.props} />\n        )}\n      />\n    );\n  }\n}\n\nLicenseField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  labelIcon: PropTypes.string,\n  searchConfig: PropTypes.object.isRequired,\n  required: PropTypes.bool,\n  serializeLicenses: PropTypes.func,\n  uiFieldPath: PropTypes.string,\n};\n\nLicenseField.defaultProps = {\n  label: i18next.t(\"Licenses\"),\n  uiFieldPath: \"ui.rights\",\n  labelIcon: \"drivers license\",\n  required: false,\n  serializeLicenses: undefined,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2022 CERN.\n// Copyright (C) 2022 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { connect as connectFormik } from \"formik\";\nimport {\n  DepositFormSubmitActions,\n  DepositFormSubmitContext,\n} from \"../DepositFormSubmitContext\";\nimport { DRAFT_PREVIEW_STARTED } from \"../state/types\";\nimport { Button } from \"semantic-ui-react\";\nimport _omit from \"lodash/omit\";\nimport PropTypes from \"prop-types\";\n\nexport class PreviewButtonComponent extends Component {\n  static contextType = DepositFormSubmitContext;\n\n  handlePreview = (event, handleSubmit) => {\n    const { setSubmitContext } = this.context;\n\n    setSubmitContext(DepositFormSubmitActions.PREVIEW);\n    handleSubmit(event);\n  };\n\n  render() {\n    const { actionState, formik, ...ui } = this.props;\n    const { handleSubmit, isSubmitting } = formik;\n\n    const uiProps = _omit(ui, [\"dispatch\"]);\n\n    return (\n      <Button\n        name=\"preview\"\n        disabled={isSubmitting}\n        onClick={(e) => this.handlePreview(e, handleSubmit)}\n        loading={isSubmitting && actionState === DRAFT_PREVIEW_STARTED}\n        icon=\"eye\"\n        labelPosition=\"left\"\n        content={i18next.t(\"Preview\")}\n        {...uiProps}\n      />\n    );\n  }\n}\n\nPreviewButtonComponent.propTypes = {\n  actionState: PropTypes.string,\n  formik: PropTypes.object.isRequired,\n};\n\nPreviewButtonComponent.defaultProps = {\n  actionState: undefined,\n};\n\nconst mapStateToProps = (state) => ({\n  actionState: state.deposit.actionState,\n  record: state.deposit.record,\n});\n\nexport const PreviewButton = connect(\n  mapStateToProps,\n  null\n)(connectFormik(PreviewButtonComponent));\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { FieldLabel, TextField } from \"react-invenio-forms\";\nimport { i18next } from \"@translations/i18next\";\n\nexport class PublicationDateField extends Component {\n  render() {\n    const { fieldPath, label, labelIcon, placeholder, required } = this.props;\n\n    return (\n      <TextField\n        fieldPath={fieldPath}\n        helpText={i18next.t(\n          \"In case your upload was already published elsewhere, please use the date of the first publication. Format: YYYY-MM-DD, YYYY-MM, or YYYY. For intervals use DATE/DATE, e.g. 1939/1945.\"\n        )}\n        label={<FieldLabel htmlFor={fieldPath} icon={labelIcon} label={label} />}\n        placeholder={placeholder}\n        required={required}\n      />\n    );\n  }\n}\n\nPublicationDateField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  labelIcon: PropTypes.string,\n  placeholder: PropTypes.string,\n  required: PropTypes.bool,\n};\n\nPublicationDateField.defaultProps = {\n  label: i18next.t(\"Publication date\"),\n  labelIcon: \"calendar\",\n  required: undefined,\n  placeholder: i18next.t(\n    \"YYYY-MM-DD or YYYY-MM-DD/YYYY-MM-DD for intervals. MM and DD are optional.\"\n  ),\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport _get from \"lodash/get\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { Button, Icon, Message, Modal } from \"semantic-ui-react\";\nimport {\n  DepositFormSubmitActions,\n  DepositFormSubmitContext,\n} from \"../../DepositFormSubmitContext\";\nimport { DRAFT_PUBLISH_STARTED } from \"../../state/types\";\nimport { connect as connectFormik } from \"formik\";\nimport _omit from \"lodash/omit\";\n\nclass PublishButtonComponent extends Component {\n  state = { isConfirmModalOpen: false };\n\n  static contextType = DepositFormSubmitContext;\n\n  openConfirmModal = () => this.setState({ isConfirmModalOpen: true });\n\n  closeConfirmModal = () => this.setState({ isConfirmModalOpen: false });\n\n  handlePublish = (event, handleSubmit, publishWithoutCommunity) => {\n    const { setSubmitContext } = this.context;\n\n    setSubmitContext(\n      publishWithoutCommunity\n        ? DepositFormSubmitActions.PUBLISH_WITHOUT_COMMUNITY\n        : DepositFormSubmitActions.PUBLISH\n    );\n    handleSubmit(event);\n    this.closeConfirmModal();\n  };\n\n  isDisabled = (values, isSubmitting, numberOfFiles) => {\n    const filesEnabled = _get(values, \"files.enabled\", false);\n    const filesMissing = filesEnabled && !numberOfFiles;\n    return isSubmitting || filesMissing;\n  };\n\n  render() {\n    const {\n      actionState,\n      numberOfFiles,\n      buttonLabel,\n      publishWithoutCommunity,\n      formik,\n      publishModalExtraContent,\n      ...ui\n    } = this.props;\n    const { isConfirmModalOpen } = this.state;\n    const { values, isSubmitting, handleSubmit } = formik;\n\n    const uiProps = _omit(ui, [\"dispatch\"]);\n\n    return (\n      <>\n        <Button\n          disabled={this.isDisabled(values, isSubmitting, numberOfFiles)}\n          name=\"publish\"\n          onClick={this.openConfirmModal}\n          positive\n          icon=\"upload\"\n          loading={isSubmitting && actionState === DRAFT_PUBLISH_STARTED}\n          labelPosition=\"left\"\n          content={buttonLabel}\n          {...uiProps}\n          type=\"button\" // needed so the formik form doesn't handle it as submit button i.e enable HTML validation on required input fields\n        />\n        {isConfirmModalOpen && (\n          <Modal\n            open={isConfirmModalOpen}\n            onClose={this.closeConfirmModal}\n            size=\"small\"\n            closeIcon\n            closeOnDimmerClick={false}\n          >\n            <Modal.Header>\n              {i18next.t(\"Are you sure you want to publish this record?\")}\n            </Modal.Header>\n            {/* the modal text should only ever come from backend configuration */}\n            <Modal.Content>\n              <Message visible warning>\n                <p>\n                  <Icon name=\"warning sign\" />{\" \"}\n                  {i18next.t(\n                    \"Once the record is published you will no longer be able to change the files in the upload! However, you will still be able to update the record's metadata later.\"\n                  )}\n                </p>\n              </Message>\n              {publishModalExtraContent && (\n                <div dangerouslySetInnerHTML={{ __html: publishModalExtraContent }} />\n              )}\n            </Modal.Content>\n            <Modal.Actions>\n              <Button onClick={this.closeConfirmModal} floated=\"left\">\n                {i18next.t(\"Cancel\")}\n              </Button>\n              <Button\n                onClick={(event) =>\n                  this.handlePublish(event, handleSubmit, publishWithoutCommunity)\n                }\n                positive\n                content={buttonLabel}\n              />\n            </Modal.Actions>\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nPublishButtonComponent.propTypes = {\n  buttonLabel: PropTypes.string,\n  publishWithoutCommunity: PropTypes.bool,\n  actionState: PropTypes.string,\n  numberOfFiles: PropTypes.number.isRequired,\n  formik: PropTypes.object.isRequired,\n  publishModalExtraContent: PropTypes.string,\n};\n\nPublishButtonComponent.defaultProps = {\n  buttonLabel: i18next.t(\"Publish\"),\n  publishWithoutCommunity: false,\n  actionState: undefined,\n  publishModalExtraContent: undefined,\n};\n\nconst mapStateToProps = (state) => ({\n  actionState: state.deposit.actionState,\n  numberOfFiles: Object.values(state.files.entries).length,\n  publishModalExtraContent: state.deposit.config.publish_modal_extra,\n});\n\nexport const PublishButton = connect(\n  mapStateToProps,\n  null\n)(connectFormik(PublishButtonComponent));\n","// This file is part of InvenioRequests\n// Copyright (C) 2022 CERN.\n//\n// Invenio RDM Records is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport { Formik } from \"formik\";\nimport _get from \"lodash/get\";\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { Trans } from \"react-i18next\";\nimport { ErrorLabel, RadioField, TextAreaField } from \"react-invenio-forms\";\nimport { Button, Checkbox, Form, Icon, Message, Modal } from \"semantic-ui-react\";\nimport * as Yup from \"yup\";\n\nexport class SubmitReviewModal extends Component {\n  ConfirmSubmitReviewSchema = Yup.object({\n    acceptAccessToRecord: Yup.string().required(i18next.t(\"You must accept this.\")),\n    acceptAfterPublishRecord: Yup.string().required(i18next.t(\"You must accept this.\")),\n    reviewComment: Yup.string(),\n  });\n\n  render() {\n    const {\n      initialReviewComment,\n      isConfirmModalOpen,\n      community,\n      onClose,\n      onSubmit,\n      publishModalExtraContent,\n    } = this.props;\n    const communityTitle = community.metadata.title;\n    return (\n      <Formik\n        initialValues={{\n          acceptAccessToRecord: \"\",\n          acceptAfterPublishRecord: \"\",\n          reviewComment: initialReviewComment || \"\",\n        }}\n        onSubmit={onSubmit}\n        validationSchema={this.ConfirmSubmitReviewSchema}\n        validateOnChange={false}\n        validateOnBlur={false}\n      >\n        {({ values, handleSubmit }) => {\n          return (\n            <Modal\n              open={isConfirmModalOpen}\n              onClose={onClose}\n              size=\"small\"\n              closeIcon\n              closeOnDimmerClick={false}\n            >\n              <Modal.Header>\n                <Trans>Submit for review</Trans>\n              </Modal.Header>\n              <Modal.Content>\n                <Message visible warning>\n                  <p>\n                    <Icon name=\"warning sign\" />\n                    {i18next.t(\n                      \"Before requesting review please read and check the following:\"\n                    )}\n                  </p>\n                </Message>\n                <Form>\n                  <Form.Field>\n                    <RadioField\n                      control={Checkbox}\n                      fieldPath=\"acceptAccessToRecord\"\n                      label={\n                        <Trans\n                          defaults=\"The '{{communityTitle}}' curators will have access to\n                 <bold>view</bold> and <bold>edit</bold> your\n                 upload's metadata and files.\"\n                          values={{\n                            communityTitle,\n                          }}\n                          components={{ bold: <b /> }}\n                        />\n                      }\n                      checked={_get(values, \"acceptAccessToRecord\") === \"checked\"}\n                      onChange={({ data, formikProps }) => {\n                        formikProps.form.setFieldValue(\n                          \"acceptAccessToRecord\",\n                          data.checked ? \"checked\" : \"\"\n                        );\n                      }}\n                      optimized\n                    />\n                    <ErrorLabel\n                      fieldPath=\"acceptAccessToRecord\"\n                      className=\"mt-0 mb-5\"\n                    />\n                  </Form.Field>\n                  <Form.Field>\n                    <RadioField\n                      control={Checkbox}\n                      fieldPath=\"acceptAfterPublishRecord\"\n                      label={\n                        <Trans\n                          defaults=\"If your upload is accepted by the community curators, it will be <bold>immediately published</bold>. Before that, you will still be able to modify metadata and files of this upload.\"\n                          values={{\n                            communityTitle: communityTitle,\n                          }}\n                          components={{ bold: <b /> }}\n                        />\n                      }\n                      checked={_get(values, \"acceptAfterPublishRecord\") === \"checked\"}\n                      onChange={({ data, formikProps }) => {\n                        formikProps.form.setFieldValue(\n                          \"acceptAfterPublishRecord\",\n                          data.checked ? \"checked\" : \"\"\n                        );\n                      }}\n                      optimized\n                    />\n                    <ErrorLabel\n                      fieldPath=\"acceptAfterPublishRecord\"\n                      className=\"mt-0 mb-5\"\n                    />\n                  </Form.Field>\n                  <TextAreaField\n                    fieldPath=\"reviewComment\"\n                    label=\"Message to curators (optional)\"\n                  />\n                  {publishModalExtraContent && (\n                    <div\n                      dangerouslySetInnerHTML={{ __html: publishModalExtraContent }}\n                    />\n                  )}\n                </Form>\n              </Modal.Content>\n              <Modal.Actions>\n                <Button onClick={onClose} floated=\"left\">\n                  {i18next.t(\"Cancel\")}\n                </Button>\n                <Button\n                  name=\"submitReview\"\n                  onClick={(event) => {\n                    handleSubmit(event);\n                  }}\n                  positive\n                  content={i18next.t(\"Submit review\")}\n                />\n              </Modal.Actions>\n            </Modal>\n          );\n        }}\n      </Formik>\n    );\n  }\n}\n\nSubmitReviewModal.propTypes = {\n  isConfirmModalOpen: PropTypes.bool.isRequired,\n  community: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  initialReviewComment: PropTypes.string,\n  publishModalExtraContent: PropTypes.string,\n};\n\nSubmitReviewModal.defaultProps = {\n  initialReviewComment: \"\",\n  publishModalExtraContent: \"\",\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport { i18next } from \"@translations/i18next\";\nimport _get from \"lodash/get\";\nimport { connect } from \"react-redux\";\nimport { Button } from \"semantic-ui-react\";\nimport { connect as connectFormik } from \"formik\";\nimport {\n  DepositFormSubmitActions,\n  DepositFormSubmitContext,\n} from \"../../DepositFormSubmitContext\";\nimport { SubmitReviewModal } from \"./SubmitReviewModal\";\nimport { DepositStatus } from \"../../state/reducers/deposit\";\nimport _omit from \"lodash/omit\";\nimport PropTypes from \"prop-types\";\n\nclass SubmitReviewButtonComponent extends Component {\n  state = { isConfirmModalOpen: false };\n  static contextType = DepositFormSubmitContext;\n\n  openConfirmModal = () => this.setState({ isConfirmModalOpen: true });\n\n  closeConfirmModal = () => this.setState({ isConfirmModalOpen: false });\n\n  handleSubmitReview = ({ reviewComment }) => {\n    const { formik } = this.props;\n    const { handleSubmit } = formik;\n    const { setSubmitContext } = this.context;\n\n    setSubmitContext(DepositFormSubmitActions.SUBMIT_REVIEW, {\n      reviewComment,\n    });\n    handleSubmit();\n    this.closeConfirmModal();\n  };\n\n  isDisabled = (numberOfFiles, disableSubmitForReviewButton) => {\n    const { formik } = this.props;\n    const { values, isSubmitting } = formik;\n\n    const filesEnabled = _get(values, \"files.enabled\", false);\n    const filesMissing = filesEnabled && !numberOfFiles;\n    return isSubmitting || filesMissing || disableSubmitForReviewButton;\n  };\n\n  render() {\n    const {\n      actionState,\n      actionStateExtra,\n      community,\n      numberOfFiles,\n      disableSubmitForReviewButton,\n      isRecordSubmittedForReview,\n      formik,\n      publishModalExtraContent,\n      ...ui\n    } = this.props;\n\n    const { isSubmitting } = formik;\n\n    const uiProps = _omit(ui, [\"dispatch\"]);\n\n    const { isConfirmModalOpen } = this.state;\n\n    return (\n      <>\n        <Button\n          disabled={this.isDisabled(numberOfFiles, disableSubmitForReviewButton)}\n          name=\"SubmitReview\"\n          onClick={this.openConfirmModal}\n          positive\n          icon=\"upload\"\n          loading={isSubmitting && actionState === \"DRAFT_SUBMIT_REVIEW_STARTED\"}\n          labelPosition=\"left\"\n          content={\n            isRecordSubmittedForReview\n              ? i18next.t(\"Submitted for review\")\n              : i18next.t(\"Submit for review\")\n          }\n          {...uiProps}\n          type=\"button\" // needed so the formik form doesn't handle it as submit button i.e enable HTML validation on required input fields\n        />\n        {isConfirmModalOpen && (\n          <SubmitReviewModal\n            isConfirmModalOpen={isConfirmModalOpen}\n            initialReviewComment={actionStateExtra.reviewComment}\n            onSubmit={this.handleSubmitReview}\n            community={community}\n            onClose={this.closeConfirmModal}\n            publishModalExtraContent={publishModalExtraContent}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nSubmitReviewButtonComponent.propTypes = {\n  actionState: PropTypes.string.isRequired,\n  actionStateExtra: PropTypes.object.isRequired,\n  community: PropTypes.object.isRequired,\n  numberOfFiles: PropTypes.number,\n  disableSubmitForReviewButton: PropTypes.bool,\n  isRecordSubmittedForReview: PropTypes.bool.isRequired,\n  formik: PropTypes.object.isRequired,\n  publishModalExtraContent: PropTypes.string,\n};\n\nSubmitReviewButtonComponent.defaultProps = {\n  numberOfFiles: undefined,\n  disableSubmitForReviewButton: undefined,\n  publishModalExtraContent: undefined,\n};\n\nconst mapStateToProps = (state) => ({\n  actionState: state.deposit.actionState,\n  actionStateExtra: state.deposit.actionStateExtra,\n  community: state.deposit.editorState.selectedCommunity,\n  isRecordSubmittedForReview: state.deposit.record.status === DepositStatus.IN_REVIEW,\n  disableSubmitForReviewButton:\n    state.deposit.editorState.ui.disableSubmitForReviewButton,\n  numberOfFiles: Object.values(state.files.entries).length,\n  publishModalExtraContent: state.deposit.config.publish_modal_extra,\n});\n\nexport const SubmitReviewButton = connect(\n  mapStateToProps,\n  null\n)(connectFormik(SubmitReviewButtonComponent));\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2022 CERN.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Button } from \"semantic-ui-react\";\nimport { changeSelectedCommunity } from \"../../state/actions\";\nimport { CommunitySelectionModal } from \"../CommunitySelectionModal\";\nimport { PublishButton } from \"./PublishButton\";\nimport { SubmitReviewButton } from \"./SubmitReviewButton\";\nimport PropTypes from \"prop-types\";\n\nclass SubmitReviewOrPublishComponent extends Component {\n  render() {\n    const {\n      community,\n      changeSelectedCommunity,\n      showChangeCommunityButton,\n      showSubmitForReviewButton,\n      ...ui\n    } = this.props;\n\n    let result;\n\n    if (showSubmitForReviewButton) {\n      result = <SubmitReviewButton {...ui} />;\n    } else if (showChangeCommunityButton) {\n      result = (\n        <>\n          <CommunitySelectionModal\n            onCommunityChange={(community) => {\n              changeSelectedCommunity(community);\n            }}\n            chosenCommunity={community}\n            trigger={\n              <Button content={i18next.t(\"Change community\")} fluid className=\"mb-10\" />\n            }\n          />\n          <PublishButton\n            buttonLabel={i18next.t(\"Publish without community\")}\n            publishWithoutCommunity\n            {...ui}\n          />\n        </>\n      );\n    } else {\n      result = <PublishButton {...ui} />;\n    }\n    return result;\n  }\n}\n\nSubmitReviewOrPublishComponent.propTypes = {\n  community: PropTypes.object,\n  changeSelectedCommunity: PropTypes.func.isRequired,\n  showChangeCommunityButton: PropTypes.bool.isRequired,\n  showSubmitForReviewButton: PropTypes.bool.isRequired,\n};\n\nSubmitReviewOrPublishComponent.defaultProps = {\n  community: undefined,\n};\n\nconst mapStateToProps = (state) => ({\n  community: state.deposit.editorState.selectedCommunity,\n  showSubmitForReviewButton: state.deposit.editorState.ui.showSubmitForReviewButton,\n  showChangeCommunityButton: state.deposit.editorState.ui.showChangeCommunityButton,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  changeSelectedCommunity: (community) => dispatch(changeSelectedCommunity(community)),\n});\n\nexport const SubmitReviewOrPublishButton = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SubmitReviewOrPublishComponent);\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { FieldLabel, TextField } from \"react-invenio-forms\";\nimport { i18next } from \"@translations/i18next\";\n\nexport class PublisherField extends Component {\n  render() {\n    const { fieldPath, label, labelIcon, placeholder } = this.props;\n\n    return (\n      <TextField\n        fieldPath={fieldPath}\n        helpText={i18next.t(\n          \"The publisher is used to formulate the citation, so consider the prominence of the role.\"\n        )}\n        label={<FieldLabel htmlFor={fieldPath} icon={labelIcon} label={label} />}\n        placeholder={placeholder}\n      />\n    );\n  }\n}\n\nPublisherField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  labelIcon: PropTypes.string,\n  placeholder: PropTypes.string,\n};\n\nPublisherField.defaultProps = {\n  label: i18next.t(\"Publisher\"),\n  labelIcon: \"building outline\",\n  placeholder: i18next.t(\"Publisher\"),\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2021 CERN.\n// Copyright (C) 2020-2021 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport _get from \"lodash/get\";\nimport { FieldLabel, SelectField } from \"react-invenio-forms\";\nimport { i18next } from \"@translations/i18next\";\n\nexport class ResourceTypeField extends Component {\n  groupErrors = (errors, fieldPath) => {\n    const fieldErrors = _get(errors, fieldPath);\n    if (fieldErrors) {\n      return { content: fieldErrors };\n    }\n    return null;\n  };\n\n  /**\n   * Generate label value\n   *\n   * @param {object} option - back-end option\n   * @returns {string} label\n   */\n  _label = (option) => {\n    return option.type_name + (option.subtype_name ? \" / \" + option.subtype_name : \"\");\n  };\n\n  /**\n   * Convert back-end options to front-end options.\n   *\n   * @param {array} propsOptions - back-end options\n   * @returns {array} front-end options\n   */\n  createOptions = (propsOptions) => {\n    return propsOptions\n      .map((o) => ({ ...o, label: this._label(o) }))\n      .sort((o1, o2) => o1.label.localeCompare(o2.label))\n      .map((o) => {\n        return {\n          value: o.id,\n          icon: o.icon,\n          text: o.label,\n        };\n      });\n  };\n\n  render() {\n    const { fieldPath, label, labelIcon, options, ...restProps } = this.props;\n    const frontEndOptions = this.createOptions(options);\n    return (\n      <SelectField\n        fieldPath={fieldPath}\n        label={<FieldLabel htmlFor={fieldPath} icon={labelIcon} label={label} />}\n        optimized\n        options={frontEndOptions}\n        selectOnBlur={false}\n        {...restProps}\n      />\n    );\n  }\n}\n\nResourceTypeField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  labelIcon: PropTypes.string,\n  labelclassname: PropTypes.string,\n  options: PropTypes.arrayOf(\n    PropTypes.shape({\n      icon: PropTypes.string,\n      type_name: PropTypes.string,\n      subtype_name: PropTypes.string,\n      id: PropTypes.string,\n    })\n  ).isRequired,\n  required: PropTypes.bool,\n};\n\nResourceTypeField.defaultProps = {\n  label: i18next.t(\"Resource type\"),\n  labelIcon: \"tag\",\n  labelclassname: \"field-label-class\",\n  required: false,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2021 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport {\n  TextField,\n  GroupField,\n  ArrayField,\n  FieldLabel,\n  SelectField,\n} from \"react-invenio-forms\";\nimport { Button, Form, Icon } from \"semantic-ui-react\";\n\nimport { emptyRelatedWork } from \"../record\";\nimport { ResourceTypeField } from \"./ResourceTypeField\";\nimport { i18next } from \"@translations/i18next\";\n\nexport class RelatedWorksField extends Component {\n  render() {\n    const { fieldPath, label, labelIcon, required, options, showEmptyValue } =\n      this.props;\n\n    return (\n      <>\n        <label className=\"helptext\" style={{ marginBottom: \"10px\" }}>\n          {i18next.t(\n            \"Specify identifiers of related works. Supported identifiers include DOI, Handle, ARK, PURL, ISSN, ISBN, PubMed ID, PubMed Central ID, ADS Bibliographic Code, arXiv, Life Science Identifiers (LSID), EAN-13, ISTC, URNs, and URLs.\"\n          )}\n        </label>\n        <ArrayField\n          addButtonLabel={i18next.t(\"Add related work\")}\n          defaultNewValue={emptyRelatedWork}\n          fieldPath={fieldPath}\n          label={<FieldLabel htmlFor={fieldPath} icon={labelIcon} label={label} />}\n          required={required}\n          showEmptyValue={showEmptyValue}\n        >\n          {({ arrayHelpers, indexPath }) => {\n            const fieldPathPrefix = `${fieldPath}.${indexPath}`;\n\n            return (\n              <GroupField optimized>\n                <SelectField\n                  clearable\n                  fieldPath={`${fieldPathPrefix}.relation_type`}\n                  label={i18next.t(\"Relation\")}\n                  optimized\n                  options={options.relations}\n                  placeholder={i18next.t(\"Select relation...\")}\n                  required\n                  width={3}\n                />\n\n                <TextField\n                  fieldPath={`${fieldPathPrefix}.identifier`}\n                  label={i18next.t(\"Identifier\")}\n                  required\n                  width={4}\n                />\n\n                <SelectField\n                  clearable\n                  fieldPath={`${fieldPathPrefix}.scheme`}\n                  label={i18next.t(\"Scheme\")}\n                  optimized\n                  options={options.scheme}\n                  required\n                  width={2}\n                />\n\n                <ResourceTypeField\n                  clearable\n                  fieldPath={`${fieldPathPrefix}.resource_type`}\n                  labelIcon=\"\" // Otherwise breaks alignment\n                  options={options.resource_type}\n                  width={7}\n                  labelclassname=\"small field-label-class\"\n                />\n\n                <Form.Field>\n                  <Button\n                    aria-label={i18next.t(\"Remove field\")}\n                    className=\"close-btn\"\n                    icon\n                    onClick={() => arrayHelpers.remove(indexPath)}\n                  >\n                    <Icon name=\"close\" />\n                  </Button>\n                </Form.Field>\n              </GroupField>\n            );\n          }}\n        </ArrayField>\n      </>\n    );\n  }\n}\n\nRelatedWorksField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  labelIcon: PropTypes.string,\n  required: PropTypes.bool,\n  options: PropTypes.object.isRequired,\n  showEmptyValue: PropTypes.bool,\n};\n\nRelatedWorksField.defaultProps = {\n  label: i18next.t(\"Related works\"),\n  labelIcon: \"barcode\",\n  required: undefined,\n  showEmptyValue: false,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n// Copyright (C) 2022 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Button } from \"semantic-ui-react\";\nimport {\n  DepositFormSubmitActions,\n  DepositFormSubmitContext,\n} from \"../DepositFormSubmitContext\";\nimport { DRAFT_SAVE_STARTED } from \"../state/types\";\nimport { scrollTop } from \"../utils\";\nimport _omit from \"lodash/omit\";\nimport { connect as connectFormik } from \"formik\";\nimport PropTypes from \"prop-types\";\n\nexport class SaveButtonComponent extends Component {\n  static contextType = DepositFormSubmitContext;\n\n  handleSave = (event) => {\n    const { formik } = this.props;\n    const { setSubmitContext } = this.context;\n    const { handleSubmit } = formik;\n\n    setSubmitContext(DepositFormSubmitActions.SAVE);\n    handleSubmit(event);\n    scrollTop();\n  };\n\n  render() {\n    const { actionState, formik, ...ui } = this.props;\n    const { isSubmitting } = formik;\n\n    const uiProps = _omit(ui, [\"dispatch\"]);\n\n    return (\n      <Button\n        name=\"save\"\n        disabled={isSubmitting}\n        onClick={(event) => this.handleSave(event)}\n        icon=\"save\"\n        loading={isSubmitting && actionState === DRAFT_SAVE_STARTED}\n        labelPosition=\"left\"\n        content={i18next.t(\"Save draft\")}\n        {...uiProps}\n      />\n    );\n  }\n}\n\nSaveButtonComponent.propTypes = {\n  formik: PropTypes.object.isRequired,\n  actionState: PropTypes.string,\n};\n\nSaveButtonComponent.defaultProps = {\n  actionState: undefined,\n};\n\nconst mapStateToProps = (state) => ({\n  actionState: state.deposit.actionState,\n});\n\nexport const SaveButton = connect(\n  mapStateToProps,\n  null\n)(connectFormik(SaveButtonComponent));\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020-2021 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { FieldLabel, GroupField, RemoteSelectField } from \"react-invenio-forms\";\nimport { Form } from \"semantic-ui-react\";\nimport { Field, getIn } from \"formik\";\nimport { i18next } from \"@translations/i18next\";\n\nexport class SubjectsField extends Component {\n  state = {\n    limitTo: \"all\",\n  };\n\n  serializeSubjects = (subjects) =>\n    subjects.map((subject) => {\n      const scheme = subject.scheme ? `(${subject.scheme}) ` : \"\";\n      return {\n        text: scheme + subject.subject,\n        value: subject.subject,\n        key: subject.subject,\n        ...(subject.id ? { id: subject.id } : {}),\n        subject: subject.subject,\n      };\n    });\n\n  prepareSuggest = (searchQuery) => {\n    const { limitTo } = this.state;\n\n    const prefix = limitTo === \"all\" ? \"\" : `${limitTo}:`;\n    return `${prefix}${searchQuery}`;\n  };\n\n  render() {\n    const {\n      fieldPath,\n      label,\n      labelIcon,\n      required,\n      multiple,\n      placeholder,\n      clearable,\n      limitToOptions,\n    } = this.props;\n    return (\n      <GroupField className=\"main-group-field\">\n        <Form.Field width={5} className=\"subjects-field\">\n          <FieldLabel htmlFor={fieldPath} icon={labelIcon} label={label} />\n          <GroupField>\n            <Form.Field\n              width={8}\n              style={{ marginBottom: \"auto\", marginTop: \"auto\" }}\n              className=\"p-0\"\n            >\n              {i18next.t(\"Suggest from\")}\n            </Form.Field>\n            <Form.Dropdown\n              className=\"p-0\"\n              defaultValue={limitToOptions[0].value}\n              fluid\n              onChange={(event, data) => this.setState({ limitTo: data.value })}\n              options={limitToOptions}\n              selection\n              width={8}\n            />\n          </GroupField>\n        </Form.Field>\n        <Field name={fieldPath}>\n          {({ form: { values } }) => {\n            return (\n              <RemoteSelectField\n                clearable={clearable}\n                fieldPath={fieldPath}\n                initialSuggestions={getIn(values, fieldPath, [])}\n                multiple={multiple}\n                noQueryMessage={i18next.t(\"Search or create subjects...\")}\n                placeholder={placeholder}\n                preSearchChange={this.prepareSuggest}\n                required={required}\n                serializeSuggestions={this.serializeSubjects}\n                serializeAddedValue={(value) => ({\n                  text: value,\n                  value: value,\n                  key: value,\n                  subject: value,\n                })}\n                suggestionAPIUrl=\"/api/subjects\"\n                onValueChange={({ formikProps }, selectedSuggestions) => {\n                  formikProps.form.setFieldValue(\n                    fieldPath,\n                    // save the suggestion objects so we can extract information\n                    // about which value added by the user\n                    selectedSuggestions\n                  );\n                }}\n                value={getIn(values, fieldPath, []).map((val) => val.subject)}\n                label={\n                  <>\n                    {/* eslint-disable-next-line jsx-a11y/label-has-associated-control */}\n                    <label className=\"mobile-hidden\">&nbsp;</label>\n                  </>\n                } /** For alignment purposes */\n                allowAdditions\n                width={11}\n              />\n            );\n          }}\n        </Field>\n      </GroupField>\n    );\n  }\n}\n\nSubjectsField.propTypes = {\n  limitToOptions: PropTypes.array.isRequired,\n  fieldPath: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  labelIcon: PropTypes.string,\n  required: PropTypes.bool,\n  multiple: PropTypes.bool,\n  clearable: PropTypes.bool,\n  placeholder: PropTypes.string,\n};\n\nSubjectsField.defaultProps = {\n  required: false,\n  label: i18next.t(\"Subjects\"),\n  labelIcon: \"tag\",\n  multiple: true,\n  clearable: true,\n  placeholder: i18next.t(\"Search for a subject by name\"),\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { FieldLabel, TextField } from \"react-invenio-forms\";\nimport { AdditionalTitlesField } from \"./AdditionalTitlesField\";\nimport { i18next } from \"@translations/i18next\";\n\nexport class TitlesField extends Component {\n  render() {\n    const { fieldPath, options, label, required, recordUI } = this.props;\n\n    return (\n      <>\n        <TextField\n          fieldPath={fieldPath}\n          label={<FieldLabel htmlFor={fieldPath} icon=\"book\" label={label} />}\n          required={required}\n          className=\"title-field\"\n          optimized\n        />\n        <AdditionalTitlesField\n          options={options}\n          recordUI={recordUI}\n          fieldPath=\"metadata.additional_titles\"\n        />\n      </>\n    );\n  }\n}\n\nTitlesField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  options: PropTypes.shape({\n    type: PropTypes.arrayOf(\n      PropTypes.shape({\n        icon: PropTypes.string,\n        text: PropTypes.string,\n        value: PropTypes.string,\n      })\n    ),\n    lang: PropTypes.arrayOf(\n      PropTypes.shape({\n        text: PropTypes.string,\n        value: PropTypes.string,\n      })\n    ),\n  }).isRequired,\n  required: PropTypes.bool,\n  recordUI: PropTypes.object,\n};\n\nTitlesField.defaultProps = {\n  label: i18next.t(\"Title\"),\n  required: false,\n  recordUI: undefined,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020 Northwestern University.\n// Copyright (C) 2021 Graz University of Technology.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { FieldLabel, TextField } from \"react-invenio-forms\";\nimport { i18next } from \"@translations/i18next\";\nimport { Trans } from \"@translations/i18next\";\n\nexport class VersionField extends Component {\n  render() {\n    const { fieldPath, label, labelIcon, placeholder } = this.props;\n    const helpText = (\n      <span>\n        <Trans>\n          Mostly relevant for software and dataset uploads. A semantic version string is\n          preferred see\n          <a href=\"https://semver.org/\" target=\"_blank\" rel=\"noopener noreferrer\">\n            {\" \"}\n            semver.org\n          </a>\n          , but any version string is accepted.\n        </Trans>\n      </span>\n    );\n\n    return (\n      <TextField\n        fieldPath={fieldPath}\n        helpText={helpText}\n        label={<FieldLabel htmlFor={fieldPath} icon={labelIcon} label={label} />}\n        placeholder={placeholder}\n      />\n    );\n  }\n}\n\nVersionField.propTypes = {\n  fieldPath: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  labelIcon: PropTypes.string,\n  placeholder: PropTypes.string,\n};\n\nVersionField.defaultProps = {\n  label: i18next.t(\"Version\"),\n  labelIcon: \"code branch\",\n  placeholder: \"\",\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React from \"react\";\nimport { connect as reduxConnect } from \"react-redux\";\n\nexport function connect(Component) {\n  // eslint-disable-next-line no-unused-vars,react/prop-types\n  const WrappedComponent = ({ dispatch, ...props }) => {\n    return <Component {...props} />;\n  };\n  const mapStateToProps = (state) => ({\n    deposit: state.deposit,\n  });\n\n  return reduxConnect(mapStateToProps, null)(WrappedComponent);\n}\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport axios from \"axios\";\nimport _get from \"lodash/get\";\n\nconst BASE_HEADERS = {\n  \"json\": { \"Content-Type\": \"application/json\" },\n  \"vnd+json\": {\n    \"Content-Type\": \"application/json\",\n    \"Accept\": \"application/vnd.inveniordm.v1+json\",\n  },\n  \"octet-stream\": { \"Content-Type\": \"application/octet-stream\" },\n};\n\n/**\n * API client response.\n */\nexport class DepositApiClientResponse {\n  constructor(data, errors) {\n    this.data = data;\n    this.errors = errors;\n  }\n}\n\nexport class DepositApiClient {\n  /* eslint-disable no-unused-vars */\n  constructor(additionalApiConfig, createDraftURL, recordSerializer) {\n    if (this.constructor === DepositApiClient) {\n      throw new Error(\"Abstract\");\n    }\n\n    const additionalHeaders = _get(additionalApiConfig, \"headers\");\n    this.apiHeaders = Object.assign({}, BASE_HEADERS, additionalHeaders);\n\n    this.apiConfig = {\n      withCredentials: true,\n      xsrfCookieName: \"csrftoken\",\n      xsrfHeaderName: \"X-CSRFToken\",\n      headers: this.apiHeaders.json,\n    };\n    this.axiosWithConfig = axios.create(this.apiConfig);\n    this.cancelToken = axios.CancelToken;\n  }\n\n  async createDraft(draft) {\n    throw new Error(\"Not implemented.\");\n  }\n\n  async saveDraft(draft, draftLinks) {\n    throw new Error(\"Not implemented.\");\n  }\n\n  async publishDraft(draftLinks) {\n    throw new Error(\"Not implemented.\");\n  }\n\n  async deleteDraft(draftLinks) {\n    throw new Error(\"Not implemented.\");\n  }\n\n  async reservePID(draftLinks, pidType) {\n    throw new Error(\"Not implemented.\");\n  }\n\n  async discardPID(draftLinks, pidType) {\n    throw new Error(\"Not implemented.\");\n  }\n\n  async createOrUpdateReview(draftLinks, communityId) {\n    throw new Error(\"Not implemented.\");\n  }\n\n  async deleteReview(draftLinks) {\n    throw new Error(\"Not implemented.\");\n  }\n\n  async submitReview(draftLinks) {\n    throw new Error(\"Not implemented.\");\n  }\n}\n\n/**\n * API Client for deposits.\n */\nexport class RDMDepositApiClient extends DepositApiClient {\n  constructor(additionalApiConfig, createDraftURL, recordSerializer) {\n    super(additionalApiConfig);\n    this.createDraftURL = createDraftURL;\n    this.recordSerializer = recordSerializer;\n  }\n\n  async _createResponse(axiosRequest) {\n    try {\n      const response = await axiosRequest();\n      const data = this.recordSerializer.deserialize(response.data || {});\n      const errors = this.recordSerializer.deserializeErrors(\n        response.data.errors || []\n      );\n      return new DepositApiClientResponse(data, errors);\n    } catch (error) {\n      const errorData = error.response.data;\n      throw new DepositApiClientResponse({}, errorData);\n    }\n  }\n\n  /**\n   * Calls the API to create a new draft.\n   *\n   * @param {object} draft - Serialized draft\n   */\n  async createDraft(draft) {\n    const payload = this.recordSerializer.serialize(draft);\n    return this._createResponse(() =>\n      this.axiosWithConfig.post(this.createDraftURL, payload, {\n        headers: this.apiHeaders[\"vnd+json\"],\n        params: { expand: 1 },\n      })\n    );\n  }\n\n  /**\n   * Calls the API to read a pre-existing draft.\n   *\n   * @param {object} draftLinks - the draft links object\n   */\n  async readDraft(draftLinks) {\n    return this._createResponse(() =>\n      this.axiosWithConfig.get(draftLinks.self, {\n        headers: this.apiHeaders[\"vnd+json\"],\n        params: { expand: 1 },\n      })\n    );\n  }\n\n  /**\n   * Calls the API to save a pre-existing draft.\n   *\n   * @param {object} draft - the draft payload\n   */\n  async saveDraft(draft, draftLinks) {\n    const payload = this.recordSerializer.serialize(draft);\n    return this._createResponse(() =>\n      this.axiosWithConfig.put(draftLinks.self, payload, {\n        headers: this.apiHeaders[\"vnd+json\"],\n        params: { expand: 1 },\n      })\n    );\n  }\n\n  /**\n   * Publishes the draft by calling its publish link.\n   *\n   * @param {string} draftLinks - the URL to publish the draft\n   */\n  async publishDraft(draftLinks) {\n    return this._createResponse(() =>\n      this.axiosWithConfig.post(draftLinks.publish, {}, { params: { expand: 1 } })\n    );\n  }\n\n  /**\n   * Deletes the draft by calling DELETE on its self link.\n   *\n   * @param {string} draftLinks - the URL to delete the draft\n   */\n  async deleteDraft(draftLinks) {\n    return this._createResponse(() => this.axiosWithConfig.delete(draftLinks.self, {}));\n  }\n\n  /**\n   * Calls the API to reserve a PID.\n   *\n   */\n  async reservePID(draftLinks, pidType) {\n    return this._createResponse(() => {\n      const linkName = `reserve_${pidType}`;\n      const link = draftLinks[linkName];\n      return this.axiosWithConfig.post(\n        link,\n        {},\n        {\n          params: { expand: 1 },\n        }\n      );\n    });\n  }\n\n  /**\n   * Calls the API to discard a previously reserved PID.\n   *\n   */\n  async discardPID(draftLinks, pidType) {\n    return this._createResponse(() => {\n      const linkName = `reserve_${pidType}`;\n      const link = draftLinks[linkName];\n      return this.axiosWithConfig.delete(link, {\n        params: { expand: 1 },\n      });\n    });\n  }\n\n  /**\n   * Creates a review request in initial state for draft by calling its\n   * review link.\n   *\n   * @param {object} draftLinks - the draft links object\n   */\n  async createOrUpdateReview(draftLinks, communityId) {\n    return this._createResponse(() =>\n      this.axiosWithConfig.put(draftLinks.review, {\n        receiver: {\n          community: communityId,\n        },\n        type: \"community-submission\",\n      })\n    );\n  }\n\n  /**\n   * Deletes a review request associated with the draft using its review link.\n   *\n   * @param {object} draftLinks - the draft links object\n   */\n  async deleteReview(draftLinks) {\n    return this._createResponse(() =>\n      this.axiosWithConfig.delete(draftLinks.review, {})\n    );\n  }\n\n  /**\n   * Submits the draft for review by calling its submit-review link.\n   *\n   * @param {object} draftLinks - the draft links object\n   */\n  async submitReview(draftLinks, reviewComment) {\n    return this._createResponse(() => {\n      return this.axiosWithConfig.post(\n        draftLinks[\"submit-review\"],\n        reviewComment\n          ? {\n              payload: {\n                content: reviewComment,\n                format: \"html\",\n              },\n            }\n          : {}\n      );\n    });\n  }\n\n  /**\n   * Cancels the review for the draft by calling its cancel link.\n   *\n   * @param reviewLinks\n   * @param reviewComment\n   */\n  async cancelReview(reviewLinks, reviewComment) {\n    return this.axiosWithConfig.post(\n      reviewLinks.actions.cancel,\n      reviewComment\n        ? {\n            payload: {\n              content: reviewComment,\n              format: \"html\",\n            },\n          }\n        : {}\n    );\n  }\n}\n\n/**\n * Abstract class for File API Client.\n * @constructor\n * @abstract\n */\nexport class DepositFileApiClient {\n  constructor(additionalApiConfig) {\n    if (this.constructor === DepositFileApiClient) {\n      throw new Error(\"Abstract\");\n    }\n    const additionalHeaders = _get(additionalApiConfig, \"headers\", {});\n    this.apiHeaders = Object.assign({}, BASE_HEADERS, additionalHeaders);\n\n    const apiConfig = {\n      withCredentials: true,\n      xsrfCookieName: \"csrftoken\",\n      xsrfHeaderName: \"X-CSRFToken\",\n      headers: this.apiHeaders.json,\n    };\n    this.axiosWithConfig = axios.create(apiConfig);\n  }\n\n  isCancelled(error) {\n    return axios.isCancel(error);\n  }\n\n  initializeFileUpload(initializeUploadUrl, filename) {\n    throw new Error(\"Not implemented.\");\n  }\n\n  uploadFile(uploadUrl, file, onUploadProgress, cancel) {\n    throw new Error(\"Not implemented.\");\n  }\n\n  finalizeFileUpload(finalizeUploadUrl) {\n    throw new Error(\"Not implemented.\");\n  }\n\n  deleteFile(fileLinks) {\n    throw new Error(\"Not implemented.\");\n  }\n}\n\n/**\n * Default File API Client for deposits.\n */\nexport class RDMDepositFileApiClient extends DepositFileApiClient {\n  initializeFileUpload(initializeUploadUrl, filename) {\n    const payload = [\n      {\n        key: filename,\n      },\n    ];\n    return this.axiosWithConfig.post(initializeUploadUrl, payload, {});\n  }\n\n  uploadFile(uploadUrl, file, onUploadProgressFn, cancelFn) {\n    return this.axiosWithConfig.put(uploadUrl, file, {\n      headers: this.apiHeaders[\"octet-stream\"],\n      onUploadProgress: (event) => {\n        const percent = Math.floor((event.loaded / event.total) * 100);\n        onUploadProgressFn && onUploadProgressFn(percent);\n      },\n      cancelToken: new axios.CancelToken(cancelFn),\n    });\n  }\n\n  finalizeFileUpload(finalizeUploadUrl) {\n    return this.axiosWithConfig.post(finalizeUploadUrl, {});\n  }\n\n  importParentRecordFiles(draftLinks) {\n    const link = `${draftLinks.self}/actions/files-import`;\n    return this.axiosWithConfig.post(link, {});\n  }\n\n  deleteFile(fileLinks) {\n    return this.axiosWithConfig.delete(fileLinks.self);\n  }\n}\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport _get from \"lodash/get\";\nimport _join from \"lodash/join\";\n\nexport class DepositErrorHandler {\n  /* eslint-disable-next-line no-unused-vars */\n  extractErrors(error, record) {\n    const backendErrors = _get(error, \"response.data.errors\", []);\n    const backendErrorMessage = _get(error, \"response.data.message\", \"\");\n    let frontendErrors = { message: backendErrorMessage };\n    for (const fieldError of backendErrors) {\n      const errorPath = _join([...fieldError.parents, fieldError.field], \".\");\n      frontendErrors[errorPath] = fieldError.message;\n    }\n\n    return frontendErrors;\n  }\n}\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport React, { Component } from \"react\";\nimport { BaseForm } from \"react-invenio-forms\";\nimport { connect } from \"react-redux\";\nimport {\n  DepositFormSubmitActions,\n  DepositFormSubmitContext,\n} from \"./DepositFormSubmitContext\";\nimport {\n  delete_,\n  discardPID,\n  preview,\n  publish,\n  reservePID,\n  save,\n  submitReview,\n} from \"./state/actions\";\nimport { scrollTop } from \"./utils\";\nimport PropTypes from \"prop-types\";\n\nclass DepositBootstrapComponent extends Component {\n  componentDidMount() {\n    const { fileUploadOngoing } = this.props;\n    window.addEventListener(\"beforeunload\", (e) => {\n      if (fileUploadOngoing) {\n        e.returnValue = \"\";\n        return \"\";\n      }\n    });\n    window.addEventListener(\"unload\", async () => {\n      // TODO: cancel all uploads\n      // Investigate if it's possible to wait for the deletion request to complete\n      // before unloading the page\n    });\n  }\n\n  submitContext = undefined;\n\n  setSubmitContext = (actionName, extra = {}) => {\n    this.submitContext = {\n      actionName: actionName,\n      extra: extra,\n    };\n  };\n\n  onFormSubmit = async (values, formikBag) => {\n    const {\n      saveAction,\n      publishAction,\n      submitReview,\n      previewAction,\n      deleteAction,\n      reservePIDAction,\n      discardPIDAction,\n    } = this.props;\n    const { actionName, extra } = this.submitContext;\n\n    let actionFunc = undefined;\n    const params = {};\n    switch (actionName) {\n      case DepositFormSubmitActions.SAVE:\n        actionFunc = saveAction;\n        break;\n      case DepositFormSubmitActions.PUBLISH:\n        actionFunc = publishAction;\n        break;\n      case DepositFormSubmitActions.PUBLISH_WITHOUT_COMMUNITY:\n        actionFunc = publishAction;\n        params[\"withoutCommunity\"] = true;\n        break;\n      case DepositFormSubmitActions.SUBMIT_REVIEW:\n        actionFunc = submitReview;\n        params[\"reviewComment\"] = extra[\"reviewComment\"];\n        break;\n      case DepositFormSubmitActions.PREVIEW:\n        actionFunc = previewAction;\n        break;\n      case DepositFormSubmitActions.DELETE:\n        actionFunc = deleteAction;\n        params[\"isDiscardingVersion\"] = extra[\"isDiscardingVersion\"];\n        break;\n      case DepositFormSubmitActions.RESERVE_PID:\n        actionFunc = reservePIDAction;\n        params[\"pidType\"] = extra[\"pidType\"];\n        break;\n      case DepositFormSubmitActions.DISCARD_PID:\n        actionFunc = discardPIDAction;\n        params[\"pidType\"] = extra[\"pidType\"];\n        break;\n      default:\n        throw Error(\"The submit btn must set the form action name.\");\n    }\n\n    try {\n      await actionFunc(values, params);\n    } catch (error) {\n      // make sure the error contains form errors, and not global errors.\n      if (error && error.errors) {\n        formikBag.setErrors(error.errors);\n      } else {\n        // scroll top to show the global error\n        scrollTop();\n      }\n    } finally {\n      // reset the action name after having handled it\n      this.submitContext = {};\n    }\n  };\n\n  render() {\n    const { errors, record, children } = this.props;\n    return (\n      <DepositFormSubmitContext.Provider\n        value={{ setSubmitContext: this.setSubmitContext }}\n      >\n        <BaseForm\n          onSubmit={this.onFormSubmit}\n          formik={{\n            // enableReinitialise needed due to\n            // updated draft PID (and the endpoint URL as a consequence).\n            // After saving draft for the first time, a new PID is obtained,\n            // initial values need to be updated with draft record containing\n            // the new PID in its payload, otherwise a new PID\n            // is requested on each action, generating countless drafts\n            enableReinitialize: true,\n            initialValues: record,\n            // errors need to be repopulated after form is reinitialised\n            ...(errors && { initialErrors: errors }),\n          }}\n        >\n          {children}\n        </BaseForm>\n      </DepositFormSubmitContext.Provider>\n    );\n  }\n}\n\nDepositBootstrapComponent.propTypes = {\n  errors: PropTypes.object,\n  record: PropTypes.object.isRequired,\n  children: PropTypes.node,\n  saveAction: PropTypes.func.isRequired,\n  publishAction: PropTypes.func.isRequired,\n  submitReview: PropTypes.func.isRequired,\n  previewAction: PropTypes.func.isRequired,\n  deleteAction: PropTypes.func.isRequired,\n  reservePIDAction: PropTypes.func.isRequired,\n  discardPIDAction: PropTypes.func.isRequired,\n  fileUploadOngoing: PropTypes.bool,\n};\n\nDepositBootstrapComponent.defaultProps = {\n  errors: undefined,\n  children: undefined,\n  fileUploadOngoing: false,\n};\n\nconst mapStateToProps = (state) => {\n  const { isFileUploadInProgress, ...files } = state.files;\n  return {\n    record: state.deposit.record,\n    errors: state.deposit.errors,\n    formState: state.deposit.formState,\n    fileUploadOngoing: isFileUploadInProgress,\n    files: files,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  publishAction: (values, { withoutCommunity = false }) =>\n    dispatch(publish(values, { withoutCommunity })),\n  submitReview: (values, { reviewComment }) =>\n    dispatch(submitReview(values, { reviewComment })),\n  saveAction: (values) => dispatch(save(values)),\n  previewAction: (values) => dispatch(preview(values)),\n  deleteAction: (values, { isDiscardingVersion }) =>\n    dispatch(delete_(values, { isDiscardingVersion })),\n  reservePIDAction: (values, { pidType }) => dispatch(reservePID(values, { pidType })),\n  discardPIDAction: (values, { pidType }) => dispatch(discardPID(values, { pidType })),\n});\n\nexport const DepositBootstrap = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DepositBootstrapComponent);\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nexport class DepositDraftsService {\n  /* eslint-disable no-unused-vars */\n  constructor(apiClient) {\n    if (this.constructor === DepositDraftsService) {\n      throw new Error(\"Abstract\");\n    }\n  }\n  async read(draftLinks) {\n    throw new Error(\"Not implemented.\");\n  }\n  async create(draft) {\n    throw new Error(\"Not implemented.\");\n  }\n  async save(draft) {\n    throw new Error(\"Not implemented.\");\n  }\n  async publish(draftLinks) {\n    throw new Error(\"Not implemented.\");\n  }\n  async delete(draftLinks) {\n    throw new Error(\"Not implemented.\");\n  }\n  async reservePID(draftLinks, pidType) {\n    throw new Error(\"Not implemented.\");\n  }\n  async discardPID(draftLinks, pidType) {\n    throw new Error(\"Not implemented.\");\n  }\n  async createOrUpdateReview(draftLinks, newCommunityId) {\n    throw new Error(\"Not implemented.\");\n  }\n  async deleteReview(draftLinks) {\n    throw new Error(\"Not implemented.\");\n  }\n  async submitReview(draftLinks) {\n    throw new Error(\"Not implemented.\");\n  }\n}\n\nexport class RDMDepositDraftsService extends DepositDraftsService {\n  constructor(apiClient) {\n    super();\n    this.apiClient = apiClient;\n  }\n\n  _draftAlreadyCreated(record) {\n    return !!record.id;\n  }\n\n  /**\n   * Creates the current draft (backend) and changes URL to match its edit URL.\n   */\n  async create(draft) {\n    return this.apiClient.createDraft(draft);\n  }\n\n  /**\n   * Read the current draft (backend).\n   */\n  async read(draftLinks) {\n    return this.apiClient.readDraft(draftLinks);\n  }\n\n  /**\n   * Saves the current draft (backend) and changes URL to match its edit URL.\n   */\n  async save(draft) {\n    return this._draftAlreadyCreated(draft)\n      ? this.apiClient.saveDraft(draft, draft.links)\n      : this.create(draft);\n  }\n\n  /**\n   * Publishes the current draft (backend) and redirects to its view URL.\n   */\n  async publish(draftLinks) {\n    return this.apiClient.publishDraft(draftLinks);\n  }\n\n  /**\n   * Deletes the current draft and redirects to uploads page.\n   */\n  async delete(draftLinks) {\n    return this.apiClient.deleteDraft(draftLinks);\n  }\n\n  /**\n   * Reserve a PID\n   */\n  async reservePID(draftLinks, pidType) {\n    return this.apiClient.reservePID(draftLinks, pidType);\n  }\n\n  /**\n   * Discard a previously reserved PID\n   */\n  async discardPID(draftLinks, pidType) {\n    return this.apiClient.discardPID(draftLinks, pidType);\n  }\n\n  /**\n   * Creates or updates a review request.\n   */\n  async createOrUpdateReview(draftLinks, newCommunityId) {\n    return this.apiClient.createOrUpdateReview(draftLinks, newCommunityId);\n  }\n\n  /**\n   * Deletes a review request associated with the draft.\n   */\n  async deleteReview(draftLinks) {\n    return this.apiClient.deleteReview(draftLinks);\n  }\n\n  /**\n   * Submits the draft for review.\n   */\n  async submitReview(draftLinks, reviewComment) {\n    return this.apiClient.submitReview(draftLinks, reviewComment);\n  }\n}\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\n// Drives the business logic of the InvenioFormApp.\n// Defines what happens when a button is clicked.\n\nimport { UploadState } from \"./state/reducers/files\";\n\nclass UploaderQueue {\n  currents = [];\n  pending = [];\n\n  put(initializeUploadURL, file) {\n    this.pending.push({\n      initializeUploadURL: initializeUploadURL,\n      file: file,\n    });\n  }\n\n  get totalInProgress() {\n    return this.currents.length;\n  }\n\n  get next() {\n    // remove from the pending and add it to the currents\n    const nextFile = this.pending.shift();\n    if (nextFile !== undefined) {\n      this.currents.push(nextFile.file);\n    }\n\n    return nextFile;\n  }\n\n  markCompleted(file) {\n    const index = this.currents.indexOf(file);\n    if (index >= 0) {\n      // remove from the current\n      this.currents.splice(index, 1);\n    }\n  }\n}\n\nexport class UploadProgressNotifier {\n  /* eslint-disable no-unused-vars */\n  constructor(dispatcher) {\n    this.dispatcher = dispatcher;\n  }\n  onUploadAdded(filename) {\n    throw new Error(\"Not implemented.\");\n  }\n  onUploadStarted(filename, cancelFunc) {\n    throw new Error(\"Not implemented.\");\n  }\n  onUploadProgress(filename, percent) {\n    throw new Error(\"Not implemented.\");\n  }\n  onUploadCompleted(filename, size, checksum, links) {\n    throw new Error(\"Not implemented.\");\n  }\n  onUploadCancelled(filename) {\n    throw new Error(\"Not implemented.\");\n  }\n  onUploadFailed(filename) {\n    throw new Error(\"Not implemented.\");\n  }\n}\n\nexport class DepositFilesService {\n  constructor(fileApiClient, fileUploadConcurrency) {\n    if (this.constructor === DepositFilesService) {\n      throw new Error(\"Abstract\");\n    }\n  }\n\n  setProgressNotifier(progressNotifier) {\n    if (!(progressNotifier instanceof UploadProgressNotifier)) {\n      throw new Error(\n        \"Progress notifier must be an instance of `UploadProgressNotifier`\"\n      );\n    }\n    this.progressNotifier = progressNotifier;\n  }\n\n  async upload(initializeUploadURL, file, progressNotifier) {\n    throw new Error(\"Not implemented.\");\n  }\n\n  async delete(fileLinks) {\n    throw new Error(\"Not implemented.\");\n  }\n\n  async importParentRecordFiles(draftLinks) {\n    throw new Error(\"Not implemented.\");\n  }\n}\n\nexport class RDMDepositFilesService extends DepositFilesService {\n  constructor(fileApiClient, fileUploadConcurrency) {\n    super();\n    this.fileApiClient = fileApiClient;\n    this.maxConcurrentUploads = fileUploadConcurrency || 3;\n    this.uploaderQueue = new UploaderQueue();\n  }\n\n  _initializeUpload = async (initializeUploadURL, file) => {\n    const response = await this.fileApiClient.initializeFileUpload(\n      initializeUploadURL,\n      file.name\n    );\n\n    // get the init file with the sent filename\n    const initializedFile = response.data.entries.filter(\n      (entry) => entry.key.normalize() === file.name.normalize()\n    )[0]; // this should throw an error if not found\n\n    return initializedFile;\n  };\n\n  _doUpload = async (uploadUrl, file) =>\n    await this.fileApiClient.uploadFile(\n      uploadUrl,\n      file,\n      (percent) => this.progressNotifier.onUploadProgress(file.name, percent),\n      (cancelFn) => this.progressNotifier.onUploadStarted(file.name, cancelFn)\n    );\n\n  _finalizeUpload = async (commitFileURL, file) => {\n    // Regardless of what is the status of the finalize step we start\n    // the next upload in the queue\n    this.uploaderQueue.markCompleted(file);\n    this._startNextUpload();\n\n    const response = await this.fileApiClient.finalizeFileUpload(commitFileURL);\n    return response.data;\n  };\n\n  _onError = (file, isCancelled = false) => {\n    if (isCancelled) {\n      this.progressNotifier.onUploadCancelled(file.name);\n    } else {\n      this.progressNotifier.onUploadFailed(file.name);\n    }\n    this.uploaderQueue.markCompleted(file);\n    this._startNextUpload();\n  };\n\n  _startNewUpload = async (initializeUploadURL, file) => {\n    let initializedFileMetadata;\n    try {\n      initializedFileMetadata = await this._initializeUpload(initializeUploadURL, file);\n    } catch (error) {\n      this._onError(file);\n      return;\n    }\n\n    const startUploadURL = initializedFileMetadata.links.content;\n    const commitFileURL = initializedFileMetadata.links.commit;\n    try {\n      await this._doUpload(startUploadURL, file);\n      const fileData = await this._finalizeUpload(commitFileURL, file);\n      this.progressNotifier.onUploadCompleted(\n        fileData.key,\n        fileData.size,\n        fileData.checksum,\n        fileData.links\n      );\n    } catch (error) {\n      await this.delete(initializedFileMetadata.links);\n      const isCancelled = this.fileApiClient.isCancelled(error);\n      this._onError(file, isCancelled);\n    }\n  };\n\n  _startNextUpload = async () => {\n    const shouldStartNewUpload =\n      this.uploaderQueue.totalInProgress < this.maxConcurrentUploads;\n\n    if (shouldStartNewUpload) {\n      const nextFile = this.uploaderQueue.next;\n      if (nextFile) {\n        await this._startNewUpload(nextFile.initializeUploadURL, nextFile.file);\n      }\n    }\n  };\n\n  upload = async (initializeUploadURL, file) => {\n    this.uploaderQueue.put(initializeUploadURL, file);\n    this.progressNotifier.onUploadAdded(file.name);\n\n    await this._startNextUpload();\n  };\n\n  delete = async (fileLinks) => {\n    return await this.fileApiClient.deleteFile(fileLinks);\n  };\n\n  importParentRecordFiles = async (draftLinks) => {\n    const response = await this.fileApiClient.importParentRecordFiles(draftLinks);\n\n    return response.data.entries.reduce(\n      (acc, file) => ({\n        ...acc,\n        [file.key]: {\n          status: UploadState.finished,\n          size: file.size,\n          name: file.key,\n          progressPercentage: 100,\n          checksum: file.checksum,\n          links: file.links,\n        },\n      }),\n      {}\n    );\n  };\n}\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport _get from \"lodash/get\";\nimport _set from \"lodash/set\";\nimport _cloneDeep from \"lodash/cloneDeep\";\n\nexport class Field {\n  constructor({\n    fieldpath,\n    deserializedDefault = null,\n    serializedDefault = null,\n    allowEmpty = false,\n  }) {\n    this.fieldpath = fieldpath;\n    this.deserializedDefault = deserializedDefault;\n    this.serializedDefault = serializedDefault;\n    this.allowEmpty = allowEmpty;\n  }\n\n  deserialize(record) {\n    let fieldValue = _get(record, this.fieldpath, this.deserializedDefault);\n    if (fieldValue !== null) {\n      return _set(_cloneDeep(record), this.fieldpath, fieldValue);\n    }\n    return record;\n  }\n\n  serialize(record) {\n    let fieldValue = _get(record, this.fieldpath, this.serializedDefault);\n    if (fieldValue !== null) {\n      return _set(_cloneDeep(record), this.fieldpath, fieldValue);\n    }\n    return record;\n  }\n}\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2021 CERN.\n// Copyright (C) 2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport _cloneDeep from \"lodash/cloneDeep\";\nimport _get from \"lodash/get\";\nimport _pick from \"lodash/pick\";\nimport _set from \"lodash/set\";\nimport { Field } from \"./Field\";\n\nexport class SchemaField extends Field {\n  /**\n   * IMPORTANT: This component is so far only for list subfields, since\n   * the use case of a single object with schema has not arisen yet.\n   */\n  constructor({ fieldpath, schema, deserializedDefault = [], serializedDefault = [] }) {\n    super({ fieldpath, deserializedDefault, serializedDefault });\n    this.schema = schema;\n    this.schemaKeys = Object.keys(this.schema);\n  }\n\n  /**\n   * Deserialize backend field given by `this.fieldPath` from `serialized`\n   * object into format compatible with frontend using `this.schema`.\n   * @method\n   * @param {object} serialized - in API format\n   * @returns {object} deserialized - in frontent format\n   */\n  deserialize(serialized, defaultLocale) {\n    const fieldValues = _get(serialized, this.fieldpath, this.deserializedDefault);\n    const deserializedElements = fieldValues.map((value, i) => {\n      let deserializedElement = _pick(value, this.schemaKeys);\n      this.schemaKeys.forEach((key) => {\n        deserializedElement = this.schema[key].deserialize(\n          deserializedElement,\n          defaultLocale\n        );\n      });\n      // Add __key\n      deserializedElement.__key = i;\n      return deserializedElement;\n    });\n\n    return _set(_cloneDeep(serialized), this.fieldpath, deserializedElements);\n  }\n\n  /**\n   * Serialize frontend field given by `this.fieldPath` from `deserialized`\n   * object into format compatible with backend using `this.schema`.\n   * @method\n   * @param {object} deserialized - in frontend format\n   * @returns {object} serialized - in API format\n   *\n   */\n  serialize(deserialized, defaultLocale) {\n    const fieldValues = _get(deserialized, this.fieldpath, this.serializedDefault);\n    const serializedElements = fieldValues.map((value) => {\n      let serializedElement = _pick(value, this.schemaKeys);\n      this.schemaKeys.forEach((key) => {\n        serializedElement = this.schema[key].serialize(\n          serializedElement,\n          defaultLocale\n        );\n      });\n      return serializedElement;\n    });\n    if (serializedElements !== null) {\n      return _set(_cloneDeep(deserialized), this.fieldpath, serializedElements);\n    }\n    return serializedElements;\n  }\n}\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2021 CERN.\n// Copyright (C) 2020-2021 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport _get from \"lodash/get\";\nimport _set from \"lodash/set\";\nimport _cloneDeep from \"lodash/cloneDeep\";\n\nimport { Field } from \"./Field\";\n\nexport class VocabularyField extends Field {\n  constructor({\n    fieldpath,\n    deserializedDefault = null,\n    serializedDefault = null,\n    labelField = \"name\",\n  }) {\n    super({ fieldpath, deserializedDefault, serializedDefault });\n    this.labelField = labelField;\n  }\n\n  /**\n   * Deserializes a given record.\n   *\n   * @param {object} record The record to be deserialized.\n   *\n   * @returns {object} Returns a deep copy of the given record, deserialized using the provided settings.\n   */\n  deserialize(record) {\n    /**\n     * Deserializes an object.\n     *\n     * If the object contains an id, its returned as-is.\n     *\n     * @param {object} value The object to be deserialized.\n     *\n     * @returns {(object|*)} Returns a clone of the given object or its 'id' property, if exists.\n     */\n    const _deserialize = (value) => {\n      if (value?.id) {\n        return value.id;\n      }\n    };\n\n    const fieldValue = _get(record, this.fieldpath, this.deserializedDefault);\n    let deserializedValue = null;\n    if (fieldValue !== null) {\n      deserializedValue = Array.isArray(fieldValue)\n        ? fieldValue.map(_deserialize)\n        : _deserialize(fieldValue);\n    }\n\n    return _set(_cloneDeep(record), this.fieldpath, deserializedValue || fieldValue);\n  }\n\n  serialize(record) {\n    const _serialize = (value) => {\n      if (typeof value === \"string\") {\n        return { id: value };\n      }\n\n      return {\n        ...(value.id ? { id: value.id } : {}),\n        ...(value[this.labelField] && { [this.labelField]: value[this.labelField] }),\n      };\n    };\n\n    let fieldValue = _get(record, this.fieldpath, this.serializedDefault);\n    let serializedValue = null;\n    if (fieldValue !== null) {\n      serializedValue = Array.isArray(fieldValue)\n        ? fieldValue.map(_serialize)\n        : _serialize(fieldValue); // fieldValue is a string\n    }\n\n    return _set(_cloneDeep(record), this.fieldpath, serializedValue || fieldValue);\n  }\n}\n\nexport class AllowAdditionsVocabularyField extends VocabularyField {\n  deserialize(record) {\n    const fieldValue = _get(record, this.fieldpath, this.deserializedDefault);\n    // We deserialize the values in the format\n    // {id: 'vocab_id', <labelField>: 'vacab_name'} for controlled values\n    // and {<labelField>: 'vocab_name'} for user added entries\n    const _deserialize = (value) => ({\n      ...(value.id ? { id: value.id } : {}),\n      [this.labelField]: value[this.labelField],\n    });\n    let deserializedValue = null;\n    if (fieldValue !== null) {\n      deserializedValue = Array.isArray(fieldValue)\n        ? fieldValue.map(_deserialize)\n        : _deserialize(fieldValue);\n    }\n    return _set(_cloneDeep(record), this.fieldpath, deserializedValue || fieldValue);\n  }\n}\n\n/**\n * Serialize and deserialize rights field that can contain vocabulary values\n * and free text but sharing structure with the vocabulary values\n */\nexport class RightsVocabularyField extends VocabularyField {\n  constructor({\n    fieldpath,\n    deserializedDefault = null,\n    serializedDefault = null,\n    localeFields = [],\n  }) {\n    super({ fieldpath, deserializedDefault, serializedDefault });\n    this.localeFields = localeFields;\n  }\n\n  /**\n   * Deserializes the values in the format:\n   * {id: 'vocab_id'} for controlled vocabs and\n   * {<field_name>: 'field_name', <field_descripton>: 'field_descripton', ...}\n   * for user added entries\n   *\n   * @param {Object} record - Record to deserialize\n   * @param {String} defaultLocale - The default locale\n   * @returns\n   */\n  deserialize(record, defaultLocale) {\n    const fieldValue = _get(record, this.fieldpath, this.deserializedDefault);\n    const _deserialize = (value) => {\n      if (\"id\" in value) {\n        if (typeof value.title === \"string\") {\n          // Needed in case we pass a default value\n          return value;\n        }\n        return { id: value.id };\n      } else {\n        let deserializedValue = _cloneDeep(value);\n        this.localeFields.forEach((field) => {\n          if (value[field]) {\n            deserializedValue[field] = value[field][defaultLocale];\n          }\n        });\n        return deserializedValue;\n      }\n    };\n    let deserializedValue = null;\n    if (fieldValue !== null) {\n      deserializedValue = Array.isArray(fieldValue)\n        ? fieldValue.map(_deserialize)\n        : _deserialize(fieldValue);\n    }\n    return _set(_cloneDeep(record), this.fieldpath, deserializedValue || fieldValue);\n  }\n\n  /**\n   * Serializes the values in the format:\n   * {id: 'vocab_id'} for controlled vocabs and\n   * {\n   *    <field_name>:\n   *      { '<default_locale>: 'field_name'},\n   *    <field_descripton>:\n   *      { <default_locale>: 'field_descripton'}\n   * }\n   * for user added entries\n   * @param {object} record - Record to serialize\n   * @param {string} defaultLocale - The default locale\n   * @returns\n   */\n  serialize(record, defaultLocale) {\n    let fieldValue = _get(record, this.fieldpath, this.serializedDefault);\n    let serializedValue = null;\n    const _serialize = (value) => {\n      let clonedValue = _cloneDeep(value);\n      if (\"id\" in value) {\n        return { id: value.id };\n      } else {\n        this.localeFields.forEach((field) => {\n          if (field in value) {\n            clonedValue[field] = { [defaultLocale]: value[field] };\n          }\n        });\n      }\n\n      return clonedValue;\n    };\n    if (fieldValue !== null) {\n      serializedValue = Array.isArray(fieldValue)\n        ? fieldValue.map(_serialize)\n        : _serialize(fieldValue);\n    }\n\n    return _set(_cloneDeep(record), this.fieldpath, serializedValue || fieldValue);\n  }\n}\n\nexport class FundingField extends Field {\n  constructor({ fieldpath, deserializedDefault = null, serializedDefault = null }) {\n    super({ fieldpath, deserializedDefault, serializedDefault });\n  }\n\n  /**\n   * Deserializes a funding record.\n   *\n   * @param {object} record the funding record to be deserialized.\n   * @param {string} defaultLocale - The default locale\n   *\n   * @returns {object} the deserialized record.\n   */\n  deserialize(record, defaultLocale) {\n    /**\n     * Deserializes a record. In case the record contains a 'title' property, it will extract its 'en' property.\n     *\n     * @param {object} value The object to be deserialized.\n     *\n     * @todo record's title is deserialized reading an 'en' locale. This needs to take into account the current locale or pass that\n     * responsability to backend.\n     *\n     * @returns {(object|*)} Returns a deep copy of the given object.\n     */\n    const _deserialize = (value) => {\n      const deserializedValue = _cloneDeep(value);\n      if (value?.title) {\n        deserializedValue.title = value.title[defaultLocale];\n      }\n\n      if (value.identifiers) {\n        const allowedIdentifiers = [\"url\"];\n\n        allowedIdentifiers.forEach((identifier) => {\n          let identifierValue = null;\n          value.identifiers.forEach((v) => {\n            if (v.scheme === identifier) {\n              identifierValue = v.identifier;\n            }\n          });\n\n          if (identifierValue) {\n            deserializedValue[identifier] = identifierValue;\n          }\n        });\n\n        delete deserializedValue[\"identifiers\"];\n      }\n      return deserializedValue;\n    };\n\n    const fieldValue = _get(record, this.fieldpath, this.deserializedDefault);\n    let deserializedValue = null;\n    if (fieldValue !== null) {\n      deserializedValue = Array.isArray(fieldValue)\n        ? fieldValue.map(_deserialize)\n        : _deserialize(fieldValue);\n    }\n\n    return _set(_cloneDeep(record), this.fieldpath, deserializedValue || fieldValue);\n  }\n\n  /**\n   * Serializes a funding record.\n   *\n   * @param {object} record\n   * @param {string} defaultLocale - The default locale\n   *\n   * @returns\n   */\n  serialize(record, defaultLocale) {\n    /**\n     * Serializes a record. Either returns a new object with the record's id or returns a deep copy of the record.\n     *\n     * @param {object} value\n     *\n     * @todo record's title is serialized forcing an 'en' locale. This needs to take into account the current locale or pass that\n     * responsability to backend.\n     *\n     * @returns an object containing the record's id, if it has an 'id' property.\n     */\n    const _serialize = (value) => {\n      if (value.id) {\n        return { id: value.id };\n      }\n\n      // Record is a custom record, without explicit 'id'\n      const clonedValue = _cloneDeep(value);\n      if (value.title) {\n        clonedValue.title = {\n          [defaultLocale]: value.title,\n        };\n      }\n\n      if (value.url) {\n        clonedValue.identifiers = [\n          {\n            identifier: value.url,\n            scheme: \"url\",\n          },\n        ];\n        delete clonedValue[\"url\"];\n      }\n\n      return clonedValue;\n    };\n\n    let fieldValue = _get(record, this.fieldpath, this.serializedDefault);\n    let serializedValue = null;\n    if (fieldValue !== null) {\n      serializedValue = Array.isArray(fieldValue)\n        ? fieldValue.map(_serialize)\n        : _serialize(fieldValue);\n    }\n\n    return _set(_cloneDeep(record), this.fieldpath, serializedValue || fieldValue);\n  }\n}\n","export default function _classPrivateFieldBase(receiver, privateKey) {\n  if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n    throw new TypeError(\"attempted to use private field on non-instance\");\n  }\n\n  return receiver;\n}","var id = 0;\nexport default function _classPrivateFieldKey(name) {\n  return \"__private_\" + id++ + \"_\" + name;\n}","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport _get from \"lodash/get\";\nimport _set from \"lodash/set\";\nimport _cloneDeep from \"lodash/cloneDeep\";\nimport _isArray from \"lodash/isArray\";\nimport { Field } from \"./Field\";\n\nexport class CustomField extends Field {\n  constructor({\n    fieldpath,\n    deserializedDefault = null,\n    serializedDefault = null,\n    allowEmpty = false,\n    vocabularyFields = [],\n  }) {\n    super({ fieldpath, deserializedDefault, serializedDefault, allowEmpty });\n    this.vocabularyFields = vocabularyFields;\n  }\n\n  #mapCustomFields(record, customFields, mapValue) {\n    if (customFields !== null) {\n      for (const [key, value] of Object.entries(customFields)) {\n        const isVocabularyField = this.vocabularyFields.includes(key);\n        const _value = _isArray(value)\n          ? value.map((v, i) => mapValue(v, i, isVocabularyField))\n          : mapValue(value, null, isVocabularyField);\n        record = _set(record, `custom_fields.${key}`, _value);\n      }\n    }\n  }\n\n  deserialize(record) {\n    const _deserialize = (value, i = undefined, isVocabulary = false) => {\n      if (isVocabulary && value?.id) {\n        return value.id;\n      }\n      // Add __key if i is passed i.e is an array. This is needed because of ArrayField\n      // internal implementation\n      if (i) value.__key = i;\n      return value;\n    };\n    const _record = _cloneDeep(record);\n    const customFields = _get(record, this.fieldpath, this.deserializedDefault);\n    this.#mapCustomFields(_record, customFields, _deserialize);\n    return _record;\n  }\n\n  serialize(record) {\n    const _serialize = (value, i = undefined, isVocabulary = false) => {\n      if (isVocabulary && typeof value === \"string\") {\n        return { id: value };\n      }\n      // Delete internal __key from the sent request payload\n      delete value.__key;\n      return value;\n    };\n    const _record = _cloneDeep(record);\n    const customFields = _get(record, this.fieldpath, this.serializedDefault);\n    this.#mapCustomFields(_record, customFields, _serialize);\n    return _record;\n  }\n}\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport _cloneDeep from \"lodash/cloneDeep\";\nimport _defaults from \"lodash/defaults\";\nimport _isArray from \"lodash/isArray\";\nimport _isBoolean from \"lodash/isBoolean\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _isNull from \"lodash/isNull\";\nimport _isNumber from \"lodash/isNumber\";\nimport _isObject from \"lodash/isObject\";\nimport _mapValues from \"lodash/mapValues\";\nimport _pick from \"lodash/pick\";\nimport _pickBy from \"lodash/pickBy\";\nimport _set from \"lodash/set\";\nimport {\n  AllowAdditionsVocabularyField,\n  CustomField,\n  Field,\n  FundingField,\n  RightsVocabularyField,\n  SchemaField,\n  VocabularyField,\n} from \"./fields\";\n\nexport class DepositRecordSerializer {\n  /* eslint-disable no-unused-vars */\n  constructor(defaultLocale) {\n    if (this.constructor === DepositRecordSerializer) {\n      throw new Error(\"Abstract\");\n    }\n  }\n\n  deserialize(record) {\n    throw new Error(\"Not implemented.\");\n  }\n  deserializeErrors(errors) {\n    throw new Error(\"Not implemented.\");\n  }\n  serialize(record) {\n    throw new Error(\"Not implemented.\");\n  }\n}\n\nexport class RDMDepositRecordSerializer extends DepositRecordSerializer {\n  constructor(defaultLocale, customFieldVocabularies = []) {\n    super();\n    this.defaultLocale = defaultLocale;\n    this.customFieldVocabularies = customFieldVocabularies;\n  }\n\n  get depositRecordSchema() {\n    return {\n      files: new Field({\n        fieldpath: \"files\",\n      }),\n      links: new Field({\n        fieldpath: \"links\",\n      }),\n      expanded: new Field({\n        fieldpath: \"expanded\",\n        deserializedDefault: {},\n      }),\n      pids: new Field({\n        fieldpath: \"pids\",\n        deserializedDefault: {},\n        serializedDefault: {},\n      }),\n      title: new Field({\n        fieldpath: \"metadata.title\",\n        deserializedDefault: \"\",\n      }),\n      additional_titles: new SchemaField({\n        fieldpath: \"metadata.additional_titles\",\n        schema: {\n          title: new Field({\n            fieldpath: \"title\",\n          }),\n          type: new VocabularyField({\n            fieldpath: \"type\",\n            deserializedDefault: \"\",\n            serializedDefault: \"\",\n          }),\n          lang: new VocabularyField({\n            fieldpath: \"lang\",\n            deserializedDefault: \"\",\n            serializedDefault: \"\",\n          }),\n        },\n      }),\n      additional_descriptions: new SchemaField({\n        fieldpath: \"metadata.additional_descriptions\",\n        schema: {\n          description: new Field({\n            fieldpath: \"description\",\n          }),\n          type: new VocabularyField({\n            fieldpath: \"type\",\n            deserializedDefault: \"\",\n            serializedDefault: \"\",\n          }),\n          lang: new VocabularyField({\n            fieldpath: \"lang\",\n            deserializedDefault: \"\",\n            serializedDefault: \"\",\n          }),\n        },\n      }),\n      creators: new SchemaField({\n        fieldpath: \"metadata.creators\",\n        schema: {\n          person_or_org: new Field({\n            fieldpath: \"person_or_org\",\n          }),\n          role: new VocabularyField({\n            fieldpath: \"role\",\n            deserializedDefault: \"\",\n            serializedDefault: \"\",\n          }),\n          affiliations: new AllowAdditionsVocabularyField({\n            fieldpath: \"affiliations\",\n            deserializedDefault: [],\n            serializedDefault: [],\n            labelField: \"name\",\n          }),\n        },\n      }),\n      contributors: new SchemaField({\n        fieldpath: \"metadata.contributors\",\n        schema: {\n          person_or_org: new Field({\n            fieldpath: \"person_or_org\",\n          }),\n          role: new VocabularyField({\n            fieldpath: \"role\",\n            deserializedDefault: \"\",\n            serializedDefault: \"\",\n          }),\n          affiliations: new AllowAdditionsVocabularyField({\n            fieldpath: \"affiliations\",\n            deserializedDefault: [],\n            serializedDefault: [],\n            labelField: \"name\",\n          }),\n        },\n      }),\n      resource_type: new VocabularyField({\n        fieldpath: \"metadata.resource_type\",\n        deserializedDefault: \"\",\n        serializedDefault: \"\",\n      }),\n      access: new Field({\n        fieldpath: \"access\",\n        deserializedDefault: {\n          record: \"public\",\n          files: \"public\",\n        },\n      }),\n      publication_date: new Field({\n        fieldpath: \"metadata.publication_date\",\n        deserializedDefault: \"\",\n      }),\n      dates: new SchemaField({\n        fieldpath: \"metadata.dates\",\n        schema: {\n          date: new Field({\n            fieldpath: \"date\",\n          }),\n          type: new VocabularyField({\n            fieldpath: \"type\",\n            deserializedDefault: \"\",\n            serializedDefault: \"\",\n          }),\n          description: new Field({\n            fieldpath: \"description\",\n          }),\n        },\n        deserializedDefault: [],\n      }),\n      languages: new VocabularyField({\n        fieldpath: \"metadata.languages\",\n        deserializedDefault: [],\n        serializedDefault: [],\n      }),\n      identifiers: new SchemaField({\n        fieldpath: \"metadata.identifiers\",\n        schema: {\n          scheme: new Field({\n            fieldpath: \"scheme\",\n          }),\n          identifier: new Field({\n            fieldpath: \"identifier\",\n          }),\n        },\n        deserializedDefault: [],\n      }),\n      related_identifiers: new SchemaField({\n        fieldpath: \"metadata.related_identifiers\",\n        schema: {\n          scheme: new Field({\n            fieldpath: \"scheme\",\n          }),\n          identifier: new Field({\n            fieldpath: \"identifier\",\n          }),\n          relation_type: new VocabularyField({\n            fieldpath: \"relation_type\",\n            deserializedDefault: \"\",\n            serializedDefault: \"\",\n          }),\n          resource_type: new VocabularyField({\n            fieldpath: \"resource_type\",\n            deserializedDefault: \"\",\n            serializedDefault: \"\",\n          }),\n        },\n        deserializedDefault: [],\n      }),\n      subjects: new AllowAdditionsVocabularyField({\n        fieldpath: \"metadata.subjects\",\n        deserializedDefault: [],\n        serializedDefault: [],\n        labelField: \"subject\",\n      }),\n      funding: new SchemaField({\n        fieldpath: \"metadata.funding\",\n        schema: {\n          award: new FundingField({\n            fieldpath: \"award\",\n            deserializedDefault: {},\n          }),\n          funder: new FundingField({\n            fieldpath: \"funder\",\n            deserializedDefault: {},\n          }),\n        },\n      }),\n      version: new Field({\n        fieldpath: \"metadata.version\",\n        deserializedDefault: \"\",\n      }),\n      rights: new RightsVocabularyField({\n        fieldpath: \"metadata.rights\",\n        deserializedDefault: [],\n        serializedDefault: [],\n        localeFields: [\"title\", \"description\"],\n      }),\n      custom_fields: new CustomField({\n        fieldpath: \"custom_fields\",\n        deserializedDefault: {},\n        serializedDefault: {},\n        vocabularyFields: this.customFieldVocabularies,\n      }),\n    };\n  }\n\n  /**\n   * Remove empty fields from record\n   * @method\n   * @param {object} obj - potentially empty object\n   * @returns {object} record - without empty fields\n   */\n  _removeEmptyValues(obj) {\n    if (_isArray(obj)) {\n      let mappedValues = obj.map((value) => this._removeEmptyValues(value));\n      let filterValues = mappedValues.filter((value) => {\n        if (_isBoolean(value) || _isNumber(value)) {\n          return value;\n        }\n        return !_isEmpty(value);\n      });\n      return filterValues;\n    } else if (_isObject(obj)) {\n      let mappedValues = _mapValues(obj, (value) => this._removeEmptyValues(value));\n      let pickedValues = _pickBy(mappedValues, (value) => {\n        if (_isArray(value) || _isObject(value)) {\n          return !_isEmpty(value);\n        }\n        return !_isNull(value);\n      });\n      return pickedValues;\n    }\n    return _isNumber(obj) || _isBoolean(obj) || obj ? obj : null;\n  }\n\n  /**\n   * Deserialize backend record into format compatible with frontend.\n   * @method\n   * @param {object} record - potentially empty object\n   * @returns {object} frontend compatible record object\n   */\n  deserialize(record) {\n    // NOTE: cloning nows allows us to manipulate the copy with impunity\n    //       without affecting the original\n    const originalRecord = _pick(_cloneDeep(record), [\n      \"access\",\n      \"expanded\",\n      \"metadata\",\n      \"id\",\n      \"links\",\n      \"files\",\n      \"is_published\",\n      \"versions\",\n      \"parent\",\n      \"status\",\n      \"pids\",\n      \"ui\",\n      \"custom_fields\",\n    ]);\n\n    // FIXME: move logic in a more sophisticated PIDField that allows empty values\n    // to be sent in the backend\n    const savedPIDsFieldValue = originalRecord.pids || {};\n\n    // Remove empty null values from record. This happens when we create a new\n    // draft and the backend produces an empty record filled in with null\n    // values, array of null values etc.\n    // TODO: Backend should not attempt to provide empty values. It should just\n    //       return existing record in case of edit or {} in case of new.\n    let deserializedRecord = this._removeEmptyValues(originalRecord);\n\n    // FIXME: Add back pids field in case it was removed\n    deserializedRecord = {\n      ...deserializedRecord,\n      ...(!_isEmpty(savedPIDsFieldValue) ? { pids: savedPIDsFieldValue } : {}),\n    };\n\n    for (const key in this.depositRecordSchema) {\n      deserializedRecord = this.depositRecordSchema[key].deserialize(\n        deserializedRecord,\n        this.defaultLocale\n      );\n    }\n    return deserializedRecord;\n  }\n\n  /**\n   * Deserialize backend record errors into format compatible with frontend.\n   * @method\n   * @param {array} errors - array of error objects\n   * @returns {object} - object representing errors\n   */\n  deserializeErrors(errors) {\n    let deserializedErrors = {};\n\n    // TODO - WARNING: This doesn't convert backend error paths to frontend\n    //                 error paths. Doing so is non-trivial\n    //                 (re-using deserialize has some caveats)\n    //                 Form/Error UX is tackled in next sprint and this is good\n    //                 enough for now.\n    for (const e of errors) {\n      _set(deserializedErrors, e.field, e.messages.join(\" \"));\n    }\n\n    return deserializedErrors;\n  }\n\n  /**\n   * Serialize record to send to the backend.\n   * @method\n   * @param {object} record - in frontend format\n   * @returns {object} record - in API format\n   *\n   */\n  serialize(record) {\n    // NOTE: cloning nows allows us to manipulate the copy with impunity without\n    //       affecting the original\n    let originalRecord = _pick(_cloneDeep(record), [\n      \"access\",\n      \"metadata\",\n      \"id\",\n      \"links\",\n      \"files\",\n      \"pids\",\n      \"parent\",\n      \"custom_fields\",\n    ]);\n\n    // Save pids so they are not removed when an empty value is passed\n    let savedPIDsFieldValue = originalRecord.pids || {};\n\n    let serializedRecord = this._removeEmptyValues(originalRecord);\n\n    for (let key in this.depositRecordSchema) {\n      serializedRecord = this.depositRecordSchema[key].serialize(\n        serializedRecord,\n        this.defaultLocale\n      );\n    }\n\n    // Remove empty values again because serialization may add some back\n    serializedRecord = this._removeEmptyValues(serializedRecord);\n\n    // Add back pids field in case it was removed\n    serializedRecord = {\n      ...serializedRecord,\n      // always send a `pids` key even if it's empty so the backend doesn't depend on\n      // the previous state.\n      ...{ pids: _isEmpty(savedPIDsFieldValue) ? {} : savedPIDsFieldValue },\n    };\n\n    // Finally add back 'metadata' if absent\n    // We need to do this for backend validation, unless we mark metadata as\n    // required in the backend or find another alternative.\n    _defaults(serializedRecord, { metadata: {}, custom_fields: {} });\n\n    return serializedRecord;\n  }\n}\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nexport class DepositService {\n  constructor(draftsService, filesService) {\n    this.draftsService = draftsService;\n    this.filesService = filesService;\n  }\n\n  get drafts() {\n    return this.draftsService;\n  }\n\n  get files() {\n    return this.filesService;\n  }\n}\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { combineReducers } from \"redux\";\nimport depositReducer from \"./deposit\";\nimport fileReducer from \"./files\";\n\nexport default combineReducers({\n  deposit: depositReducer,\n  files: fileReducer,\n});\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport _cloneDeep from \"lodash/cloneDeep\";\nimport _get from \"lodash/get\";\nimport { applyMiddleware, compose, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./state/reducers\";\nimport { computeDepositState } from \"./state/reducers/deposit\";\nimport { UploadState } from \"./state/reducers/files\";\n\nconst preloadFiles = (files) => {\n  const _files = _cloneDeep(files);\n  return {\n    links: files.links || {},\n    entries: _get(_files, \"entries\", [])\n      .map((file) => {\n        let hasSize = file.size >= 0;\n        const fileState = {\n          name: file.key,\n          size: file.size || 0,\n          checksum: file.checksum || \"\",\n          links: file.links || {},\n        };\n        // TODO: fix this as the lack of size is not always an error e.g upload ongoing in another tab\n        return hasSize\n          ? {\n              status: UploadState.finished,\n              progressPercentage: 100,\n              ...fileState,\n            }\n          : { status: UploadState.pending, ...fileState };\n      })\n      .reduce((acc, current) => {\n        acc[current.name] = { ...current };\n        return acc;\n      }, {}),\n  };\n};\n\nexport function configureStore(appConfig) {\n  const { record, preselectedCommunity, files, config, permissions, ...extra } =\n    appConfig;\n\n  // when not passed, make sure that the value is `undefined` and not `null`\n  const _preselectedCommunity = preselectedCommunity || undefined;\n\n  const initialDepositState = {\n    record,\n    editorState: computeDepositState(record, _preselectedCommunity),\n    config,\n    permissions,\n    actionState: null,\n    actionStateExtra: {},\n  };\n\n  const preloadedState = {\n    deposit: initialDepositState,\n    files: preloadFiles(files || {}),\n  };\n\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  return createStore(\n    rootReducer,\n    preloadedState,\n    composeEnhancers(applyMiddleware(thunk.withExtraArgument({ config, ...extra })))\n  );\n}\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { UploadProgressNotifier } from \"./DepositFilesService\";\nimport {\n  FILE_UPLOAD_ADDED,\n  FILE_UPLOAD_CANCELLED,\n  FILE_UPLOAD_FAILED,\n  FILE_UPLOAD_FINISHED,\n  FILE_UPLOAD_IN_PROGRESS,\n  FILE_UPLOAD_SET_CANCEL_FUNCTION,\n} from \"./state/types\";\n\nexport class RDMUploadProgressNotifier extends UploadProgressNotifier {\n  onUploadAdded(filename) {\n    this.dispatcher &&\n      this.dispatcher({\n        type: FILE_UPLOAD_ADDED,\n        payload: {\n          filename: filename,\n        },\n      });\n  }\n\n  onUploadStarted(filename, cancelFn) {\n    this.dispatcher &&\n      this.dispatcher({\n        type: FILE_UPLOAD_SET_CANCEL_FUNCTION,\n        payload: { filename: filename, cancelUploadFn: cancelFn },\n      });\n  }\n\n  onUploadProgress(filename, percent) {\n    this.dispatcher &&\n      this.dispatcher({\n        type: FILE_UPLOAD_IN_PROGRESS,\n        payload: {\n          filename: filename,\n          percent: percent,\n        },\n      });\n  }\n\n  onUploadCompleted(filename, size, checksum, links) {\n    this.dispatcher &&\n      this.dispatcher({\n        type: FILE_UPLOAD_FINISHED,\n        payload: {\n          filename: filename,\n          size: size,\n          checksum: checksum,\n          links: links,\n        },\n      });\n  }\n\n  onUploadCancelled(filename) {\n    this.dispatcher &&\n      this.dispatcher({\n        type: FILE_UPLOAD_CANCELLED,\n        payload: {\n          filename: filename,\n        },\n      });\n  }\n\n  onUploadFailed(filename) {\n    this.dispatcher &&\n      this.dispatcher({\n        type: FILE_UPLOAD_FAILED,\n        payload: {\n          filename: filename,\n        },\n      });\n  }\n}\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020-2022 CERN.\n// Copyright (C) 2020-2022 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nimport { i18next } from \"@translations/i18next\";\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { I18nextProvider } from \"react-i18next\";\nimport { Provider } from \"react-redux\";\nimport {\n  DepositApiClient,\n  DepositFileApiClient,\n  RDMDepositApiClient,\n  RDMDepositFileApiClient,\n} from \"./DepositApiClient\";\nimport { DepositBootstrap } from \"./DepositBootstrap\";\nimport { DepositDraftsService, RDMDepositDraftsService } from \"./DepositDraftsService\";\nimport { DepositFilesService, RDMDepositFilesService } from \"./DepositFilesService\";\nimport {\n  DepositRecordSerializer,\n  RDMDepositRecordSerializer,\n} from \"./DepositRecordSerializer\";\nimport { DepositService } from \"./DepositService\";\nimport { configureStore } from \"./store\";\nimport { RDMUploadProgressNotifier } from \"./UploadProgressNotifier\";\n\nexport class DepositFormApp extends Component {\n  constructor(props) {\n    super(props);\n\n    const recordSerializer = props.recordSerializer\n      ? props.recordSerializer\n      : new RDMDepositRecordSerializer(\n          props.config.default_locale,\n          props.config.custom_fields.vocabularies\n        );\n\n    const apiHeaders = props.config.apiHeaders ? props.config.apiHeaders : null;\n    const additionalApiConfig = { headers: apiHeaders };\n\n    const apiClient = props.apiClient\n      ? props.apiClient\n      : new RDMDepositApiClient(\n          additionalApiConfig,\n          props.config.createUrl,\n          recordSerializer\n        );\n\n    const fileApiClient = props.fileApiClient\n      ? props.fileApiClient\n      : new RDMDepositFileApiClient(additionalApiConfig);\n\n    const draftsService = props.draftsService\n      ? props.draftsService\n      : new RDMDepositDraftsService(apiClient);\n\n    const filesService = props.filesService\n      ? props.filesService\n      : new RDMDepositFilesService(fileApiClient, props.config.fileUploadConcurrency);\n\n    const service = new DepositService(draftsService, filesService);\n\n    const appConfig = {\n      config: props.config,\n      record: recordSerializer.deserialize(props.record),\n      preselectedCommunity: props.preselectedCommunity,\n      files: props.files,\n      apiClient: apiClient,\n      fileApiClient: fileApiClient,\n      service: service,\n      permissions: props.permissions,\n      recordSerializer: recordSerializer,\n    };\n\n    this.store = configureStore(appConfig);\n\n    const progressNotifier = new RDMUploadProgressNotifier(this.store.dispatch);\n    filesService.setProgressNotifier(progressNotifier);\n  }\n\n  render() {\n    const { children } = this.props;\n\n    return (\n      <Provider store={this.store}>\n        <I18nextProvider i18n={i18next}>\n          <DepositBootstrap>{children}</DepositBootstrap>\n        </I18nextProvider>\n      </Provider>\n    );\n  }\n}\n\nDepositFormApp.propTypes = {\n  config: PropTypes.object.isRequired,\n  record: PropTypes.object.isRequired,\n  preselectedCommunity: PropTypes.object,\n  files: PropTypes.object,\n  permissions: PropTypes.object,\n  apiClient: PropTypes.instanceOf(DepositApiClient),\n  fileApiClient: PropTypes.instanceOf(DepositFileApiClient),\n  draftsService: PropTypes.instanceOf(DepositDraftsService),\n  filesService: PropTypes.instanceOf(DepositFilesService),\n  recordSerializer: PropTypes.instanceOf(DepositRecordSerializer),\n  children: PropTypes.node,\n};\n\nDepositFormApp.defaultProps = {\n  preselectedCommunity: undefined,\n  permissions: undefined,\n  apiClient: undefined,\n  fileApiClient: undefined,\n  draftsService: undefined,\n  filesService: undefined,\n  recordSerializer: undefined,\n  files: undefined,\n  children: undefined,\n};\n","// This file is part of React-Invenio-Deposit\n// Copyright (C) 2020 CERN.\n// Copyright (C) 2020 Northwestern University.\n//\n// React-Invenio-Deposit is free software; you can redistribute it and/or modify it\n// under the terms of the MIT License; see LICENSE file for more details.\n\nexport const getInputFromDOM = (elementName) => {\n  const element = document.getElementsByName(elementName);\n  if (element.length > 0 && element[0].hasAttribute(\"value\")) {\n    return JSON.parse(element[0].value);\n  }\n  return null;\n};\n"],"names":["translations","af","translation","TRANSLATE_AF","ar","TRANSLATE_AR","bg","TRANSLATE_BG","ca","TRANSLATE_CA","cs","TRANSLATE_CS","da","TRANSLATE_DA","de","TRANSLATE_DE","el","TRANSLATE_EL","en","TRANSLATE_EN","es","TRANSLATE_ES","et","TRANSLATE_ET","et_EE","TRANSLATE_ET_EE","fa","TRANSLATE_FA","fr","TRANSLATE_FR","gl","TRANSLATE_GL","hr","TRANSLATE_HR","hu","TRANSLATE_HU","it","TRANSLATE_IT","ja","TRANSLATE_JA","ka","TRANSLATE_KA","lt","TRANSLATE_LT","no","TRANSLATE_NO","pl","TRANSLATE_PL","pt","TRANSLATE_PT","ro","TRANSLATE_RO","ru","TRANSLATE_RU","rw","TRANSLATE_RW","sk","TRANSLATE_SK","sv","TRANSLATE_SV","tr","TRANSLATE_TR","uk","TRANSLATE_UK","zh_CN","TRANSLATE_ZH_CN","zh_TW","TRANSLATE_ZH_TW","options","fallbackLng","returnEmptyString","debug","process","env","NODE_ENV","resources","keySeparator","nsSeparator","detection","order","caches","react","transKeepBasicHtmlNodesFor","i18next","i18n","createInstance","use","LanguageDetector","init","Trans","props","React","ReactTrans","setPrototypeOf","assertThisInitialized","isNativeReflectConstruct","getPrototypeOf","possibleConstructorReturn","ProtectionButtonsComponent","handlePublicButtonClick","formik","fieldPath","form","setFieldValue","active","handleRestrictionButtonClick","disabled","publicColor","restrictedColor","Button","t","Component","defaultProps","ProtectionButtons","Field","formikProps","MetadataAccess","recordAccess","communityAccess","publicMetadata","publicCommunity","Overridable","FilesAccess","access","accessCommunity","metadataOnly","publicFiles","files","record","fullRecordRestricted","filesRestricted","filesButtonsDisplayed","Card","EmbargoCheckboxComponent","checked","Checkbox","field","value","EmbargoCheckboxField","embargoDisabled","change","FastField","EmbargoDateField","label","labelIcon","placeholder","required","helpText","TextField","FieldLabel","EmbargoAccess","recordPublic","filesPublic","communityPublic","embargoActive","embargo","embargoUntil","until","embargoReason","reason","embargoWasLifted","_isEmpty","embargoEnabled","fmtDate","DateTime","fromISO","toLocaleString","DATE_FULL","List","Icon","Divider","TextAreaField","AccessMessage","fullyRestricted","fullyPublic","embargoedFiles","restrictedFiles","fullEmbargo","Message","date","bold","AccessRightFieldCmp","community","visibility","isMetadataOnly","values","enabled","Form","Header","undefined","mapStateToPropsAccessRightFieldCmp","state","deposit","editorState","selectedCommunity","AccessRightFieldComponent","connect","AccessRightField","emptyIdentifier","scheme","identifier","emptyAdditionalTitle","lang","title","type","emptyAdditionalDescription","description","emptyRelatedWork","resource_type","relation_type","emptyDate","objectWithoutPropertiesLoose","LanguagesField","multiple","clearable","initialOptions","serializeSuggestionsFunc","serializeSuggestions","uiProps","_excluded","RemoteSelectField","Accept","AdditionalTitlesField","recordUI","ArrayField","arrayHelpers","indexPath","fieldPathPrefix","GroupField","SelectField","suggestions","map","item","text","title_l10n","id","additional_titles","remove","defineProperty","AffiliationsField","serializeAffiliations","affiliations","affiliation","_objectSpread","acronym","name","key","selectRef","getIn","selectedSuggestions","val","ComingSoonField","Segment","DRAFT_FETCHED","DRAFT_HAS_VALIDATION_ERRORS","DRAFT_SAVE_STARTED","DRAFT_SAVE_SUCCEEDED","DRAFT_SAVE_FAILED","DRAFT_PUBLISH_STARTED","DRAFT_PUBLISH_FAILED","DRAFT_PUBLISH_FAILED_WITH_VALIDATION_ERRORS","DRAFT_PREVIEW_STARTED","DRAFT_PREVIEW_FAILED","DRAFT_DELETE_STARTED","DRAFT_DELETE_FAILED","DRAFT_SUBMIT_REVIEW_STARTED","DRAFT_SUBMIT_REVIEW_FAILED","DRAFT_SUBMIT_REVIEW_FAILED_WITH_VALIDATION_ERRORS","RESERVE_PID_STARTED","RESERVE_PID_SUCCEEDED","RESERVE_PID_FAILED","DISCARD_PID_STARTED","DISCARD_PID_SUCCEEDED","DISCARD_PID_FAILED","FILE_UPLOAD_ADDED","FILE_UPLOAD_IN_PROGRESS","FILE_UPLOAD_FINISHED","FILE_UPLOAD_FAILED","FILE_UPLOAD_SAVE_DRAFT_FAILED","FILE_IMPORT_STARTED","FILE_IMPORT_SUCCESS","FILE_IMPORT_FAILED","FILE_DELETED_SUCCESS","FILE_DELETE_FAILED","FILE_UPLOAD_SET_CANCEL_FUNCTION","FILE_UPLOAD_CANCELLED","SET_COMMUNITY","changeURLAfterCreation","draftURL","window","history","replaceState","saveDraftWithUrlUpdate","draft","draftsService","hasAlreadyId","save","response","data","links","self_html","_saveDraft","depositState","dispatchFn","failType","partialValidationActionType","payload","errors","draftHasValidationErrors","draftValidationErrorResponse","actions","communityStateMustBeChecked","shouldDeleteReview","shouldUpdateReview","draftWithLinks","deleteReview","createOrUpdateReview","read","dispatch","getState","config","service","drafts","publish","withoutCommunity","changeSelectedCommunity","recordURL","location","replace","submitReview","reviewComment","reqResponse","request","rawRequestURL","user_dashboard_request","requestURL","preview","recordUrl","record_html","delete_","delete","redirectURL","reservePID","pidType","discardPID","arrayLikeToArray","unsupportedIterableToArray","uploadFiles","_","uploadFileUrl","file","upload","deleteFile","fileLinks","filename","importParentFiles","draftLinks","importParentRecordFiles","CommunityContext","createContext","CommunityListItem","result","useContext","setLocalCommunity","getChosenCommunity","metadata","ui","linkToCommunityPage","linkToLogo","logo","itemSelected","typeL10n","isRestricted","Item","Image","Label","_capitalize","_truncate","length","overriddenComponents","CommunitySelectionSearch","apiEndpoints","allCommunities","myCommunities","defaultEndpoint","selectedEndpoint","searchApi","InvenioSearchApi","axios","url","headers","searchbarPlaceholder","OverridableContext","ReactSearchKit","size","page","Grid","Menu","setState","SearchBar","icon","content","className","ResultsLoader","Modal","EmptyResults","Error","ResultsList","Container","Pagination","CommunitySelectionModal","chosenCommunity","onCommunityChange","modalOpen","localChosenCommunity","contextValue","trigger","cloneElement","CommunityHeaderComponent","imagePlaceholderLink","showCommunitySelectionButton","disableCommunitySelectionButton","showCommunityHeader","mapStateToProps","mapDispatchToProps","CommunityHeader","arrayWithHoles","iterableToArrayLimit","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","CreatibutorsIdentifiers","handleIdentifierAddition","e","prevState","selectedOptions","_unickBy","valuesToOptions","option","handleChange","CREATIBUTOR_TYPE","PERSON","ORGANIZATION","ModalActions","ADD","EDIT","NamesAutocompleteOptions","SEARCH","SEARCH_ONLY","OFF","CreatibutorsModal","CreatorSchema","Yup","object","person_or_org","string","family_name","when","schema","isCreator","role","focusInput","inputRef","current","focus","openModal","open","action","closeModal","changeContent","saveAndContinueLabel","setTimeout","displayActionLabel","addLabel","editLabel","serializeCreatibutor","submittedCreatibutor","initialCreatibutor","findField","arrayField","knownField","_find","identifiersFieldPath","affiliationsFieldPath","initialIdentifiers","_get","submittedIdentifiers","identifiers","submittedAffiliations","deserializeCreatibutor","_map","onSubmit","formikBag","onCreatibutorChange","setSubmitting","resetForm","makeIdEntry","link","scehme","creatibutors","results","creatibutor","affNames","forEach","idx","idString","i","push","extra","showPersonForm","autocompleteNames","showManualEntry","onPersonSearchChange","namesAutocompleteRef","personOrOrgPath","familyNameFieldPath","givenNameFieldPath","chosen","given_name","Object","entries","path","identifiersRef","affiliationsState","affiliationsRef","searchQuery","error","createRef","roleOptions","ActionLabel","Formik","handleSubmit","typeFieldPath","nameFieldPath","roleFieldPath","RadioField","autoFocus","ref","CreatibutorsFieldItem","compKey","identifiersError","index","replaceCreatibutor","removeCreatibutor","moveCreatibutor","displayName","dropRef","useRef","useDrag","drag","useDrop","accept","hover","monitor","dragIndex","hoverIndex","isOver","shallow","collect","hidden","drop","renderRole","friendlyRole","find","firstError","elem","includes","Ref","selectedCreatibutor","some","toCapitalCase","str","toUpperCase","slice","leafTraverse","obj","func","l","sortOptions","sort","o1","o2","localeCompare","scrollTop","scrollTo","top","left","behavior","creatibutorNameDisplay","creatibutorType","isPerson","familyName","givenName","affiliationName","givenNameSuffix","CreatibutorsFieldForm","handleOnContributorChange","formikArrayPush","initialErrors","initialValues","formikArrayRemove","formikArrayReplace","formikArrayMove","move","modal","addButtonLabel","creatibutorsList","formikInitialValues","initialError","creatibutorsError","DndProvider","HTML5Backend","CreatibutorsField","FieldArray","DatesField","getRequiredOption","currentValue","arrayOfValues","requiredOptions","requiredOption","matchingValue","_filter","_matches","_isEqual","placeholderDate","showEmptyValue","array","hasRequiredDateValue","_has","hasRequiredTypeValue","hasRequiredDescriptionValue","DepositFormSubmitActions","SAVE","PUBLISH","PUBLISH_WITHOUT_COMMUNITY","PREVIEW","DELETE","RESERVE_PID","DISCARD_PID","SUBMIT_REVIEW","DepositFormSubmitContext","setSubmitContext","DISCARD_CHANGES_LBL","DISCARD_VERSION_LBL","DELETE_LBL","DISCARD_CHANGES_DLG","DISCARD_VERSION_DLG","DISCARD_DELETE_DLG","DialogText","actionLbl","DeleteButtonComponent","openConfirmModal","closeConfirmModal","handleDelete","event","isPublished","isVersion","context","isDiscardingVersion","draftExists","actionState","isSubmitting","_omit","color","capitalizedActionLbl","contextType","Boolean","is_published","versions","DeleteButton","connectFormik","DepositFormTitleComponent","DepositFormTitle","DepositStatus","DRAFT","NEW_VERSION_DRAFT","DRAFT_WITH_REVIEW","IN_REVIEW","DECLINED","EXPIRED","PUBLISHED","allowsReviewDeletionStates","allowsReviewUpdateStates","disallowsSubmitForReviewStates","hasStatus","statuses","status","getSelectedCommunityMetadata","reviewCommunityId","parent","review","receiver","defaultCommunityId","communities","default","hasCommunity","alreadyPublished","expanded","computeDepositState","depositStatusAllowsReviewDeletion","depositStatusAllowsReviewUpdate","depositStatusDisallowsSubmitForReview","_selectedCommunity","communityIsSelected","draftReview","isReviewForSelectedCommunityCreated","isReviewForSelectedCommunityDeclinedOrExpired","isRecordPublishedWithoutCommunity","_showSubmitReviewButton","_showCommunitySelectionButton","_disableCommunitySelectionButton","showSubmitForReviewButton","disableSubmitForReviewButton","showChangeCommunityButton","depositReducer","actionStateExtra","recordCopy","isCommunityRestricted","isRecordPublic","STATUSES","message","DepositStatusBoxComponent","depositReview","depositStatus","isReviewStatus","Popup","DepositStatusBox","AdditionalDescriptionsField","editorConfig","RichInputField","additional_descriptions","DescriptionsField","toPrimitive","UploadState","uploading","finished","pending","initialState","fileReducer","newState","remoteFileName","normalize","progressPercentage","checksum","cancelUploadFn","percent","isFileUploadInProgress","afterCancellationEntriesState","afterDeletionEntriesState","isFileImportInProgress","NewVersionButton","onError","useState","loading","setLoading","handleClick","http","post","console","humanReadableBytes","bytes","decimalDisplay","_isNumber","base","kiloBytes","megaBytes","gigaBytes","toFixed","FileTableHeader","isDraftRecord","Table","FileTableRow","defaultPreview","setDefaultPreview","decimalSizeDisplay","isCancelling","setIsCancelling","isDeleting","setIsDeleting","isDefaultPreview","handleCancelUpload","uploadState","isPending","fontSize","Progress","isFailed","isFinished","isUploading","FileUploadBox","filesList","dragText","uploadButtonIcon","uploadButtonText","openFileDialog","FilesListTable","useFormikContext","formikDraft","FileUploaderArea","filesEnabled","dropzoneParams","Dropzone","getRootProps","getInputProps","setDefaultPreviewFile","FileUploaderToolbar","filesSize","quota","handleOnChangeMetadataOnly","canHaveMetadataOnlyRecords","maxFiles","maxfiles","maxStorage","FileUploaderComponent","hasParentRecord","permissions","importButtonIcon","importButtonText","warningMsg","setWarningMsg","fileState","reduce","totalSize","preventDropOnDocument","onDropAccepted","acceptedFiles","maxFileNumberReached","acceptedFilesSize","maxFileStorageReached","filesNames","duplicateFiles","filter","acceptedFile","noClick","noKeyboard","filesLeft","displayImportBtn","display","float","marginTop","can_new_version","FileUploader","defaultLabels","ACTIONS","feedback","DisconnectedFormFeedback","labels","messages","uniqueMessages","Set","m","errorValue","store","step0Metadata","step0Files","step0Access","pids","step0Pids","_isObject","customFields","custom_fields","step0CustomFields","step0","fromEntries","concat","step1","toErrorMessages","labelledErrorMessages","errorsProp","labelledMessages","toLabelledErrorMessages","listErrors","renderErrorMessages","backendErrorMessage","FormFeedback","AwardResults","withState","currentResultsState","deserializeAward","deserializeFunder","computeFundingContents","hits","award","funder","deserializedAward","deserializedFunder","funding","headerContent","descriptionContent","awardOrFunder","Radio","number","CustomAwardForm","selectedFunding","deserializeFunderToDropdown","funderItem","funderName","funderPID","pid","serializeFunderFromDropdown","funderDropObject","funders","selectedFundersArray","selectedFunder","FunderDropdown","awardsList","updateQueryState","currentQueryState","useFundersFromFacets","fundersFromFacets","onFunderSelect","newFilter","filters","awards","setResult","useEffect","getFundersFromAwardsFacet","aggregations","buckets","agg","Dropdown","NoAwardResults","switchToCustom","preventDefault","ModalTypes","STANDARD","CUSTOM","StandardSchema","shape","CustomFundingSchema","test","testTitle","testNumber","testUrl","FundingModal","initialMode","mode","onAwardChange","searchConfig","setOpen","setMode","customObject","initialFunding","FundingSchema","initialQueryState","FundingFieldItem","fundingItem","awardType","moveFunding","replaceFunding","removeFunding","FundingFieldForm","deserializeAwardFunc","deserializeFunderFunc","computeFundingContentsFunc","country","FundingField","IdentifiersField","schemeOptions","PROVIDER_EXTERNAL","UPDATE_PID_DEBOUNCE_MS","getFieldErrors","ReservePIDBtn","handleReservePID","UnreservePIDBtn","handleDiscardPID","ManagedUnmanagedSwitch","onManagedUnmanagedChange","isManagedSelected","pidLabel","ManagedIdentifierComponent","btnLabelDiscardPID","btnLabelGetPID","pidPlaceholder","hasIdentifier","ReserveBtn","UnreserveBtn","ManagedIdentifierCmp","UnmanagedIdentifierCmp","onChange","onIdentifierChanged","localIdentifier","prevProps","fieldError","CustomPIDField","onExternalIdentifierChanged","provider","debounced","cancel","_debounce","canBeManaged","canBeUnmanaged","canBeManagedAndUnmanaged","fieldLabel","isEditingPublishedRecord","managedHelpText","pidIcon","unmanagedHelpText","currentIdentifier","currentProvider","managedIdentifier","unmanagedIdentifier","isProviderExternal","hasManagedIdentifier","_isManagedSelected","userSelectedManaged","PIDField","validatePropValues","LicenseFilter","updateQueryFilters","userSelectionFilters","filterValue","_isChecked","isFilterActive","onToggleClicked","isChecked","LicenseResults","serializeLicenses","serializeLicenseResult","description_l10n","LicenseSchema","selectedLicense","LicenseModal","onLicenseChange","initialLicenseProp","initialLicense","Toggle","LicenseFieldItem","license","moveLicense","replaceLicense","removeLicense","initial","VisibleLicense","uiRights","right","uiRight","o","LicenseFieldForm","uiFieldPath","LicenseField","PreviewButtonComponent","handlePreview","PreviewButton","PublicationDateField","PublishButtonComponent","isConfirmModalOpen","handlePublish","publishWithoutCommunity","isDisabled","numberOfFiles","filesMissing","buttonLabel","publishModalExtraContent","__html","publish_modal_extra","PublishButton","SubmitReviewModal","ConfirmSubmitReviewSchema","acceptAccessToRecord","acceptAfterPublishRecord","initialReviewComment","onClose","communityTitle","ErrorLabel","SubmitReviewButtonComponent","handleSubmitReview","isRecordSubmittedForReview","SubmitReviewButton","SubmitReviewOrPublishComponent","SubmitReviewOrPublishButton","PublisherField","ResourceTypeField","groupErrors","fieldErrors","_label","type_name","subtype_name","createOptions","propsOptions","restProps","frontEndOptions","labelclassname","RelatedWorksField","marginBottom","relations","SaveButtonComponent","handleSave","SaveButton","SubjectsField","limitTo","serializeSubjects","subjects","subject","prepareSuggest","prefix","limitToOptions","TitlesField","VersionField","WrappedComponent","reduxConnect","BASE_HEADERS","DepositApiClientResponse","DepositApiClient","additionalApiConfig","createDraftURL","recordSerializer","constructor","additionalHeaders","apiHeaders","assign","apiConfig","withCredentials","xsrfCookieName","xsrfHeaderName","json","axiosWithConfig","create","cancelToken","CancelToken","communityId","RDMDepositApiClient","axiosRequest","deserialize","deserializeErrors","errorData","serialize","_createResponse","params","expand","get","self","put","linkName","format","reviewLinks","DepositFileApiClient","isCancel","initializeUploadUrl","uploadUrl","onUploadProgress","finalizeUploadUrl","RDMDepositFileApiClient","onUploadProgressFn","cancelFn","Math","floor","loaded","total","DepositErrorHandler","backendErrors","frontendErrors","errorPath","_join","parents","DepositBootstrapComponent","submitContext","actionName","onFormSubmit","saveAction","publishAction","previewAction","deleteAction","reservePIDAction","discardPIDAction","actionFunc","setErrors","fileUploadOngoing","addEventListener","returnValue","children","BaseForm","enableReinitialize","formState","DepositBootstrap","DepositDraftsService","apiClient","newCommunityId","RDMDepositDraftsService","createDraft","readDraft","_draftAlreadyCreated","saveDraft","publishDraft","deleteDraft","UploaderQueue","currents","initializeUploadURL","nextFile","shift","indexOf","splice","UploadProgressNotifier","dispatcher","cancelFunc","DepositFilesService","fileApiClient","fileUploadConcurrency","progressNotifier","RDMDepositFilesService","_initializeUpload","initializeFileUpload","initializedFile","entry","_doUpload","uploadFile","onUploadStarted","_finalizeUpload","commitFileURL","uploaderQueue","markCompleted","_startNextUpload","finalizeFileUpload","_onError","isCancelled","onUploadCancelled","onUploadFailed","_startNewUpload","initializedFileMetadata","startUploadURL","commit","fileData","onUploadCompleted","shouldStartNewUpload","totalInProgress","maxConcurrentUploads","next","onUploadAdded","acc","fieldpath","deserializedDefault","serializedDefault","allowEmpty","fieldValue","_set","_cloneDeep","SchemaField","schemaKeys","keys","serialized","defaultLocale","fieldValues","deserializedElements","deserializedElement","_pick","__key","deserialized","serializedElements","serializedElement","VocabularyField","labelField","_deserialize","deserializedValue","Array","isArray","_serialize","serializedValue","AllowAdditionsVocabularyField","RightsVocabularyField","localeFields","clonedValue","allowedIdentifiers","identifierValue","v","CustomField","vocabularyFields","isVocabulary","_record","_classPrivateFieldLooseBase","mapValue","isVocabularyField","_value","_isArray","DepositRecordSerializer","RDMDepositRecordSerializer","customFieldVocabularies","creators","contributors","publication_date","dates","languages","related_identifiers","version","rights","mappedValues","_removeEmptyValues","filterValues","_isBoolean","_mapValues","pickedValues","_pickBy","_isNull","originalRecord","savedPIDsFieldValue","deserializedRecord","depositRecordSchema","deserializedErrors","join","serializedRecord","_defaults","DepositService","filesService","combineReducers","preloadFiles","_files","hasSize","configureStore","appConfig","preselectedCommunity","_preselectedCommunity","initialDepositState","preloadedState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","rootReducer","applyMiddleware","thunk","withExtraArgument","RDMUploadProgressNotifier","DepositFormApp","default_locale","vocabularies","createUrl","setProgressNotifier","Provider","I18nextProvider","getInputFromDOM","elementName","element","document","getElementsByName","hasAttribute","JSON","parse"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}