{"version":3,"file":"index.js","sources":["../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../src/lib/api/contrib/elasticsearch/ESRequestSerializer.js","../../src/lib/api/contrib/elasticsearch/ESResponseSerializer.js","../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../../src/lib/api/errors.js","../../src/lib/api/contrib/elasticsearch/ESSearchApi.js","../../src/lib/api/contrib/invenio/InvenioRequestSerializer.js","../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../../src/lib/api/contrib/invenio/InvenioResponseSerializer.js","../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../../src/lib/state/selectors/query.js","../../src/lib/storeConfig.js","../../src/lib/api/contrib/invenio/InvenioRecordsResourcesRequestSerializer.js","../../src/lib/api/contrib/invenio/InvenioSearchApi.js","../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../../node_modules/@babel/runtime/helpers/esm/get.js","../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../node_modules/@babel/runtime/helpers/esm/inherits.js","../../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../node_modules/@babel/runtime/helpers/esm/createSuper.js","../../src/lib/api/contrib/invenio/InvenioSuggestionApi.js","../../src/lib/api/UrlParamValidator.js","../../src/lib/api/UrlHandlerApi.js","../../src/lib/state/types/index.js","../../src/lib/state/actions/query.js","../../src/lib/components/ReactSearchKit/AppContext.js","../../src/lib/state/reducers/app.js","../../src/lib/state/reducers/query.js","../../src/lib/state/reducers/results.js","../../src/lib/state/reducers/index.js","../../src/lib/store.js","../../src/lib/util.js","../../src/lib/components/Bootstrap/Bootstrap.js","../../src/lib/components/Bootstrap/index.js","../../src/lib/components/ReactSearchKit/ReactSearchKit.js","../../src/lib/components/ActiveFilters/ActiveFilters.js","../../src/lib/components/ActiveFilters/index.js","../../node_modules/style-inject/dist/style-inject.es.js","../../src/lib/components/AutocompleteSearchBar/AutocompleteSearchBar.js","../../src/lib/components/AutocompleteSearchBar/index.js","../../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../src/lib/components/BucketAggregation/BucketAggregationValues.js","../../src/lib/components/BucketAggregation/BucketAggregation.js","../../src/lib/components/BucketAggregation/index.js","../../src/lib/components/ShouldRender/ShouldRender.js","../../src/lib/components/Count/Count.js","../../src/lib/components/Count/index.js","../../src/lib/components/EmptyResults/EmptyResults.js","../../src/lib/components/EmptyResults/index.js","../../src/lib/components/Error/Error.js","../../src/lib/components/Error/index.js","../../src/lib/components/HOC/withState.js","../../src/lib/components/LayoutSwitcher/LayoutSwitcher.js","../../src/lib/components/LayoutSwitcher/index.js","../../src/lib/components/Pagination/Pagination.js","../../src/lib/components/Pagination/index.js","../../src/lib/components/ResultsGrid/ResultsGrid.js","../../src/lib/components/ResultsGrid/index.js","../../src/lib/components/ResultsList/ResultsList.js","../../src/lib/components/ResultsList/index.js","../../src/lib/components/ResultsLoader/ResultsLoader.js","../../src/lib/components/ResultsLoader/index.js","../../src/lib/components/ResultsMultiLayout/ResultsMultiLayout.js","../../src/lib/components/ResultsMultiLayout/index.js","../../src/lib/components/ResultsPerPage/ResultsPerPage.js","../../src/lib/components/ResultsPerPage/index.js","../../src/lib/components/SearchBar/SearchBar.js","../../src/lib/components/SearchBar/index.js","../../src/lib/components/Sort/Sort.js","../../src/lib/components/Sort/index.js","../../src/lib/components/SortBy/SortBy.js","../../src/lib/components/SortBy/index.js","../../src/lib/components/SortOrder/SortOrder.js","../../src/lib/components/SortOrder/index.js","../../src/lib/components/Toggle/Toggle.js","../../src/lib/components/Toggle/index.js","../../src/lib/events.js"],"sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport _isEmpty from \"lodash/isEmpty\";\n\nexport class ESRequestSerializer {\n  constructor() {\n    this.serialize = this.serialize.bind(this);\n  }\n\n  /**\n   * Return a serialized version of the app state `query` for the API backend.\n   * @param {object} stateQuery the `query` state to serialize\n   */\n  serialize(stateQuery) {\n    const { queryString, sortBy, sortOrder, page, size } = stateQuery;\n\n    const bodyParams = {};\n    if (!_isEmpty(queryString)) {\n      bodyParams[\"query\"] = {\n        query_string: {\n          query: queryString,\n        },\n      };\n    }\n    if (sortBy) {\n      const sortObj = {};\n      sortObj[sortBy] = sortOrder && sortOrder === \"desc\" ? \"desc\" : \"asc\";\n      bodyParams[\"sort\"] = sortObj;\n    }\n\n    if (size > 0) {\n      bodyParams[\"size\"] = size;\n    }\n\n    if (page > 0) {\n      const s = size > 0 ? size : 0;\n      const from = (page - 1) * s;\n      bodyParams[\"from\"] = from;\n    }\n\n    return bodyParams;\n  }\n}\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nexport class ESResponseSerializer {\n  constructor() {\n    this.serialize = this.serialize.bind(this);\n  }\n\n  /**\n   * Return a serialized version of the API backend response for the app state `results`.\n   * @param {object} payload the backend response payload\n   */\n  serialize(payload) {\n    const { aggregations, hits } = payload;\n    return {\n      aggregations: aggregations || {},\n      hits: hits.hits.map((hit) => hit._source),\n      total: hits.total.value,\n    };\n  }\n}\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n      return ContinueSentinel;\n    }\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) {\n              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            }\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\n/**\n * Custom errors to raise specific expcetions\n */\n\nexport function RequestCancelledError() {}\n\nRequestCancelledError.prototype = new Error();\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport axios from \"axios\";\nimport _get from \"lodash/get\";\nimport _hasIn from \"lodash/hasIn\";\nimport { RequestCancelledError } from \"../../errors\";\nimport { ESRequestSerializer } from \"./ESRequestSerializer\";\nimport { ESResponseSerializer } from \"./ESResponseSerializer\";\n\nexport class ESSearchApi {\n  constructor(config) {\n    this.axiosConfig = _get(config, \"axios\", {});\n    this.validateAxiosConfig();\n    this.initSerializers(config);\n    this.initInterceptors(config);\n    this.initAxios();\n    this.search = this.search.bind(this);\n    this.axiosCancelToken = axios.CancelToken;\n  }\n\n  validateAxiosConfig() {\n    if (!_hasIn(this.axiosConfig, \"url\")) {\n      throw new Error(\"ESSearchApi config: `node` field is required.\");\n    }\n  }\n\n  initInterceptors(config) {\n    this.requestInterceptor = _get(config, \"interceptors.request\", undefined);\n    this.responseInterceptor = _get(config, \"interceptors.response\", undefined);\n  }\n\n  initSerializers(config) {\n    const requestSerializerCls = _get(\n      config,\n      \"es.requestSerializer\",\n      ESRequestSerializer\n    );\n    const responseSerializerCls = _get(\n      config,\n      \"es.responseSerializer\",\n      ESResponseSerializer\n    );\n\n    this.requestSerializer = new requestSerializerCls();\n    this.responseSerializer = new responseSerializerCls();\n  }\n\n  initAxios() {\n    this.http = axios.create(this.axiosConfig);\n    this.addInterceptors();\n  }\n\n  addInterceptors() {\n    if (this.requestInterceptor) {\n      this.http.interceptors.request.use(\n        this.requestInterceptor.resolve,\n        this.requestInterceptor.reject\n      );\n    }\n    if (this.responseInterceptor) {\n      this.http.interceptors.request.use(\n        this.responseInterceptor.resolve,\n        this.responseInterceptor.reject\n      );\n    }\n  }\n\n  /**\n   * Perform the backend request to search and return the serialized list of results for the app state `results`.\n   * @param {string} stateQuery the `query` state with the user input\n   */\n  async search(stateQuery) {\n    // cancel any previous request in case it is still happening\n    this.axiosCancel && this.axiosCancel.cancel();\n    // generate a new cancel token for this request\n    this.axiosCancel = this.axiosCancelToken.source();\n\n    const payload = this.requestSerializer.serialize(stateQuery);\n\n    try {\n      const response = await this.http.request({\n        url: this.axiosConfig.url,\n        method: \"POST\",\n        data: payload,\n        cancelToken: this.axiosCancel.token,\n      });\n      return this.responseSerializer.serialize(response.data);\n    } catch (error) {\n      if (axios.isCancel(error)) {\n        throw new RequestCancelledError();\n      } else {\n        throw error;\n      }\n    }\n  }\n}\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport Qs from \"qs\";\nimport _extend from \"lodash/extend\";\nimport _isEmpty from \"lodash/isEmpty\";\n\n/** Default backend request serializer */\nexport class InvenioRequestSerializer {\n  constructor() {\n    this.serialize = this.serialize.bind(this);\n  }\n\n  _addFilter = (filter, filterUrlParams) => {\n    if (!Array.isArray(filter)) {\n      throw new Error(`Filter value \"${filter}\" in query state must be an array.`);\n    }\n    if (!(filter.length === 2 || filter.length === 3)) {\n      throw new Error(\n        `Filter value \"${filter}\" in query state must be an array of 2 or 3 elements`\n      );\n    }\n    const aggName = filter[0];\n    const fieldValue = filter[1];\n    if (aggName in filterUrlParams) {\n      filterUrlParams[aggName].push(fieldValue);\n    } else {\n      filterUrlParams[aggName] = [fieldValue];\n    }\n    const hasChild = filter.length === 3;\n    if (hasChild) {\n      this._addFilter(filter[2], filterUrlParams);\n    }\n  };\n\n  _addFilters = (filters) => {\n    if (!Array.isArray(filters)) {\n      throw new Error(`Filters query state \"${filters}\" must be an array.`);\n    }\n    /**\n     * input: [\n     *   [ 'type_agg', 'value1' ]\n     *   [ 'type_agg', 'value2', [ 'subtype_agg', 'a value' ] ]\n     * ]\n     */\n    const filterUrlParams = {};\n    filters.forEach((filter) => {\n      this._addFilter(filter, filterUrlParams);\n    });\n    /**\n     * output: {\n     *  type_agg: 'value1'.\n     *  subtype_agg: 'a value'\n     * }\n     */\n    return filterUrlParams;\n  };\n\n  /**\n   * Return a serialized version of the app state `query` for the API backend.\n   * @param {object} stateQuery the `query` state to serialize\n   */\n  serialize(stateQuery) {\n    const { queryString, sortBy, sortOrder, page, size, filters, hiddenParams } =\n      stateQuery;\n\n    let getParams = {};\n    if (queryString !== null) {\n      getParams[\"q\"] = queryString;\n    }\n    if (sortBy !== null) {\n      getParams[\"sort\"] = sortBy;\n\n      if (sortOrder !== null) {\n        getParams[\"sort\"] = sortOrder === \"desc\" ? `-${sortBy}` : sortBy;\n      }\n    }\n    if (page > 0) {\n      getParams[\"page\"] = page;\n    }\n    if (size > 0) {\n      getParams[\"size\"] = size;\n    }\n    if (!_isEmpty(hiddenParams)) {\n      _extend(getParams, this._addFilters(hiddenParams));\n    }\n    const filterParams = this._addFilters(filters);\n    _extend(getParams, filterParams);\n\n    return Qs.stringify(getParams, { arrayFormat: \"repeat\" });\n  }\n}\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\n/** Default backend response serializer */\nexport class InvenioResponseSerializer {\n  constructor() {\n    this.serialize = this.serialize.bind(this);\n  }\n\n  /**\n   * Return a serialized version of the API backend response for the app state `results`.\n   * @param {object} payload the backend response payload\n   */\n  serialize(payload) {\n    const { aggregations, hits, ...extras } = payload;\n    return {\n      aggregations: aggregations || {},\n      hits: hits.hits,\n      total: hits.total,\n      extras: extras,\n    };\n  }\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport Qs from \"qs\";\nimport _head from \"lodash/head\";\nimport _isArray from \"lodash/isArray\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _pick from \"lodash/pick\";\n\n/**\n * Return true if the first string starts and contains the second.\n * @param {string} first a string\n * @param {string} second a string\n */\nfunction startsWith(first, second) {\n  return first.indexOf(second) === 0;\n}\n\nfunction toString(array) {\n  return Qs.stringify({ q: array });\n}\n\nfunction parse(str) {\n  return Qs.parse(str)[\"q\"];\n}\n\nfunction removeLastChild(arr) {\n  const hasChild = arr.length === 3;\n  if (hasChild) {\n    const result = [arr[0], arr[1]];\n    const lastChild = removeLastChild(arr[2]);\n    if (lastChild.length) {\n      result.push(lastChild);\n    }\n    return result;\n  }\n  return [];\n}\n\nfunction updateFilter(queryFilter, stateFilters) {\n  /**\n   * convert query and state to strings so they can be compared\n   */\n  const strQuery = toString(queryFilter);\n  const strStateFilters = stateFilters.map((stateObjQuery) => toString(stateObjQuery));\n\n  /**\n   * filter out any state that starts with the query or any parent of the query\n   * e.g. query = ['file_type', 'pdf']\n   *      state = [[ 'file_type', 'pdf' ]]\n   *      filtered = []\n   *\n   *      query = [ 'type', 'publication' ]\n   *      state = [['type', 'publication', ['subtype', 'report' ]]\n   *      filtered = []\n   *\n   *      query = ['type', 'publication', ['subtype', 'report']]]\n   *      state = [[ 'type', 'publication' ]]\n   *      filtered = []\n   */\n  let anyRemoved = false;\n  const filteredStrStates = strStateFilters.filter((strStateFilter) => {\n    const childFilterExists = startsWith(strStateFilter, strQuery);\n    const parentFilterExists = startsWith(strQuery, strStateFilter);\n\n    if (childFilterExists && !anyRemoved) {\n      anyRemoved = true;\n    }\n    return !childFilterExists && !parentFilterExists;\n  });\n\n  if (!anyRemoved) {\n    /**\n     * if nothing has been removed, it means it was not previously there, so\n     * the user query has to be added.\n     * e.g. query = ['type', 'publication', ['subtype', 'report']]\n     *      state = []\n     *      filtered = [['type', 'publication', ['subtype', 'report']]]\n     */\n    filteredStrStates.push(strQuery);\n  } else {\n    /**\n     * if a filter has been removed, it might have been a child. Add its parent if it is the root parent.\n     * e.g. query = ['type', 'publication', 'subtype', 'report']\n     *      state = [['type', 'publication', ['subtype', 'report']]]\n     *      filtered = [['type', 'publication']]\n     */\n    const hasChild = queryFilter.length === 3;\n    if (hasChild) {\n      const rootParentArr = removeLastChild(queryFilter);\n      const rootParentArrStrQuery = toString(rootParentArr);\n      const anotherChildFound = filteredStrStates.some((strStateFilter) => {\n        const childFilterExists = startsWith(strStateFilter, rootParentArrStrQuery);\n        const parentFilterExists = startsWith(rootParentArrStrQuery, strStateFilter);\n        return childFilterExists || parentFilterExists;\n      });\n      if (_isEmpty(filteredStrStates) || !anotherChildFound) {\n        filteredStrStates.push(rootParentArrStrQuery);\n      }\n    }\n  }\n\n  /**\n   * convert back to lists\n   */\n  return filteredStrStates.map((strState) => parse(strState));\n}\n\nexport const updateQueryFilters = (queryFilter, stateFilters) => {\n  if (_isEmpty(queryFilter)) return;\n\n  /** If we have one filter as query = ['file_type', 'pdf'] */\n  if (!_isArray(_head(queryFilter))) {\n    return updateFilter(queryFilter, stateFilters);\n  }\n\n  /** If we have an array of filters as query we apply the filters one by one.\n   * e.g. query = [['file_type', 'pdf'], ['file_type', 'txt']]\n   */\n  let tempStateFilters = stateFilters;\n  for (const filter of queryFilter) {\n    tempStateFilters = updateFilter(filter, tempStateFilters);\n  }\n  return tempStateFilters;\n};\n\nexport const updateQueryState = (oldState, newState, storeKeys) => {\n  let pickedState = _pick(newState, storeKeys);\n  if (!_isEmpty(pickedState.filters)) {\n    pickedState[\"filters\"] = updateQueryFilters(pickedState.filters, oldState.filters);\n  }\n  return pickedState;\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nexport const INITIAL_QUERY_STATE = {\n  queryString: \"\",\n  suggestions: [],\n  sortBy: null,\n  sortOrder: null,\n  page: -1,\n  size: -1,\n  filters: [],\n  hiddenParams: [],\n  layout: null,\n};\n\nexport const INITIAL_QUERY_STATE_KEYS = Object.keys(INITIAL_QUERY_STATE);\n\nexport const INITIAL_RESULTS_STATE = {\n  loading: false,\n  data: {\n    hits: [],\n    total: 0,\n    aggregations: {},\n  },\n  error: {},\n};\n\nexport const INITIAL_APP_STATE = {\n  hasUserChangedSorting: false,\n  initialSortBy: null,\n  initialSortOrder: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2021 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport Qs from \"qs\";\nimport _extend from \"lodash/extend\";\nimport _isEmpty from \"lodash/isEmpty\";\n\n/** Default backend request serializer for invenio-records-resources */\nexport class InvenioRecordsResourcesRequestSerializer {\n  constructor() {\n    this.serialize = this.serialize.bind(this);\n  }\n\n  _checkFilter = (filter) => {\n    if (!Array.isArray(filter)) {\n      throw new Error(`Filter value \"${filter}\" in query state must be an array.`);\n    }\n    if (!(filter.length === 2 || filter.length === 3)) {\n      throw new Error(\n        `Filter value \"${filter}\" in query state must be an array of 2 or 3 elements`\n      );\n    }\n  };\n\n  _addFilter = (filter, filterUrlParams) => {\n    this._checkFilter(filter);\n    const aggName = filter[0];\n    const fieldValue = filter[1];\n    const hasChild = filter.length === 3;\n    if (hasChild) {\n      this._checkFilter(filter[2]);\n    }\n    if (aggName in filterUrlParams) {\n      if (hasChild) {\n        filterUrlParams[aggName].push(fieldValue + \"::\" + filter[2][1]);\n      } else {\n        filterUrlParams[aggName].push(fieldValue);\n      }\n    } else {\n      if (hasChild) {\n        filterUrlParams[aggName] = [fieldValue + \"::\" + filter[2][1]];\n      } else {\n        filterUrlParams[aggName] = [fieldValue];\n      }\n    }\n  };\n\n  _addFilters = (filters) => {\n    if (!Array.isArray(filters)) {\n      throw new Error(`Filters query state \"${filters}\" must be an array.`);\n    }\n    /**\n     * input: [\n     *   [ 'type_agg', 'value1' ]\n     *   [ 'type_agg', 'value2', [ 'subtype_agg', 'a value' ] ]\n     * ]\n     */\n    const filterUrlParams = {};\n    filters.forEach((filter) => {\n      this._addFilter(filter, filterUrlParams);\n    });\n    /**\n     * output: {\n     *  type_agg: ['value1', 'value2::a value']\n     * }\n     */\n\n    return filterUrlParams;\n  };\n\n  /**\n   * Return a serialized version of the app state `query` for the API backend.\n   * @param {object} stateQuery the `query` state to serialize\n   */\n  serialize(stateQuery) {\n    const { queryString, sortBy, sortOrder, page, size, filters, hiddenParams } =\n      stateQuery;\n\n    let getParams = {};\n    if (queryString !== null) {\n      getParams[\"q\"] = queryString;\n    }\n    if (sortBy !== null) {\n      getParams[\"sort\"] = sortBy;\n\n      if (sortOrder !== null) {\n        getParams[\"sort\"] = sortOrder === \"desc\" ? `-${sortBy}` : sortBy;\n      }\n    }\n    if (page > 0) {\n      getParams[\"page\"] = page;\n    }\n    if (size > 0) {\n      getParams[\"size\"] = size;\n    }\n    if (!_isEmpty(hiddenParams)) {\n      _extend(getParams, this._addFilters(hiddenParams));\n    }\n    const filterParams = this._addFilters(filters);\n    _extend(getParams, filterParams);\n\n    return Qs.stringify(getParams, { arrayFormat: \"repeat\" });\n  }\n}\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport axios from \"axios\";\nimport _get from \"lodash/get\";\nimport _hasIn from \"lodash/hasIn\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport { updateQueryState } from \"../../../state/selectors\";\nimport { INITIAL_QUERY_STATE_KEYS } from \"../../../storeConfig\";\nimport { RequestCancelledError } from \"../../errors\";\nimport { InvenioRequestSerializer } from \"./InvenioRequestSerializer\";\nimport { InvenioResponseSerializer } from \"./InvenioResponseSerializer\";\nimport { InvenioRecordsResourcesRequestSerializer } from \"./InvenioRecordsResourcesRequestSerializer\";\n\nexport class InvenioSearchApi {\n  constructor(config) {\n    this.axiosConfig = _get(config, \"axios\", {});\n    this.validateAxiosConfig();\n    this.initSerializers(config);\n    this.initInterceptors(config);\n    this.initAxios();\n    this.search = this.search.bind(this);\n    this.axiosCancelToken = axios.CancelToken;\n  }\n\n  validateAxiosConfig() {\n    if (!_hasIn(this.axiosConfig, \"url\")) {\n      throw new Error(\"InvenioSearchApi config: `url` field is required.\");\n    }\n  }\n\n  initInterceptors(config) {\n    this.requestInterceptor = _get(config, \"interceptors.request\", undefined);\n    this.responseInterceptor = _get(config, \"interceptors.response\", undefined);\n  }\n\n  getSerializer(serializer) {\n    const requestSerializerMap = {\n      InvenioRecordsResourcesRequestSerializer:\n        InvenioRecordsResourcesRequestSerializer,\n      InvenioRequestSerializer: InvenioRequestSerializer,\n    };\n    if (typeof serializer === \"string\") {\n      return requestSerializerMap[serializer];\n    } else {\n      return serializer ? serializer : InvenioRequestSerializer;\n    }\n  }\n\n  initSerializers(config) {\n    const requestSerializerCls = this.getSerializer(config.invenio?.requestSerializer);\n    const responseSerializerCls = _get(\n      config,\n      \"invenio.responseSerializer\",\n      InvenioResponseSerializer\n    );\n\n    this.requestSerializer = new requestSerializerCls();\n    this.responseSerializer = new responseSerializerCls();\n  }\n\n  initAxios() {\n    const axiosConfig = {\n      paramsSerializer: this.requestSerializer.serialize,\n      ...this.axiosConfig,\n    };\n    this.http = axios.create(axiosConfig);\n    this.addInterceptors();\n  }\n\n  addInterceptors() {\n    if (this.requestInterceptor) {\n      this.http.interceptors.request.use(\n        this.requestInterceptor.resolve,\n        this.requestInterceptor.reject\n      );\n    }\n    if (this.responseInterceptor) {\n      this.http.interceptors.request.use(\n        this.responseInterceptor.resolve,\n        this.responseInterceptor.reject\n      );\n    }\n  }\n\n  /**\n   * Perform the backend request to search and return the serialized list of results for the app state `results`.\n   * @param {string} stateQuery the `query` state with the user input\n   */\n  async search(stateQuery) {\n    // cancel any previous request in case it is still happening\n    this.axiosCancel && this.axiosCancel.cancel();\n    // generate a new cancel token for this request\n    this.axiosCancel = this.axiosCancelToken.source();\n\n    try {\n      let response = await this.http.request({\n        url: this.axiosConfig.url,\n        params: stateQuery,\n        cancelToken: this.axiosCancel.token,\n      });\n\n      response = this.responseSerializer.serialize(response.data);\n      const newQueryState = updateQueryState(\n        stateQuery,\n        response.extras,\n        INITIAL_QUERY_STATE_KEYS\n      );\n      if (!_isEmpty(newQueryState)) {\n        response.newQueryState = newQueryState;\n      }\n      delete response.extras;\n      return response;\n    } catch (error) {\n      if (axios.isCancel(error)) {\n        throw new RequestCancelledError();\n      } else {\n        throw error;\n      }\n    }\n  }\n}\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return possibleConstructorReturn(this, result);\n  };\n}","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport _get from \"lodash/get\";\nimport _hasIn from \"lodash/hasIn\";\nimport Qs from \"qs\";\nimport { InvenioSearchApi } from \"./InvenioSearchApi\";\n\nclass InvenioSuggestionRequestSerializer {\n  constructor(queryField) {\n    this.queryField = queryField;\n    this.serialize = this.serialize.bind(this);\n  }\n\n  /**\n   * Return a serialized version of the app state `query` for the API backend.\n   * @param {object} stateQuery the `query` state to serialize\n   */\n  serialize(stateQuery) {\n    const { suggestionString } = stateQuery;\n\n    const getParams = {};\n    if (suggestionString !== null) {\n      getParams[\"q\"] = this.queryField + \":\" + suggestionString;\n    }\n\n    return Qs.stringify(getParams, { arrayFormat: \"repeat\", encode: false });\n  }\n}\n\nclass InvenioSuggestionResponseSerializer {\n  constructor(responseField) {\n    this.responseFieldPath = responseField.split(\".\");\n    this.serialize = this.serialize.bind(this);\n  }\n\n  _serializeSuggestions = (responseHits) => {\n    return Array.from(\n      new Set(responseHits.map((hit) => _get(hit.metadata, this.responseFieldPath)))\n    );\n  };\n\n  /**\n   * Return a serialized version of the API backend response for the app state `suggestions`.\n   * @param {object} payload the backend response payload\n   */\n  serialize(payload) {\n    return {\n      suggestions: this._serializeSuggestions(payload.hits.hits || []),\n    };\n  }\n}\n\nexport class InvenioSuggestionApi extends InvenioSearchApi {\n  validateConfig(config) {\n    super.validateConfig(config);\n\n    if (!_hasIn(config, \"invenio.suggestions.queryField\")) {\n      throw new Error(\n        \"InvenioSuggestionApi config: `invenio.suggestions.queryField` is required.\"\n      );\n    }\n    if (!_hasIn(config, \"invenio.suggestions.responseField\")) {\n      throw new Error(\n        \"InvenioSuggestionApi config: `invenio.suggestions.queryField` is responseField.\"\n      );\n    }\n  }\n\n  initSerializers(config) {\n    const requestSerializerCls = _get(\n      config,\n      \"invenio.requestSerializer\",\n      InvenioSuggestionRequestSerializer\n    );\n    const responseSerializerCls = _get(\n      config,\n      \"invenio.responseSerializer\",\n      InvenioSuggestionResponseSerializer\n    );\n\n    this.requestSerializer = new requestSerializerCls(\n      config.invenio.suggestions.queryField\n    );\n    this.responseSerializer = new responseSerializerCls(\n      config.invenio.suggestions.responseField\n    );\n  }\n}\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport _isArray from \"lodash/isArray\";\nimport _isNumber from \"lodash/isNumber\";\n\n/** Default implementation for a param validator class */\nexport class UrlParamValidator {\n  /**\n   * Return true if the param value is valid, false otherwise\n   * @param {object} urlHandler the url handler\n   * @param {string} key the parameter key\n   * @param {string} value the parameter value\n   */\n  isValid = (urlHandler, key, value) => {\n    switch (key) {\n      case \"queryString\":\n      case \"sortBy\":\n        return true;\n      case \"sortOrder\":\n        return [\"asc\", \"desc\"].includes(value);\n      case \"page\":\n      case \"size\":\n        return _isNumber(value) && value > 0;\n      case \"layout\":\n        return [\"grid\", \"list\"].includes(value);\n      case \"filters\":\n      case \"hiddenParams\": {\n        const array = _isArray(value) ? value : [value];\n        const cKvSep = \":\",\n          cChildSep = urlHandler.urlFilterSeparator;\n        const pLiteral = `[^\\\\${cKvSep}\\\\${cChildSep}]*`,\n          pKeyValue = `${pLiteral}\\\\${cKvSep}${pLiteral}`,\n          pAll = `${pKeyValue}(\\\\${cChildSep}${pKeyValue})*`;\n        const regex = new RegExp(`^${pAll}$`);\n        return array.every((filter) => String(filter).match(regex));\n      }\n      default:\n        return false;\n    }\n  };\n}\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport _cloneDeep from \"lodash/cloneDeep\";\nimport _isBoolean from \"lodash/isBoolean\";\nimport _isObject from \"lodash/isObject\";\nimport _isString from \"lodash/isString\";\nimport Qs from \"qs\";\nimport { UrlParamValidator } from \"./UrlParamValidator\";\n\nconst pushHistory = (query) => {\n  if (window.history.pushState) {\n    window.history.pushState({ path: query }, \"\", query);\n  }\n};\n\nconst replaceHistory = (query) => {\n  if (window.history.replaceState) {\n    window.history.replaceState({ path: query }, \"\", query);\n  }\n};\n\n/** Default URL parser implementation */\nclass UrlParser {\n  constructor() {\n    this.parse = this.parse.bind(this);\n    this.paramsMapping = {};\n  }\n\n  set urlParamsMapping(mapping) {\n    this.paramsMapping = mapping;\n  }\n\n  /**\n   * Convert string to int for `page` and `size` params\n   * @param {string} key the name of the param\n   * @param {string} value the value of the param\n   */\n  _convertValue = (key, value) => {\n    switch (key) {\n      case this.paramsMapping[\"page\"]:\n      case this.paramsMapping[\"size\"]:\n        return parseInt(value);\n      default:\n        return value;\n    }\n  };\n  /**\n   * Parse the URL query string and return an object with all the params.\n   * @param {string} queryString the query string to parse\n   */\n  parse(queryString = \"\") {\n    const parsedParams = Qs.parse(queryString, { ignoreQueryPrefix: true });\n    const params = {};\n    Object.entries(parsedParams).forEach((entry) => {\n      const key = entry[0];\n      const value = entry[1];\n      params[key] = this._convertValue(key, value);\n    });\n    return params;\n  }\n}\n\n/** Object responsible to update the URL query string and parse it to update the app state */\nexport class UrlHandlerApi {\n  constructor(config = {}) {\n    this.urlParamsMapping = _isObject(config.urlParamsMapping)\n      ? config.urlParamsMapping\n      : {\n          queryString: \"q\",\n          sortBy: \"sort\",\n          sortOrder: \"order\",\n          page: \"p\",\n          size: \"s\",\n          layout: \"l\",\n          filters: \"f\",\n          hiddenParams: \"hp\",\n        };\n\n    this.keepHistory = config.keepHistory !== undefined ? config.keepHistory : true;\n    if (!_isBoolean(this.keepHistory)) {\n      throw new Error(\n        `\"keepHistory configuration must be a boolean, ${this.keepHistory} provided.`\n      );\n    }\n\n    this.urlFilterSeparator =\n      config.urlFilterSeparator !== undefined ? config.urlFilterSeparator : \"+\";\n    if (!_isString(this.urlFilterSeparator)) {\n      throw new Error(\n        `\"urlFilterSeparator configuration must be a string, ${this.urlFilterSeparator} provided.`\n      );\n    }\n\n    this.urlParamValidator = config.urlParamValidator || new UrlParamValidator();\n    this.urlParser = config.urlParser || new UrlParser();\n    this.urlParser.urlParamsMapping = this.urlParamsMapping;\n\n    // build the serializer from URL params to Query state by flipping the urlParamsMapping\n    this.fromUrlParamsMapping = {};\n    Object.keys(this.urlParamsMapping).forEach((stateKey) => {\n      this.fromUrlParamsMapping[this.urlParamsMapping[stateKey]] = stateKey;\n    });\n\n    this.get = this.get.bind(this);\n    this.set = this.set.bind(this);\n    this.replace = this.replace.bind(this);\n  }\n\n  /**\n   * Map filters from list to string that is human readable\n   * [ 'type', 'photo', [ 'subtype', 'png' ]] => type:photo+subtype:png\n   */\n  _filterListToString = (filter) => {\n    const childFilter =\n      filter.length === 3\n        ? this.urlFilterSeparator.concat(this._filterListToString(filter[2]))\n        : \"\";\n    return `${filter[0]}:${filter[1]}${childFilter}`;\n  };\n\n  /**\n   * Map each query state field to an URL param\n   */\n  _mapQueryStateToUrlParams = (queryState) => {\n    const params = {};\n    Object.keys(queryState)\n      .filter((stateKey) => stateKey in this.urlParamsMapping)\n      .filter((stateKey) => {\n        // filter out negative or null values\n        if ((stateKey === \"page\" || stateKey === \"size\") && queryState[stateKey] <= 0) {\n          return false;\n        }\n        if (stateKey === \"hiddenParams\") {\n          return false;\n        }\n        return queryState[stateKey] !== null;\n      })\n      .forEach((stateKey) => {\n        const paramKey = this.urlParamsMapping[stateKey];\n        if (stateKey === \"filters\") {\n          params[paramKey] = queryState[stateKey].map((filter) =>\n            this._filterListToString(filter)\n          );\n        } else {\n          params[paramKey] = queryState[stateKey];\n        }\n      });\n\n    const keyComparator = (a, b) => {\n      const q = \"q\"; // query parameter should appear first\n      if (a === q) {\n        return -1;\n      } else if (b === q) {\n        return 1;\n      }\n      return a.localeCompare(b);\n    };\n\n    // will omit undefined and null values from the query\n    return Qs.stringify(params, {\n      addQueryPrefix: true,\n      skipNulls: true,\n      indices: false, // order for filters params is not important, remove indices\n      sort: keyComparator,\n    });\n  };\n\n  /**\n   * Map filters from string to list\n   * type:photo+subtype:png => [ 'type', 'photo', [ 'subtype', 'png' ]]\n   */\n  _filterStringToList = (filterStr) => {\n    const childSepPos = filterStr.indexOf(this.urlFilterSeparator);\n    const hasChild = childSepPos > -1;\n\n    const aggNamePos = filterStr.indexOf(\":\");\n    if (aggNamePos === -1) {\n      throw new Error(\n        `Filter \"${filterStr}\" not parsable. Format expected: \"<agg name>:<value>\"`\n      );\n    }\n    const aggName = filterStr.slice(0, aggNamePos);\n    const end = hasChild ? childSepPos : filterStr.length;\n    const value = filterStr.slice(aggNamePos + 1, end);\n    let filterList = [aggName, value];\n    if (hasChild) {\n      const childFilter = filterStr.slice(childSepPos + 1, filterStr.length);\n      filterList.push(this._filterStringToList(childFilter));\n    }\n    return filterList;\n  };\n\n  /**\n   * Map each URL param to a query state field\n   */\n  _mapUrlParamsToQueryState = (urlParamsObj) => {\n    const result = {};\n    Object.keys(urlParamsObj).forEach((paramKey) => {\n      const queryStateKey = this.fromUrlParamsMapping[paramKey];\n      if (this.urlParamValidator.isValid(this, queryStateKey, urlParamsObj[paramKey])) {\n        result[queryStateKey] = urlParamsObj[paramKey];\n        // custom transformation for filters\n        if (queryStateKey === \"filters\") {\n          if (!Array.isArray(urlParamsObj[paramKey])) {\n            // if only 1 filter, create an array with one element\n            urlParamsObj[paramKey] = [urlParamsObj[paramKey]];\n          }\n          result[queryStateKey] = urlParamsObj[paramKey].map((filter) =>\n            this._filterStringToList(filter)\n          );\n        }\n      } else {\n        console.warn(\n          `URL parameter '${paramKey}' with value '${urlParamsObj[paramKey]}' is incorrect and was ignored.`\n        );\n      }\n    });\n    return result;\n  };\n\n  _mergeParamsIntoState = (urlStateObj, queryState) => {\n    const _queryState = _cloneDeep(queryState);\n    Object.keys(urlStateObj).forEach((stateKey) => {\n      _queryState[stateKey] = urlStateObj[stateKey];\n    });\n    return _queryState;\n  };\n\n  /**\n   * Return a new version of the given `query` state with updated values parsed from the URL query string.\n   * @param {object} queryState the `query` state\n   */\n  get(queryState) {\n    const urlParamsObj = this.urlParser.parse(window.location.search);\n    const urlStateObj = this._mapUrlParamsToQueryState(urlParamsObj);\n    const newQueryState = this._mergeParamsIntoState(urlStateObj, queryState);\n    const newUrlParams = this._mapQueryStateToUrlParams(newQueryState);\n    replaceHistory(newUrlParams);\n    return newQueryState;\n  }\n\n  /**\n   * Update the URL query string parameters from the given `query` state\n   * @param {object} stateQuery the `query` state\n   */\n  set(stateQuery) {\n    if (this.keepHistory) {\n      const newUrlParams = this._mapQueryStateToUrlParams(stateQuery);\n      pushHistory(newUrlParams);\n    } else {\n      this.replace(stateQuery);\n    }\n  }\n\n  /**\n   * Replace the URL query string parameters from the given `query` state\n   * @param {object} stateQuery the `query` state\n   */\n  replace(stateQuery) {\n    const newUrlParams = this._mapQueryStateToUrlParams(stateQuery);\n    replaceHistory(newUrlParams);\n  }\n}\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nexport const SET_QUERY_COMPONENT_INITIAL_STATE = \"SET_QUERY_COMPONENT_INITIAL_STATE\";\nexport const SET_QUERY_STRING = \"SET_QUERY_STRING\";\nexport const SET_QUERY_SORTING = \"SET_QUERY_SORTING\";\nexport const SET_QUERY_SORT_BY = \"SET_QUERY_SORT_BY\";\nexport const SET_QUERY_SORT_ORDER = \"SET_QUERY_SORT_ORDER\";\nexport const SET_QUERY_STATE = \"SET_QUERY_STATE\";\nexport const SET_QUERY_PAGINATION_PAGE = \"SET_QUERY_PAGINATION_PAGE\";\nexport const SET_QUERY_PAGINATION_SIZE = \"SET_QUERY_PAGINATION_SIZE\";\nexport const SET_QUERY_FILTERS = \"SET_QUERY_FILTERS\";\nexport const SET_QUERY_SUGGESTIONS = \"SET_QUERY_SUGGESTIONS\";\nexport const SET_SUGGESTION_STRING = \"SET_SUGGESTION_STRING\";\nexport const CLEAR_QUERY_SUGGESTIONS = \"CLEAR_QUERY_SUGGESTIONS\";\n\nexport const RESULTS_LOADING = \"RESULTS_LOADING\";\nexport const RESULTS_FETCH_SUCCESS = \"RESULTS_FETCH_SUCCESS\";\nexport const RESULTS_FETCH_ERROR = \"RESULTS_FETCH_ERROR\";\nexport const RESULTS_UPDATE_LAYOUT = \"RESULTS_UPDATE_LAYOUT\";\nexport const SET_RESULTS_COMPONENT_INITIAL_STATE =\n  \"SET_RESULTS_COMPONENT_INITIAL_STATE\";\nexport const RESET_QUERY = \"RESET_QUERY\";\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport _cloneDeep from \"lodash/cloneDeep\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport { RequestCancelledError } from \"../../api\";\nimport {\n  CLEAR_QUERY_SUGGESTIONS,\n  RESET_QUERY,\n  RESULTS_FETCH_ERROR,\n  RESULTS_FETCH_SUCCESS,\n  RESULTS_LOADING,\n  RESULTS_UPDATE_LAYOUT,\n  SET_QUERY_COMPONENT_INITIAL_STATE,\n  SET_QUERY_FILTERS,\n  SET_QUERY_PAGINATION_PAGE,\n  SET_QUERY_PAGINATION_SIZE,\n  SET_QUERY_SORTING,\n  SET_QUERY_SORT_BY,\n  SET_QUERY_SORT_ORDER,\n  SET_QUERY_STATE,\n  SET_QUERY_STRING,\n  SET_QUERY_SUGGESTIONS,\n  SET_SUGGESTION_STRING,\n} from \"../types\";\n\nexport const setInitialState = (initialState) => {\n  return (dispatch) => {\n    dispatch({\n      type: SET_QUERY_COMPONENT_INITIAL_STATE,\n      payload: initialState,\n    });\n  };\n};\n\nexport const onAppInitialized = (searchOnInit) => {\n  return (dispatch) => {\n    if (searchOnInit) {\n      dispatch(\n        executeQuery({\n          shouldUpdateUrlQueryString: false,\n          shouldReplaceUrlQueryString: true,\n        })\n      );\n    }\n  };\n};\n\nexport const updateQueryState = (queryState) => {\n  return (dispatch) => {\n    dispatch({\n      type: SET_QUERY_STATE,\n      payload: queryState,\n    });\n    dispatch(executeQuery());\n  };\n};\n\nexport const updateQueryString = (queryString) => {\n  return (dispatch) => {\n    dispatch({\n      type: SET_QUERY_STRING,\n      payload: queryString,\n    });\n    dispatch(executeQuery());\n  };\n};\n\nexport const updateQuerySorting = (sortByValue, sortOrderValue) => {\n  return (dispatch) => {\n    dispatch({\n      type: SET_QUERY_SORTING,\n      payload: { sortBy: sortByValue, sortOrder: sortOrderValue },\n    });\n    dispatch(executeQuery());\n  };\n};\n\nexport const updateQuerySortBy = (sortByValue) => {\n  return (dispatch) => {\n    dispatch({\n      type: SET_QUERY_SORT_BY,\n      payload: sortByValue,\n    });\n    dispatch(executeQuery());\n  };\n};\n\nexport const updateQuerySortOrder = (sortOrderValue) => {\n  return (dispatch) => {\n    dispatch({ type: SET_QUERY_SORT_ORDER, payload: sortOrderValue });\n    dispatch(executeQuery());\n  };\n};\n\nexport const updateQueryPaginationPage = (page) => {\n  return (dispatch) => {\n    dispatch({ type: SET_QUERY_PAGINATION_PAGE, payload: page });\n    dispatch(executeQuery());\n  };\n};\n\nexport const updateQueryPaginationSize = (size) => {\n  return (dispatch) => {\n    dispatch({ type: SET_QUERY_PAGINATION_SIZE, payload: size });\n    dispatch(executeQuery());\n  };\n};\n\nexport const updateQueryFilters = (filters) => {\n  return (dispatch) => {\n    dispatch({\n      type: SET_QUERY_FILTERS,\n      payload: filters,\n    });\n    dispatch(executeQuery());\n  };\n};\n\nexport const updateResultsLayout = (layout) => {\n  return async (dispatch, getState, config) => {\n    const urlHandlerApi = config.urlHandlerApi;\n    if (urlHandlerApi) {\n      await dispatch({\n        type: RESULTS_UPDATE_LAYOUT,\n        payload: layout,\n      });\n      const newStateQuery = getState().query;\n      urlHandlerApi.set(newStateQuery);\n    } else {\n      dispatch({\n        type: RESULTS_UPDATE_LAYOUT,\n        payload: layout,\n      });\n    }\n  };\n};\n\nexport const resetQuery = () => {\n  return (dispatch, getState, config) => {\n    dispatch({\n      type: RESET_QUERY,\n      payload: {\n        queryString: \"\",\n        page: 1,\n        filters: [],\n        ...config.initialQueryState,\n      },\n    });\n    dispatch(executeQuery());\n  };\n};\n\n/**\n * Update URL parameters.\n * @param {object} queryState - current query state\n * @param {object} appConfig - app config\n * @param {boolean} shouldReplaceUrlQueryString - true if should replace the last browser history state\n * @param {boolean} shouldUpdateUrlQueryString - true if it should add a new browser history state\n */\nconst updateURLParameters = (\n  queryState,\n  appConfig,\n  shouldReplaceUrlQueryString,\n  shouldUpdateUrlQueryString\n) => {\n  const urlHandlerApi = appConfig.urlHandlerApi;\n  if (urlHandlerApi) {\n    if (shouldReplaceUrlQueryString) {\n      urlHandlerApi.replace(queryState);\n    } else if (shouldUpdateUrlQueryString) {\n      urlHandlerApi.set(queryState);\n    }\n  }\n};\n\n/**\n * Update query state and URL args with the new query state given by the backend response.\n * @param {object} response - API response\n * @param {func} dispatch - Redux `dispath` function\n * @param {func} getState - function to get the Redux state\n * @param {object} appConfig - app config\n */\nconst updateQueryStateAfterResponse = (response, dispatch, getState, appConfig) => {\n  const prevState = getState().query;\n  dispatch({\n    type: SET_QUERY_STATE,\n    payload: { ...prevState, ...response.newQueryState },\n  });\n  const updatedQueryState = _cloneDeep(getState().query);\n\n  const urlHandlerApi = appConfig.urlHandlerApi;\n  if (urlHandlerApi) {\n    // Replace the URL args with the response new query state\n    urlHandlerApi.replace(updatedQueryState);\n  }\n  delete response.newStateQuery;\n  return response;\n};\n\nconst updateSearchSorting = (queryState, appState, appConfig, dispatch) => {\n  function getSearchSortingOnQueryString(queryState, appState, appConfig, dispatch) {\n    const isQueryStringEmpty = queryState.queryString === \"\";\n    if (isQueryStringEmpty) {\n      queryState.sortBy = appConfig.defaultSortingOnEmptyQueryString.sortBy;\n      queryState.sortOrder = appConfig.defaultSortingOnEmptyQueryString.sortOrder;\n    } else {\n      queryState.sortBy = appState.initialSortBy;\n      queryState.sortOrder = appState.initialSortOrder;\n    }\n    dispatch({\n      type: SET_QUERY_STATE,\n      payload: queryState,\n    });\n  }\n\n  function getSearchSorting(queryState, appState, appConfig, dispatch) {\n    const userHasChangedSorting = appState.hasUserChangedSorting;\n    if (!userHasChangedSorting) {\n      // change sorting only if user did not change it\n      getSearchSortingOnQueryString(queryState, appState, appConfig, dispatch);\n    }\n  }\n\n  // when the `defaultSortingOnEmptyQueryString` config is not defined,\n  // return the current query state\n  const defaultSortingDefined = !_isEmpty(appConfig.defaultSortingOnEmptyQueryString);\n  if (defaultSortingDefined) {\n    // when the `defaultSortingOnEmptyQueryString` config is defined,\n    // evaluate if the sorting should be automatically changed\n    getSearchSorting(queryState, appState, appConfig, dispatch);\n  }\n};\n\n/**\n * Execute search API request with current query state and update results state with response.\n * @param {object} options - `shouldUpdateUrlQueryString` and `shouldReplaceUrlQueryString` to choose if the\n *                           browser history state should be updated with the current query state.\n */\nexport const executeQuery = ({\n  shouldUpdateUrlQueryString = true,\n  shouldReplaceUrlQueryString = false,\n} = {}) => {\n  return async (dispatch, getState, config) => {\n    const appState = getState().app;\n    let queryState = _cloneDeep(getState().query);\n    updateSearchSorting(queryState, appState, config, dispatch);\n\n    // fetch latest query state\n    queryState = _cloneDeep(getState().query);\n\n    updateURLParameters(\n      queryState,\n      config,\n      shouldReplaceUrlQueryString,\n      shouldUpdateUrlQueryString\n    );\n\n    dispatch({ type: RESULTS_LOADING });\n    try {\n      const searchApi = config.searchApi;\n      let response = await searchApi.search(queryState);\n\n      if (\"newQueryState\" in response) {\n        response = updateQueryStateAfterResponse(\n          _cloneDeep(response),\n          dispatch,\n          getState,\n          config\n        );\n      }\n\n      dispatch({\n        type: RESULTS_FETCH_SUCCESS,\n        payload: {\n          aggregations: response.aggregations,\n          hits: response.hits,\n          total: response.total,\n        },\n      });\n    } catch (error) {\n      if (error instanceof RequestCancelledError) {\n        // do nothing when the request was cancelled, another request is normally already happening\n        console.debug(error);\n        return;\n      } else {\n        console.error(error);\n        dispatch({\n          type: RESULTS_FETCH_ERROR,\n          payload: {\n            error: error,\n          },\n        });\n      }\n    }\n  };\n};\n\nexport const updateSuggestions = (suggestionString) => {\n  return (dispatch) => {\n    dispatch({\n      type: SET_SUGGESTION_STRING,\n      payload: suggestionString,\n    });\n    dispatch(executeSuggestionQuery());\n  };\n};\n\nexport const executeSuggestionQuery = () => {\n  return async (dispatch, getState, config) => {\n    const queryState = _cloneDeep(getState().query);\n    const suggestionApi = config.suggestionApi;\n\n    try {\n      const response = await suggestionApi.search(queryState);\n      dispatch({\n        type: SET_QUERY_SUGGESTIONS,\n        payload: {\n          suggestions: response.suggestions,\n        },\n      });\n    } catch (reason) {\n      console.error(\"Could not load suggestions due to: \" + reason);\n    }\n  };\n};\n\nexport const clearSuggestions = () => {\n  return (dispatch) => {\n    dispatch({\n      type: CLEAR_QUERY_SUGGESTIONS,\n      payload: {\n        suggestions: [],\n      },\n    });\n  };\n};\n\nexport const updateQueryStateFromUrl = () => {\n  return (dispatch, getState, config) => {\n    if (config.urlHandlerApi) {\n      const newState = config.urlHandlerApi.get(config.initialQueryState);\n      dispatch({\n        type: SET_QUERY_STATE,\n        payload: newState,\n      });\n      dispatch(executeQuery({ shouldReplaceUrlQueryString: true }));\n    }\n  };\n};\n","import React from \"react\";\n\nexport const AppContext = React.createContext({});\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { SET_QUERY_SORTING, SET_QUERY_SORT_BY, SET_QUERY_SORT_ORDER } from \"../types\";\n\nconst appReducer = (state = {}, action) => {\n  switch (action.type) {\n    case SET_QUERY_SORTING:\n      return {\n        ...state,\n        hasUserChangedSorting: true,\n      };\n    case SET_QUERY_SORT_BY:\n      return {\n        ...state,\n        hasUserChangedSorting: true,\n      };\n    case SET_QUERY_SORT_ORDER:\n      return {\n        ...state,\n        hasUserChangedSorting: true,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default appReducer;\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { INITIAL_QUERY_STATE, INITIAL_QUERY_STATE_KEYS } from \"../../storeConfig\";\nimport { updateQueryFilters, updateQueryState } from \"../selectors\";\nimport {\n  CLEAR_QUERY_SUGGESTIONS,\n  RESET_QUERY,\n  RESULTS_UPDATE_LAYOUT,\n  SET_QUERY_COMPONENT_INITIAL_STATE,\n  SET_QUERY_FILTERS,\n  SET_QUERY_PAGINATION_PAGE,\n  SET_QUERY_PAGINATION_SIZE,\n  SET_QUERY_SORTING,\n  SET_QUERY_SORT_BY,\n  SET_QUERY_SORT_ORDER,\n  SET_QUERY_STATE,\n  SET_QUERY_STRING,\n  SET_QUERY_SUGGESTIONS,\n  SET_SUGGESTION_STRING,\n} from \"../types\";\n\nconst queryReducer = (state = {}, action) => {\n  switch (action.type) {\n    case SET_QUERY_STRING:\n      return { ...state, queryString: action.payload, page: 1 };\n    case SET_QUERY_SORTING:\n      return {\n        ...state,\n        sortBy: action.payload.sortBy,\n        sortOrder: action.payload.sortOrder,\n        _sortUserChanged: true,\n        page: 1,\n      };\n    case SET_QUERY_SORT_BY:\n      return {\n        ...state,\n        sortBy: action.payload,\n        _sortUserChanged: true,\n        page: 1,\n      };\n    case SET_QUERY_SORT_ORDER:\n      return {\n        ...state,\n        sortOrder: action.payload,\n        _sortUserChanged: true,\n        page: 1,\n      };\n    case SET_QUERY_PAGINATION_PAGE:\n      return {\n        ...state,\n        page: action.payload,\n      };\n    case SET_QUERY_PAGINATION_SIZE:\n      return {\n        ...state,\n        size: action.payload,\n        page: 1,\n      };\n    case SET_QUERY_FILTERS: {\n      return {\n        ...state,\n        page: 1,\n        filters: updateQueryFilters(action.payload, state.filters),\n      };\n    }\n    case SET_QUERY_SUGGESTIONS:\n      return {\n        ...state,\n        suggestions: action.payload.suggestions,\n      };\n    case CLEAR_QUERY_SUGGESTIONS:\n      return {\n        ...state,\n        suggestions: action.payload.suggestions,\n      };\n    case SET_SUGGESTION_STRING:\n      return {\n        ...state,\n        suggestionString: action.payload,\n      };\n    case SET_QUERY_COMPONENT_INITIAL_STATE:\n      return {\n        ...state,\n        ...action.payload,\n      };\n    case SET_QUERY_STATE:\n      return {\n        ...state,\n        ...INITIAL_QUERY_STATE,\n        ...updateQueryState(\n          INITIAL_QUERY_STATE,\n          action.payload,\n          INITIAL_QUERY_STATE_KEYS\n        ),\n      };\n    case RESULTS_UPDATE_LAYOUT:\n      return {\n        ...state,\n        layout: action.payload,\n      };\n    case RESET_QUERY:\n      return {\n        ...state,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default queryReducer;\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { RESULTS_FETCH_ERROR, RESULTS_FETCH_SUCCESS, RESULTS_LOADING } from \"../types\";\n\nconst resultsReducer = (state = {}, action) => {\n  switch (action.type) {\n    case RESULTS_LOADING:\n      return {\n        ...state,\n        loading: true,\n        data: {\n          ...state.data,\n        },\n      };\n    case RESULTS_FETCH_SUCCESS:\n      return {\n        loading: false,\n        data: {\n          ...state.data,\n          aggregations: action.payload.aggregations,\n          hits: action.payload.hits,\n          total: action.payload.total,\n        },\n        error: {},\n      };\n    case RESULTS_FETCH_ERROR:\n      return {\n        loading: false,\n        data: {\n          ...state.data,\n          aggregations: {},\n          hits: [],\n          total: 0,\n        },\n        error: action.payload.error,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default resultsReducer;\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { combineReducers } from \"redux\";\nimport appReducer from \"./app\";\nimport queryReducer from \"./query\";\nimport resultsReducer from \"./results\";\n\nexport default combineReducers({\n  app: appReducer,\n  query: queryReducer,\n  results: resultsReducer,\n});\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport _isEmpty from \"lodash/isEmpty\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./state/reducers\";\nimport {\n  INITIAL_APP_STATE,\n  INITIAL_QUERY_STATE,\n  INITIAL_RESULTS_STATE,\n} from \"./storeConfig\";\n\nfunction isSortingDifferent(\n  { sortBy: sortBy1, sortOrder: sortOrder1 },\n  { sortBy: sortBy2, sortOrder: sortOrder2 }\n) {\n  const differentSortBy = sortBy1 !== sortBy2;\n  const differentSortOrder = sortOrder1 !== sortOrder2;\n  return differentSortBy || differentSortOrder;\n}\n\nfunction urlParamsChangedSorting(\n  appConfig,\n  initialQueryState,\n  queryStateFromURLParams\n) {\n  // check if the sorting has been changed by the URL params\n  // it is not the initial or defaultOnEmpty values\n  const differInitialSorting = isSortingDifferent(\n    queryStateFromURLParams,\n    initialQueryState\n  );\n\n  const isDefaultOnEmptyDefined = !_isEmpty(appConfig.defaultSortingOnEmptyQueryString);\n  let differDefaultOnEmtpy = false;\n  if (isDefaultOnEmptyDefined) {\n    differDefaultOnEmtpy = isSortingDifferent(\n      queryStateFromURLParams,\n      appConfig.defaultSortingOnEmptyQueryString\n    );\n  }\n\n  const isDifferentThanInitialAndDefaultOnEmpty =\n    differInitialSorting && differDefaultOnEmtpy;\n  return isDifferentThanInitialAndDefaultOnEmpty;\n}\n\nfunction getInitialState(appConfig) {\n  // update `query` state\n  const initialQueryState = {\n    ...INITIAL_QUERY_STATE,\n    ...appConfig.initialQueryState,\n  };\n\n  // update initial state depending on URL params values\n  const queryStateFromURLParams = appConfig.urlHandlerApi\n    ? appConfig.urlHandlerApi.get(initialQueryState)\n    : initialQueryState;\n\n  // the sorting value in URL params takes precedence\n  // evaluate if URL params have sorting with a specific value\n  // that is not initial or defaultOnEmpty\n  const hasUserChangedSorting = urlParamsChangedSorting(\n    appConfig,\n    initialQueryState,\n    queryStateFromURLParams\n  );\n\n  // update `app` state\n  const initialAppState = {\n    ...INITIAL_APP_STATE,\n    hasUserChangedSorting: hasUserChangedSorting,\n    initialSortBy: initialQueryState.sortBy,\n    initialSortOrder: initialQueryState.sortOrder,\n  };\n\n  // update `results` state\n  const initialResultsState = {\n    ...INITIAL_RESULTS_STATE,\n    loading: appConfig.searchOnInit,\n  };\n\n  return {\n    app: initialAppState,\n    query: queryStateFromURLParams,\n    results: initialResultsState,\n  };\n}\n\nexport function createStoreWithConfig(appConfig) {\n  const preloadedState = getInitialState(appConfig);\n  return createStore(\n    rootReducer,\n    preloadedState,\n    applyMiddleware(thunk.withExtraArgument(appConfig))\n  );\n}\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\n/**\n * Build namespaced unique identifier.\n * @param {string} elementName component element name\n * @param {string} overridableId unique identifier passed as prop to overridable component\n * @param {string} appName the app name\n * @return {string} the unique id string with the format 'appName.elementName.overridableId'\n */\nexport function buildUID(elementName, overridableId = \"\", appName = \"\") {\n  const _overridableId = overridableId ? `.${overridableId}` : \"\";\n  const _appName = appName ? `${appName}.` : \"\";\n\n  return `${_appName}${elementName}${_overridableId}`;\n}\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport { Component } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { AppContext } from \"../ReactSearchKit/AppContext\";\n\nclass Bootstrap extends Component {\n  constructor(props) {\n    super(props);\n    this.searchOnInit = props.searchOnInit;\n    this.eventListenerEnabled = props.eventListenerEnabled;\n    this.onAppInitialized = props.onAppInitialized;\n    this.searchOnUrlQueryStringChanged = props.searchOnUrlQueryStringChanged;\n  }\n\n  componentDidMount() {\n    if (this.eventListenerEnabled) {\n      window.addEventListener(\"queryChanged\", this.onQueryChanged);\n    }\n    window.onpopstate = () => {\n      this.searchOnUrlQueryStringChanged();\n    };\n    this.onAppInitialized(this.searchOnInit);\n  }\n\n  componentWillUnmount() {\n    window.onpopstate = () => {};\n    window.removeEventListener(\"queryChanged\", this.onQueryChanged);\n  }\n\n  updateQueryState = (query) => {\n    const { updateQueryState } = this.props;\n    updateQueryState(query);\n  };\n\n  onQueryChanged = ({ detail: payload }) => {\n    const { appName } = this.context;\n\n    const appNameNotDefined = !appName;\n    if (appNameNotDefined) {\n      this.updateQueryState(payload.searchQuery);\n    } else {\n      const eventRecipient = payload.appName;\n      const sameName = eventRecipient === appName;\n      if (sameName) {\n        this.updateQueryState(payload.searchQuery);\n      } else {\n        console.debug(\n          `React-SearchKit '${appName}': ignoring event sent for app '${eventRecipient}'`\n        );\n      }\n    }\n  };\n\n  render() {\n    const { children } = this.props;\n    return children;\n  }\n}\n\nBootstrap.propTypes = {\n  searchOnInit: PropTypes.bool,\n  eventListenerEnabled: PropTypes.bool,\n  children: PropTypes.node.isRequired,\n  /* Redux */\n  onAppInitialized: PropTypes.func.isRequired,\n  updateQueryState: PropTypes.func.isRequired,\n  searchOnUrlQueryStringChanged: PropTypes.func.isRequired,\n};\n\nBootstrap.defaultProps = {\n  searchOnInit: true,\n  eventListenerEnabled: false,\n};\n\nBootstrap.contextType = AppContext;\n\nexport default Overridable.component(\"Bootstrap\", Bootstrap);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport {\n  onAppInitialized as _onAppInitialized,\n  updateQueryState,\n  updateQueryStateFromUrl,\n} from \"../../state/actions\";\nimport BootstrapComponent from \"./Bootstrap\";\n\nconst mapDispatchToProps = (dispatch) => ({\n  onAppInitialized: (searchOnInit) => dispatch(_onAppInitialized(searchOnInit)),\n  updateQueryState: (queryState) => dispatch(updateQueryState(queryState)),\n  searchOnUrlQueryStringChanged: () => dispatch(updateQueryStateFromUrl()),\n});\n\nexport const Bootstrap = connect(null, mapDispatchToProps)(BootstrapComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Provider } from \"react-redux\";\nimport { UrlHandlerApi } from \"../../api\";\nimport { createStoreWithConfig } from \"../../store\";\nimport { buildUID } from \"../../util\";\nimport { Bootstrap } from \"../Bootstrap\";\nimport { AppContext } from \"./AppContext\";\n\nexport class ReactSearchKit extends Component {\n  constructor(props) {\n    super(props);\n\n    const appConfig = {\n      searchApi: props.searchApi,\n      suggestionApi: props.suggestionApi,\n      urlHandlerApi: props.urlHandlerApi.enabled\n        ? props.urlHandlerApi.customHandler ||\n          new UrlHandlerApi(props.urlHandlerApi.overrideConfig)\n        : null,\n      searchOnInit: props.searchOnInit,\n      initialQueryState: props.initialQueryState,\n      defaultSortingOnEmptyQueryString: props.defaultSortingOnEmptyQueryString,\n    };\n\n    this.store = createStoreWithConfig(appConfig);\n    this.appName = props.appName;\n    this.eventListenerEnabled = props.eventListenerEnabled;\n  }\n\n  render() {\n    const { appName, children, eventListenerEnabled, overridableId, searchOnInit } =\n      this.props;\n\n    const context = {\n      appName,\n      buildUID: (element, overrideId) => buildUID(element, overrideId, appName),\n    };\n\n    const _overridableId = buildUID(\"ReactSearchKit.children\", overridableId, appName);\n\n    return (\n      <AppContext.Provider value={context}>\n        <Provider store={this.store}>\n          <Bootstrap\n            searchOnInit={searchOnInit}\n            eventListenerEnabled={eventListenerEnabled}\n          >\n            <Overridable id={_overridableId}>{children}</Overridable>\n          </Bootstrap>\n        </Provider>\n      </AppContext.Provider>\n    );\n  }\n}\n\nReactSearchKit.propTypes = {\n  searchApi: PropTypes.object.isRequired,\n  suggestionApi: PropTypes.object,\n  urlHandlerApi: PropTypes.shape({\n    enabled: PropTypes.bool.isRequired,\n    overrideConfig: PropTypes.shape({\n      keepHistory: PropTypes.bool,\n      urlFilterSeparator: PropTypes.string,\n      urlParamsMapping: PropTypes.object,\n      urlParamValidator: PropTypes.object,\n      urlParser: PropTypes.object,\n    }),\n    customHandler: PropTypes.object,\n  }),\n  searchOnInit: PropTypes.bool,\n  appName: PropTypes.string,\n  eventListenerEnabled: PropTypes.bool,\n  overridableId: PropTypes.string,\n  initialQueryState: PropTypes.shape({\n    queryString: PropTypes.string,\n    suggestions: PropTypes.array,\n    sortBy: PropTypes.string,\n    sortOrder: PropTypes.string,\n    page: PropTypes.number,\n    size: PropTypes.number,\n    filters: PropTypes.array,\n    hiddenParams: PropTypes.array,\n    layout: PropTypes.oneOf([\"list\", \"grid\"]),\n  }),\n  defaultSortingOnEmptyQueryString: PropTypes.shape({\n    sortBy: PropTypes.string,\n    sortOrder: PropTypes.string,\n  }),\n  children: PropTypes.node.isRequired,\n};\n\nReactSearchKit.defaultProps = {\n  suggestionApi: null,\n  urlHandlerApi: {\n    enabled: true,\n    overrideConfig: {},\n    customHandler: null,\n  },\n  searchOnInit: true,\n  appName: \"\",\n  eventListenerEnabled: false,\n  overridableId: \"\",\n  initialQueryState: {},\n  defaultSortingOnEmptyQueryString: {},\n};\n\nReactSearchKit.contextType = AppContext;\n\nexport default Overridable.component(\"ReactSearchKit\", ReactSearchKit);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport React, { Component, useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Icon, Label } from \"semantic-ui-react\";\nimport { AppContext } from \"../ReactSearchKit\";\n\nclass ActiveFilters extends Component {\n  constructor(props) {\n    super(props);\n    this.updateQueryFilters = props.updateQueryFilters;\n  }\n\n  _getLabel = (filter) => {\n    const aggName = filter[0];\n    let value = filter[1];\n    let currentFilter = [aggName, value];\n    const hasChild = filter.length === 3;\n    if (hasChild) {\n      const { label, activeFilter } = this._getLabel(filter[2]);\n      value = `${value}.${label}`;\n      currentFilter.push(activeFilter);\n    }\n    return {\n      label: value,\n      activeFilter: currentFilter,\n    };\n  };\n\n  render() {\n    const { filters, overridableId } = this.props;\n    return (\n      !!filters.length && (\n        <Element\n          filters={filters}\n          removeActiveFilter={this.updateQueryFilters}\n          getLabel={this._getLabel}\n          overridableId={overridableId}\n        />\n      )\n    );\n  }\n}\n\nActiveFilters.propTypes = {\n  overridableId: PropTypes.string,\n  /* REDUX */\n  filters: PropTypes.array.isRequired,\n  updateQueryFilters: PropTypes.func.isRequired,\n};\n\nActiveFilters.defaultProps = {\n  overridableId: \"\",\n};\n\nconst Element = ({ overridableId, filters, removeActiveFilter, getLabel }) => {\n  const { buildUID } = useContext(AppContext);\n\n  return (\n    <Overridable\n      id={buildUID(\"ActiveFilters.element\", overridableId)}\n      filters={filters}\n      removeActiveFilter={removeActiveFilter}\n      getLabel={getLabel}\n    >\n      <>\n        {filters.map((filter, index) => {\n          const { label, activeFilter } = getLabel(filter);\n          return (\n            // eslint-disable-next-line react/no-array-index-key\n            <Label image key={index} onClick={() => removeActiveFilter(activeFilter)}>\n              {label}\n              <Icon name=\"delete\" />\n            </Label>\n          );\n        })}\n      </>\n    </Overridable>\n  );\n};\n\nElement.propTypes = {\n  filters: PropTypes.array.isRequired,\n  removeActiveFilter: PropTypes.func.isRequired,\n  getLabel: PropTypes.func.isRequired,\n  overridableId: PropTypes.string,\n};\n\nElement.defaultProps = {\n  overridableId: \"\",\n};\n\nexport default Overridable.component(\"ActiveFilters\", ActiveFilters);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport { updateQueryFilters } from \"../../state/actions\";\nimport ActiveFiltersComponent from \"./ActiveFilters\";\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateQueryFilters: (filter) => dispatch(updateQueryFilters(filter)),\n});\n\nexport const ActiveFilters = connect(\n  (state) => ({\n    filters: state.query.filters,\n  }),\n  mapDispatchToProps\n)(ActiveFiltersComponent);\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/* eslint-disable no-unused-vars */\n/* eslint-disable react/no-this-in-sfc */\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable react/prop-types */\n/* eslint-disable react/require-default-props */\n/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport _ from \"lodash\";\nimport PropTypes from \"prop-types\";\nimport React, { Component, useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Input, Button } from \"semantic-ui-react\";\nimport { AppContext } from \"../ReactSearchKit\";\nimport \"./AutocompleteSearchBar.scss\";\n\nclass AutocompleteSearchBar extends Component {\n  constructor(props) {\n    super(props);\n    this.updateQueryString = this.props.updateQueryString;\n    this.updateSuggestions = this.props.debounce\n      ? _.debounce(this.props.updateSuggestions, this.props.debounceTime, {\n          leading: true,\n        })\n      : this.props.updateSuggestions;\n    this.clearSuggestions = this.props.clearSuggestions;\n    this.minCharsToAutocomplete = this.props.minCharsToAutocomplete;\n    this.state = {\n      currentValue: this.props.queryString || \"\",\n    };\n    this.handleAutocompleteChange =\n      props.handleAutocompleteChange || this._handleAutocompleteChange;\n  }\n\n  _handleAutocompleteChange = (suggestionString) => {\n    if (suggestionString.length >= this.minCharsToAutocomplete) {\n      this.updateSuggestions(suggestionString);\n    }\n  };\n\n  onInputChange = async (queryString) => {\n    await this.setState({\n      currentValue: queryString,\n    });\n\n    this.handleAutocompleteChange(this.state.currentValue);\n  };\n\n  executeSearch = () => {\n    this.updateQueryString(this.state.currentValue);\n  };\n\n  render() {\n    const { placeholder, suggestions, overridableId } = this.props;\n    return (\n      <Element\n        placeholder={placeholder}\n        queryString={this.state.currentValue}\n        querySuggestions={suggestions}\n        onInputChange={this.onInputChange}\n        executeSearch={this.executeSearch}\n        overridableId={overridableId}\n      />\n    );\n  }\n}\n\nAutocompleteSearchBar.propTypes = {\n  queryString: PropTypes.string,\n  updateQueryString: PropTypes.func.isRequired,\n  updateSuggestions: PropTypes.func.isRequired,\n  clearSuggestions: PropTypes.func.isRequired,\n  handleAutocompleteChange: PropTypes.func,\n  debounce: PropTypes.bool,\n  debounceTime: PropTypes.number,\n  placeholder: PropTypes.string,\n  minCharsToAutocomplete: PropTypes.number,\n  overridableId: PropTypes.string,\n};\n\nAutocompleteSearchBar.defaultProps = {\n  handleAutocompleteChange: null,\n  placeholder: \"Type something\",\n  minCharsToAutocomplete: 3,\n  overridableId: \"\",\n};\n\nconst AutocompleteSearchBarUncontrolled = (props) => (\n  <AutocompleteSearchBar key={props.queryString} {...props} />\n);\n\nconst Element = ({\n  overridableId,\n  placeholder,\n  queryString,\n  querySuggestions,\n  onInputChange,\n  executeSearch,\n  ...props\n}) => {\n  const { buildUID } = useContext(AppContext);\n  const onBtnSearchClick = (event, input) => {\n    executeSearch();\n  };\n  const onKeyPress = (event, input) => {\n    if (event.key === \"Enter\") {\n      executeSearch();\n    }\n  };\n\n  return (\n    <Overridable\n      id={buildUID(\"AutocompleteSearchBar.element\", overridableId)}\n      {...props}\n    >\n      <div className=\"AutoCompleteText\">\n        <Input\n          action={{\n            content: \"Search\",\n            onClick: onBtnSearchClick,\n          }}\n          fluid\n          placeholder={placeholder}\n          onChange={(event, { value }) => {\n            onInputChange(value);\n          }}\n          value={queryString}\n          onKeyPress={onKeyPress}\n        />\n        <Suggestions\n          querySuggestions={querySuggestions}\n          overridableId={overridableId}\n        />\n      </div>\n    </Overridable>\n  );\n};\n\nconst Suggestions = ({ overridableId, ...props }) => {\n  const { querySuggestions } = props;\n  const { buildUID } = useContext(AppContext);\n  const onSuggestionSelected = async (suggestion) => {\n    await this.setState({\n      currentValue: suggestion,\n    });\n    this.clearSuggestions();\n    this.executeSearch();\n  };\n\n  if (querySuggestions.length === 0) {\n    return null;\n  }\n\n  return (\n    <Overridable\n      id={buildUID(\"AutocompleteSearchBar.suggestions\", overridableId)}\n      {...props}\n    >\n      <ul>\n        {querySuggestions.map((text) => (\n          <Button as=\"li\" onClick={() => onSuggestionSelected(text)} key={text}>\n            {text}\n          </Button>\n        ))}\n      </ul>\n    </Overridable>\n  );\n};\n\nexport default Overridable.component(\n  \"AutocompleteSearchBar\",\n  AutocompleteSearchBarUncontrolled\n);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport {\n  clearSuggestions,\n  updateQueryString,\n  updateSuggestions,\n} from \"../../state/actions\";\nimport AutocompleteSearchBarComponent from \"../AutocompleteSearchBar/AutocompleteSearchBar\";\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateQueryString: (query) => dispatch(updateQueryString(query)),\n  updateSuggestions: (query) => dispatch(updateSuggestions(query)),\n  clearSuggestions: () => dispatch(clearSuggestions()),\n});\n\nconst mapStateToProps = (state) => ({\n  queryString: state.query.queryString,\n  suggestions: state.query.suggestions,\n});\n\nexport const AutocompleteSearchBar = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AutocompleteSearchBarComponent);\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _s, _e;\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport React, { Component, useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Checkbox, List } from \"semantic-ui-react\";\nimport { AppContext } from \"../ReactSearchKit\";\n\nclass BucketAggregationValues extends Component {\n  constructor(props) {\n    super(props);\n    this.field = props.field;\n    this.aggName = props.aggName;\n    this.childAgg = props.childAgg;\n    this.onFilterClicked = props.onFilterClicked;\n  }\n\n  _isSelected = (aggName, value, selectedFilters) => {\n    // return True there is at least one filter that has this value\n    return (\n      selectedFilters.filter((filter) => filter[0] === aggName && filter[1] === value)\n        .length >= 1\n    );\n  };\n\n  getChildAggCmps = (bucket, selectedFilters) => {\n    const hasChildAggregation = this.childAgg && this.childAgg[\"aggName\"] in bucket;\n    let selectedChildFilters = [];\n    if (hasChildAggregation) {\n      const childBuckets = bucket[this.childAgg[\"aggName\"]][\"buckets\"];\n      selectedFilters.forEach((filter) => {\n        const isThisAggregation = filter[0] === this.aggName;\n        const isThisValue = filter[1] === bucket.key;\n        const hasChild = filter.length === 3;\n        if (isThisAggregation && isThisValue && hasChild) {\n          selectedChildFilters.push(filter[2]);\n        }\n      });\n      const onFilterClicked = (value) => {\n        this.onFilterClicked([this.aggName, bucket.key, value]);\n      };\n      return (\n        <BucketAggregationValues\n          buckets={childBuckets}\n          selectedFilters={selectedChildFilters}\n          field={this.childAgg.field}\n          aggName={this.childAgg.aggName}\n          childAgg={this.childAgg.childAgg}\n          onFilterClicked={onFilterClicked}\n        />\n      );\n    }\n    return null;\n  };\n\n  render() {\n    const { buckets, selectedFilters, overridableId } = this.props;\n    const valuesCmp = buckets.map((bucket) => {\n      const keyField = bucket.key_as_string ? bucket.key_as_string : bucket.key;\n      const isSelected = this._isSelected(this.aggName, keyField, selectedFilters);\n      const onFilterClicked = (value) => {\n        this.onFilterClicked([this.aggName, value]);\n      };\n      const getChildAggCmps = (bucket) => this.getChildAggCmps(bucket, selectedFilters);\n\n      return (\n        <ValueElement\n          key={bucket.key}\n          bucket={bucket}\n          keyField={keyField}\n          isSelected={isSelected}\n          onFilterClicked={onFilterClicked}\n          getChildAggCmps={getChildAggCmps}\n          overridableId={overridableId}\n        />\n      );\n    });\n    return <ContainerElement valuesCmp={valuesCmp} overridableId={overridableId} />;\n  }\n}\n\nBucketAggregationValues.propTypes = {\n  buckets: PropTypes.array.isRequired,\n  selectedFilters: PropTypes.array.isRequired,\n  field: PropTypes.string.isRequired,\n  aggName: PropTypes.string.isRequired,\n  childAgg: PropTypes.shape({\n    field: PropTypes.string.isRequired,\n    aggName: PropTypes.string.isRequired,\n    childAgg: PropTypes.object,\n  }),\n  onFilterClicked: PropTypes.func.isRequired,\n  overridableId: PropTypes.string,\n};\n\nBucketAggregationValues.defaultProps = {\n  childAgg: null,\n  overridableId: \"\",\n};\n\nconst ContainerElement = ({ valuesCmp, overridableId }) => {\n  const { buildUID } = useContext(AppContext);\n\n  return (\n    <Overridable\n      id={buildUID(\"BucketAggregationContainer.element\", overridableId)}\n      valuesCmp={valuesCmp}\n    >\n      <List>{valuesCmp}</List>\n    </Overridable>\n  );\n};\n\nContainerElement.propTypes = {\n  valuesCmp: PropTypes.node.isRequired,\n  overridableId: PropTypes.string,\n};\n\nContainerElement.defaultProps = {\n  overridableId: \"\",\n};\n\nconst ValueElement = ({\n  bucket,\n  isSelected,\n  onFilterClicked,\n  getChildAggCmps,\n  overridableId,\n  keyField,\n}) => {\n  const { buildUID } = useContext(AppContext);\n  const label = bucket.label\n    ? bucket.label\n    : `${keyField} (${bucket.doc_count.toLocaleString(\"en-US\")})`;\n  const childAggCmps = getChildAggCmps(bucket);\n\n  return (\n    <Overridable\n      id={buildUID(\"BucketAggregationValues.element\", overridableId)}\n      bucket={bucket}\n      label={label}\n      onFilterClicked={onFilterClicked}\n      isSelected={isSelected}\n      childAggCmps={childAggCmps}\n    >\n      <List.Item key={bucket.key}>\n        <Checkbox\n          label={label}\n          value={bucket.key}\n          onClick={() => onFilterClicked(bucket.key)}\n          checked={isSelected}\n        />\n        {childAggCmps}\n      </List.Item>\n    </Overridable>\n  );\n};\n\nValueElement.propTypes = {\n  bucket: PropTypes.object.isRequired,\n  isSelected: PropTypes.bool.isRequired,\n  onFilterClicked: PropTypes.func.isRequired,\n  getChildAggCmps: PropTypes.func.isRequired,\n  keyField: PropTypes.string.isRequired,\n  overridableId: PropTypes.string,\n};\n\nValueElement.defaultProps = {\n  overridableId: \"\",\n};\n\nexport default Overridable.component(\n  \"BucketAggregationValues\",\n  BucketAggregationValues\n);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport _get from \"lodash/get\";\nimport PropTypes from \"prop-types\";\nimport React, { Component, useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Card } from \"semantic-ui-react\";\nimport { AppContext } from \"../ReactSearchKit\";\nimport BucketAggregationValues from \"./BucketAggregationValues\";\n\nclass BucketAggregation extends Component {\n  constructor(props) {\n    super(props);\n    this.title = props.title;\n    this.agg = props.agg;\n    this.updateQueryFilters = props.updateQueryFilters;\n  }\n\n  onFilterClicked = (filter) => {\n    this.updateQueryFilters(filter);\n  };\n\n  _renderValues = (resultBuckets, selectedFilters) => {\n    const { overridableId } = this.props;\n    return (\n      <BucketAggregationValues\n        buckets={resultBuckets}\n        selectedFilters={selectedFilters}\n        field={this.agg.field}\n        aggName={this.agg.aggName}\n        childAgg={this.agg.childAgg}\n        onFilterClicked={this.onFilterClicked}\n        overridableId={overridableId}\n      />\n    );\n  };\n\n  _getSelectedFilters = (userSelectionFilters) => {\n    // get selected filters for this field only\n    return userSelectionFilters.filter((filter) => filter[0] === this.agg.aggName);\n  };\n\n  _getResultBuckets = (resultsAggregations) => {\n    // get buckets of this field\n    const thisAggs = _get(resultsAggregations, this.agg.aggName, {});\n    if (\"buckets\" in thisAggs) {\n      if (!Array.isArray(thisAggs[\"buckets\"])) {\n        // buckets can be objects or arrays: convert to array if object\n        // to keep it consistent\n        thisAggs[\"buckets\"] = Object.entries(thisAggs[\"buckets\"]).map(\n          ([key, value]) => ({ ...value, key })\n        );\n      }\n      return thisAggs[\"buckets\"];\n    }\n    return [];\n  };\n\n  render() {\n    const { userSelectionFilters, resultsAggregations, overridableId, ...props } =\n      this.props;\n    const selectedFilters = this._getSelectedFilters(userSelectionFilters);\n    const resultBuckets = this._getResultBuckets(resultsAggregations);\n    const valuesCmp = resultBuckets.length\n      ? this._renderValues(resultBuckets, selectedFilters)\n      : null;\n    return (\n      <Element\n        title={this.title}\n        containerCmp={valuesCmp}\n        overridableId={overridableId}\n        {...props}\n      />\n    );\n  }\n}\n\nBucketAggregation.propTypes = {\n  title: PropTypes.string.isRequired,\n  agg: PropTypes.shape({\n    field: PropTypes.string.isRequired,\n    aggName: PropTypes.string.isRequired,\n    childAgg: PropTypes.object,\n  }).isRequired,\n  overridableId: PropTypes.string,\n  /* REDUX */\n  userSelectionFilters: PropTypes.array.isRequired,\n  resultsAggregations: PropTypes.object.isRequired,\n  updateQueryFilters: PropTypes.func.isRequired,\n};\n\nBucketAggregation.defaultProps = {\n  overridableId: \"\",\n};\n\nconst Element = ({ overridableId, agg, title, containerCmp, updateQueryFilters }) => {\n  const { buildUID } = useContext(AppContext);\n\n  return (\n    containerCmp && (\n      <Overridable\n        id={buildUID(\"BucketAggregation.element\", overridableId)}\n        agg={agg}\n        title={title}\n        containerCmp={containerCmp}\n        updateQueryFilters={updateQueryFilters}\n      >\n        <Card>\n          <Card.Content>\n            <Card.Header>{title}</Card.Header>\n          </Card.Content>\n          <Card.Content>{containerCmp}</Card.Content>\n        </Card>\n      </Overridable>\n    )\n  );\n};\n\nElement.propTypes = {\n  agg: PropTypes.object.isRequired,\n  title: PropTypes.string.isRequired,\n  containerCmp: PropTypes.node,\n  overridableId: PropTypes.string,\n  updateQueryFilters: PropTypes.func.isRequired,\n};\n\nElement.defaultProps = {\n  containerCmp: null,\n  overridableId: \"\",\n};\n\nexport default Overridable.component(\"BucketAggregation\", BucketAggregation);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport { updateQueryFilters } from \"../../state/actions\";\nimport BucketAggregationComponent from \"./BucketAggregation\";\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateQueryFilters: (filter) => dispatch(updateQueryFilters(filter)),\n});\n\nexport const BucketAggregation = connect(\n  (state) => ({\n    userSelectionFilters: state.query.filters,\n    resultsAggregations: state.results.data.aggregations,\n  }),\n  mapDispatchToProps\n)(BucketAggregationComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport { Component } from \"react\";\nimport Overridable from \"react-overridable\";\n\nclass ShouldRender extends Component {\n  render() {\n    const { children, condition } = this.props;\n    return condition ? children : null;\n  }\n}\n\nShouldRender.propTypes = {\n  condition: PropTypes.bool,\n  children: PropTypes.node.isRequired,\n};\n\nShouldRender.defaultProps = {\n  condition: true,\n};\n\nexport default Overridable.component(\"ShouldRender\", ShouldRender);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport React, { Component, useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Label } from \"semantic-ui-react\";\nimport { AppContext } from \"../ReactSearchKit\";\nimport { ShouldRender } from \"../ShouldRender\";\n\nclass Count extends Component {\n  render() {\n    const { loading, totalResults, label, overridableId } = this.props;\n    return (\n      <ShouldRender condition={!loading && totalResults > 0}>\n        {label(<Element totalResults={totalResults} overridableId={overridableId} />)}\n      </ShouldRender>\n    );\n  }\n}\n\nCount.propTypes = {\n  label: PropTypes.func,\n  overridableId: PropTypes.string,\n  /* REDUX */\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n};\n\nCount.defaultProps = {\n  label: (cmp) => cmp,\n  overridableId: \"\",\n};\n\nconst Element = ({ totalResults, overridableId }) => {\n  const { buildUID } = useContext(AppContext);\n  const _overridableId = buildUID(\"Count.element\", overridableId);\n\n  return (\n    <Overridable id={_overridableId} totalResults={totalResults}>\n      <Label color=\"blue\">{totalResults.toLocaleString(\"en-US\")}</Label>\n    </Overridable>\n  );\n};\n\nElement.propTypes = {\n  totalResults: PropTypes.number.isRequired,\n  overridableId: PropTypes.string,\n};\n\nElement.defaultProps = {\n  overridableId: \"\",\n};\n\nexport default Overridable.component(\"Count\", Count);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport CountComponent from \"./Count\";\n\nexport const Count = connect((state) => ({\n  loading: state.results.loading,\n  totalResults: state.results.data.total,\n}))(CountComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport _isEmpty from \"lodash/isEmpty\";\nimport PropTypes from \"prop-types\";\nimport React, { Component, useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Button, Header, Icon, Segment } from \"semantic-ui-react\";\nimport { AppContext } from \"../ReactSearchKit\";\nimport { ShouldRender } from \"../ShouldRender\";\n\nclass EmptyResults extends Component {\n  constructor(props) {\n    super(props);\n    this.resetQuery = props.resetQuery;\n  }\n\n  render() {\n    const {\n      loading,\n      totalResults,\n      error,\n      queryString,\n      extraContent,\n      overridableId,\n      userSelectionFilters,\n      ...props\n    } = this.props;\n    return (\n      <ShouldRender condition={!loading && _isEmpty(error) && totalResults === 0}>\n        <Element\n          {...props}\n          queryString={queryString}\n          resetQuery={this.resetQuery}\n          extraContent={extraContent}\n          userSelectionFilters={userSelectionFilters}\n          overridableId={overridableId}\n        />\n      </ShouldRender>\n    );\n  }\n}\n\nEmptyResults.propTypes = {\n  extraContent: PropTypes.node,\n  overridableId: PropTypes.string,\n  /* REDUX */\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  error: PropTypes.object.isRequired,\n  queryString: PropTypes.string,\n  resetQuery: PropTypes.func.isRequired,\n  userSelectionFilters: PropTypes.array.isRequired,\n};\n\nEmptyResults.defaultProps = {\n  queryString: \"\",\n  extraContent: null,\n  overridableId: \"\",\n};\n\nconst Element = ({\n  overridableId,\n  queryString,\n  resetQuery,\n  extraContent,\n  userSelectionFilters,\n}) => {\n  const { buildUID } = useContext(AppContext);\n\n  return (\n    <Overridable\n      id={buildUID(\"EmptyResults.element\", overridableId)}\n      queryString={queryString}\n      resetQuery={resetQuery}\n      extraContent={extraContent}\n      userSelectionFilters={userSelectionFilters}\n    >\n      <Segment placeholder textAlign=\"center\">\n        <Header icon>\n          <Icon name=\"search\" />\n          No results found!\n        </Header>\n        {queryString && <em>Current search \"{queryString}\"</em>}\n        <br />\n        <Button primary onClick={() => resetQuery()}>\n          Clear query\n        </Button>\n        {extraContent}\n      </Segment>\n    </Overridable>\n  );\n};\n\nElement.propTypes = {\n  queryString: PropTypes.string,\n  resetQuery: PropTypes.func.isRequired,\n  extraContent: PropTypes.node,\n  overridableId: PropTypes.string,\n  userSelectionFilters: PropTypes.array.isRequired,\n};\n\nElement.defaultProps = {\n  queryString: \"\",\n  extraContent: null,\n  overridableId: \"\",\n};\n\nexport default Overridable.component(\"EmptyResults\", EmptyResults);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport { resetQuery } from \"../../state/actions\";\nimport EmptyResultsComponent from \"./EmptyResults\";\n\nconst mapDispatchToProps = (dispatch) => ({\n  resetQuery: () => dispatch(resetQuery()),\n});\nexport const EmptyResults = connect(\n  (state) => ({\n    loading: state.results.loading,\n    totalResults: state.results.data.total,\n    error: state.results.error,\n    queryString: state.query.queryString,\n    userSelectionFilters: state.query.filters,\n  }),\n  mapDispatchToProps\n)(EmptyResultsComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport _isEmpty from \"lodash/isEmpty\";\nimport PropTypes from \"prop-types\";\nimport React, { useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { AppContext } from \"../ReactSearchKit\";\nimport { ShouldRender } from \"../ShouldRender\";\n\nfunction Error({ loading, error, overridableId }) {\n  return (\n    <ShouldRender condition={!loading && !_isEmpty(error)}>\n      <Element error={error} overridableId={overridableId} />\n    </ShouldRender>\n  );\n}\n\nError.propTypes = {\n  overridableId: PropTypes.string,\n  /* REDUX */\n  loading: PropTypes.bool.isRequired,\n  error: PropTypes.object.isRequired,\n};\n\nError.defaultProps = {\n  overridableId: \"\",\n};\n\nconst Element = ({ error, overridableId }) => {\n  const { buildUID } = useContext(AppContext);\n\n  return (\n    <Overridable id={buildUID(\"Error.element\", overridableId)} error={error}>\n      <div>Oops! Something went wrong while fetching results.</div>\n    </Overridable>\n  );\n};\n\nElement.propTypes = {\n  overridableId: PropTypes.string,\n  /* REDUX */\n  error: PropTypes.object.isRequired,\n};\n\nElement.defaultProps = {\n  overridableId: \"\",\n};\n\nexport default Overridable.component(\"Error\", Error);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport ErrorComponent from \"./Error\";\n\nexport const Error = connect((state) => ({\n  loading: state.results.loading,\n  error: state.results.error,\n}))(ErrorComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { updateQueryState } from \"../../state/actions\";\n\nexport function withState(Component) {\n  const WrappedComponent = (props) => <Component {...props} />;\n  const mapStateToProps = (state) => ({\n    currentQueryState: state.query,\n    currentResultsState: state.results,\n  });\n\n  const mapDispatchToProps = (dispatch) => ({\n    updateQueryState: (queryState) => dispatch(updateQueryState(queryState)),\n  });\n\n  return connect(mapStateToProps, mapDispatchToProps)(WrappedComponent);\n}\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport React, { Component, useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Icon, Menu } from \"semantic-ui-react\";\nimport { AppContext } from \"../ReactSearchKit\";\nimport { ShouldRender } from \"../ShouldRender\";\n\nclass LayoutSwitcher extends Component {\n  constructor(props) {\n    super(props);\n    this.updateLayout = props.updateLayout;\n  }\n\n  onLayoutChange = (layoutName) => {\n    this.updateLayout(layoutName);\n  };\n\n  render() {\n    const { currentLayout, loading, totalResults, overridableId } = this.props;\n    return (\n      <ShouldRender condition={currentLayout !== null && !loading && totalResults > 0}>\n        <Element\n          currentLayout={currentLayout}\n          onLayoutChange={this.onLayoutChange}\n          overridableId={overridableId}\n        />\n      </ShouldRender>\n    );\n  }\n}\n\nLayoutSwitcher.propTypes = {\n  overridableId: PropTypes.string,\n  /* REDUX */\n  updateLayout: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  currentLayout: PropTypes.string,\n  totalResults: PropTypes.number.isRequired,\n};\n\nLayoutSwitcher.defaultProps = {\n  currentLayout: null,\n  overridableId: \"\",\n};\n\nconst Element = ({ overridableId, currentLayout, onLayoutChange }) => {\n  const { buildUID } = useContext(AppContext);\n  return (\n    <Overridable\n      id={buildUID(\"LayoutSwitcher.element\", overridableId)}\n      currentLayout={currentLayout}\n      onLayoutChange={onLayoutChange}\n    >\n      <Menu compact icon>\n        <Menu.Item\n          name=\"list\"\n          active={currentLayout === \"list\"}\n          onClick={(_, { name }) => onLayoutChange(name)}\n        >\n          <Icon name=\"list layout\" />\n        </Menu.Item>\n        <Menu.Item\n          name=\"grid\"\n          active={currentLayout === \"grid\"}\n          onClick={(_, { name }) => onLayoutChange(name)}\n        >\n          <Icon name=\"grid layout\" />\n        </Menu.Item>\n      </Menu>\n    </Overridable>\n  );\n};\n\nElement.propTypes = {\n  currentLayout: PropTypes.string,\n  onLayoutChange: PropTypes.func.isRequired,\n  overridableId: PropTypes.string,\n};\n\nElement.defaultProps = {\n  currentLayout: null,\n  overridableId: \"\",\n};\n\nexport default Overridable.component(\"LayoutSwitcher\", LayoutSwitcher);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport { updateResultsLayout } from \"../../state/actions\";\nimport LayoutSwitcherComponent from \"./LayoutSwitcher\";\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateLayout: (layout) => dispatch(updateResultsLayout(layout)),\n});\nexport const LayoutSwitcher = connect(\n  (state) => ({\n    loading: state.results.loading,\n    currentLayout: state.query.layout,\n    totalResults: state.results.data.total,\n  }),\n  mapDispatchToProps\n)(LayoutSwitcherComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport React, { Component, useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Pagination as Paginator } from \"semantic-ui-react\";\nimport { AppContext } from \"../ReactSearchKit\";\nimport { ShouldRender } from \"../ShouldRender\";\n\nconst defaultOptions = {\n  boundaryRangeCount: 1,\n  siblingRangeCount: 1,\n  showEllipsis: true,\n  showFirst: true,\n  showLast: true,\n  showPrev: true,\n  showNext: true,\n  size: \"large\",\n};\n\nclass Pagination extends Component {\n  constructor(props) {\n    super(props);\n    this.updateQueryPage = props.updateQueryPage;\n    this.options = props.options\n      ? { ...defaultOptions, ...props.options }\n      : defaultOptions;\n  }\n\n  onPageChange = (activePage) => {\n    const { currentPage } = this.props;\n    if (activePage === currentPage) return;\n    this.updateQueryPage(activePage);\n  };\n\n  render() {\n    const { loading, totalResults, currentPage, currentSize, overridableId } =\n      this.props;\n    return (\n      <ShouldRender\n        condition={!loading && currentPage > -1 && currentSize > -1 && totalResults > 0}\n      >\n        <Element\n          currentPage={currentPage}\n          currentSize={currentSize}\n          totalResults={totalResults}\n          onPageChange={this.onPageChange}\n          options={this.options}\n          overridableId={overridableId}\n        />\n      </ShouldRender>\n    );\n  }\n}\n\nPagination.propTypes = {\n  options: PropTypes.shape({\n    boundaryRangeCount: PropTypes.number,\n    siblingRangeCount: PropTypes.number,\n    showEllipsis: PropTypes.bool,\n    showFirst: PropTypes.bool,\n    showLast: PropTypes.bool,\n    showPrev: PropTypes.bool,\n    showNext: PropTypes.bool,\n    size: PropTypes.oneOf([\"mini\", \"tiny\", \"small\", \"large\", \"huge\", \"massive\"]),\n  }),\n  overridableId: PropTypes.string,\n  /* REDUX */\n  currentPage: PropTypes.number.isRequired,\n  currentSize: PropTypes.number.isRequired,\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  updateQueryPage: PropTypes.func.isRequired,\n};\n\nPagination.defaultProps = {\n  options: {},\n  overridableId: \"\",\n};\n\nconst Element = ({\n  overridableId,\n  currentPage,\n  currentSize,\n  totalResults,\n  onPageChange,\n  options,\n  maxTotalResults,\n  ...props\n}) => {\n  const boundaryRangeCount = options.boundaryRangeCount;\n  const siblingRangeCount = options.siblingRangeCount;\n  const showEllipsis = options.showEllipsis;\n  const showFirst = options.showFirst;\n  const showLast = options.showLast;\n  const showPrev = options.showPrev;\n  const showNext = options.showNext;\n  const size = options.size;\n\n  const maxTotalPages = Math.floor(maxTotalResults / currentSize);\n  const pages = Math.ceil(totalResults / currentSize);\n  const totalDisplayedPages = Math.min(pages, maxTotalPages);\n\n  const { buildUID } = useContext(AppContext);\n  if (currentPage > pages) onPageChange(pages);\n\n  return (\n    <Overridable\n      id={buildUID(\"Pagination.element\", overridableId)}\n      currentPage={currentPage}\n      currentSize={currentSize}\n      totalResults={totalResults}\n      options={options}\n      onPageChange={onPageChange}\n    >\n      <Paginator\n        activePage={currentPage}\n        totalPages={totalDisplayedPages}\n        onPageChange={(_, { activePage }) => onPageChange(activePage)}\n        boundaryRange={boundaryRangeCount}\n        siblingRange={siblingRangeCount}\n        ellipsisItem={showEllipsis ? undefined : null}\n        firstItem={showFirst ? undefined : null}\n        lastItem={showLast ? undefined : null}\n        prevItem={showPrev ? undefined : null}\n        nextItem={showNext ? undefined : null}\n        size={size}\n        {...props}\n      />\n    </Overridable>\n  );\n};\n\nElement.propTypes = {\n  currentPage: PropTypes.number.isRequired,\n  currentSize: PropTypes.number.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  onPageChange: PropTypes.func.isRequired,\n  options: PropTypes.object,\n  overridableId: PropTypes.string,\n  maxTotalResults: PropTypes.number,\n};\n\nElement.defaultProps = {\n  options: {},\n  overridableId: \"\",\n  maxTotalResults: 10000,\n};\n\nexport default Overridable.component(\"Pagination\", Pagination);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport { updateQueryPaginationPage } from \"../../state/actions\";\nimport PaginationComponent from \"./Pagination\";\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateQueryPage: (page) => dispatch(updateQueryPaginationPage(page)),\n});\n\nexport const Pagination = connect(\n  (state) => ({\n    currentPage: state.query.page,\n    currentSize: state.query.size,\n    loading: state.results.loading,\n    totalResults: state.results.data.total,\n  }),\n  mapDispatchToProps\n)(PaginationComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport React, { useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Card, Image } from \"semantic-ui-react\";\nimport { AppContext } from \"../ReactSearchKit\";\nimport { ShouldRender } from \"../ShouldRender\";\n\nfunction ResultsGrid({ loading, totalResults, results, resultsPerRow, overridableId }) {\n  return (\n    <ShouldRender condition={!loading && totalResults > 0}>\n      <Element\n        results={results}\n        resultsPerRow={resultsPerRow}\n        overridableId={overridableId}\n      />\n    </ShouldRender>\n  );\n}\n\nResultsGrid.propTypes = {\n  resultsPerRow: PropTypes.number,\n  overridableId: PropTypes.string,\n  /* REDUX */\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  results: PropTypes.array.isRequired,\n};\n\nResultsGrid.defaultProps = {\n  resultsPerRow: 3,\n  overridableId: \"\",\n};\n\nconst GridItem = ({ result, overridableId }) => {\n  const { buildUID } = useContext(AppContext);\n\n  return (\n    <Overridable id={buildUID(\"ResultsGrid.item\", overridableId)} result={result}>\n      <Card fluid href={`#${result.id}`}>\n        <Image src={result.imgSrc || \"http://placehold.it/200\"} />\n        <Card.Content>\n          <Card.Header>{result.title}</Card.Header>\n          <Card.Description>{result.description}</Card.Description>\n        </Card.Content>\n      </Card>\n    </Overridable>\n  );\n};\n\nGridItem.propTypes = {\n  result: PropTypes.object.isRequired,\n  overridableId: PropTypes.string.isRequired,\n};\n\nconst Element = ({ overridableId, results, resultsPerRow }) => {\n  const { buildUID } = useContext(AppContext);\n\n  const _results = results.map((result, index) => (\n    // eslint-disable-next-line react/no-array-index-key\n    <GridItem key={index} result={result} overridableId={overridableId} />\n  ));\n\n  return (\n    <Overridable\n      id={buildUID(\"ResultsGrid.container\", overridableId)}\n      results={results}\n      resultsPerRow={resultsPerRow}\n    >\n      <Card.Group itemsPerRow={resultsPerRow}>{_results}</Card.Group>\n    </Overridable>\n  );\n};\n\nElement.propTypes = {\n  results: PropTypes.array.isRequired,\n  resultsPerRow: PropTypes.number,\n  overridableId: PropTypes.string,\n};\n\nElement.defaultProps = {\n  resultsPerRow: 3,\n  overridableId: \"\",\n};\n\nexport default Overridable.component(\"ResultsGrid\", ResultsGrid);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport ResultsGridComponent from \"./ResultsGrid\";\n\nexport const ResultsGrid = connect((state) => ({\n  loading: state.results.loading,\n  totalResults: state.results.data.total,\n  results: state.results.data.hits,\n}))(ResultsGridComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport React, { useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Item } from \"semantic-ui-react\";\nimport { AppContext } from \"../ReactSearchKit\";\nimport { ShouldRender } from \"../ShouldRender\";\n\nfunction ResultsList({ loading, totalResults, results, overridableId }) {\n  return (\n    <ShouldRender condition={!loading && totalResults > 0}>\n      <Element results={results} overridableId={overridableId} />\n    </ShouldRender>\n  );\n}\n\nResultsList.propTypes = {\n  overridableId: PropTypes.string,\n  /* REDUX */\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  results: PropTypes.array.isRequired,\n};\n\nResultsList.defaultProps = {\n  overridableId: \"\",\n};\n\nconst ListItem = ({ result, overridableId }) => {\n  const { buildUID } = useContext(AppContext);\n\n  return (\n    <Overridable id={buildUID(\"ResultsList.item\", overridableId)} result={result}>\n      <Item href={`#${result.id}`}>\n        <Item.Image size=\"small\" src={result.imgSrc || \"http://placehold.it/200\"} />\n        <Item.Content>\n          <Item.Header>{result.title}</Item.Header>\n          <Item.Description>{result.description}</Item.Description>\n        </Item.Content>\n      </Item>\n    </Overridable>\n  );\n};\n\nListItem.propTypes = {\n  result: PropTypes.object.isRequired,\n  overridableId: PropTypes.string.isRequired,\n};\n\nconst Element = ({ results, overridableId }) => {\n  const { buildUID } = useContext(AppContext);\n\n  const _results = results.map((result, index) => (\n    // eslint-disable-next-line react/no-array-index-key\n    <ListItem result={result} key={index} overridableId={overridableId} />\n  ));\n\n  return (\n    <Overridable\n      id={buildUID(\"ResultsList.container\", overridableId)}\n      results={_results}\n    >\n      <Item.Group divided relaxed link>\n        {_results}\n      </Item.Group>\n    </Overridable>\n  );\n};\n\nElement.propTypes = {\n  results: PropTypes.array.isRequired,\n  overridableId: PropTypes.string,\n};\n\nElement.defaultProps = {\n  overridableId: \"\",\n};\n\nexport default Overridable.component(\"ResultsList\", ResultsList);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport ResultsListComponent from \"./ResultsList\";\n\nexport const ResultsList = connect((state) => ({\n  loading: state.results.loading,\n  totalResults: state.results.data.total,\n  results: state.results.data.hits,\n}))(ResultsListComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport React, { useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Loader } from \"semantic-ui-react\";\nimport { AppContext } from \"../ReactSearchKit\";\n\nfunction ResultsLoader({ children, loading, overridableId }) {\n  return loading ? <Element overridableId={overridableId} /> : children;\n}\n\nResultsLoader.propTypes = {\n  children: PropTypes.node.isRequired,\n  overridableId: PropTypes.string,\n  /* REDUX */\n  loading: PropTypes.bool.isRequired,\n};\n\nResultsLoader.defaultProps = {\n  overridableId: \"\",\n};\n\nconst Element = ({ overridableId }) => {\n  const { buildUID } = useContext(AppContext);\n\n  return (\n    <Overridable id={buildUID(\"ResultsLoader.element\", overridableId)}>\n      <Loader active size=\"huge\" inline=\"centered\" />\n    </Overridable>\n  );\n};\n\nElement.propTypes = {\n  overridableId: PropTypes.string,\n};\n\nElement.defaultProps = {\n  overridableId: \"\",\n};\n\nexport default Overridable.component(\"ResultsLoader\", ResultsLoader);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport ResultsLoaderComponent from \"./ResultsLoader\";\n\nexport const ResultsLoader = connect((state) => ({\n  loading: state.results.loading,\n}))(ResultsLoaderComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport React, { useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { AppContext } from \"../ReactSearchKit\";\nimport { ResultsGrid } from \"../ResultsGrid\";\nimport { ResultsList } from \"../ResultsList\";\nimport { ShouldRender } from \"../ShouldRender\";\n\nfunction ResultsMultiLayout({ loading, totalResults, currentLayout, overridableId }) {\n  return (\n    <ShouldRender condition={currentLayout != null && !loading && totalResults > 0}>\n      <Element layout={currentLayout} overridableId={overridableId} />\n    </ShouldRender>\n  );\n}\n\nResultsMultiLayout.propTypes = {\n  currentLayout: PropTypes.string,\n  overridableId: PropTypes.string,\n  /* REDUX */\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n};\n\nResultsMultiLayout.defaultProps = {\n  currentLayout: null,\n  overridableId: \"\",\n};\n\nconst Element = ({ layout, overridableId }) => {\n  const { buildUID } = useContext(AppContext);\n\n  return (\n    <Overridable\n      id={buildUID(\"ResultsMultiLayout.element\", overridableId)}\n      layout={layout}\n    >\n      {layout === \"list\" ? (\n        <ResultsList overridableId={overridableId} />\n      ) : (\n        <ResultsGrid overridableId={overridableId} />\n      )}\n    </Overridable>\n  );\n};\n\nElement.propTypes = {\n  layout: PropTypes.string,\n  overridableId: PropTypes.string,\n};\n\nElement.defaultProps = {\n  layout: \"\",\n  overridableId: \"\",\n};\n\nexport default Overridable.component(\"ResultsMultiLayout\", ResultsMultiLayout);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport ResultsMultiLayoutComponent from \"./ResultsMultiLayout\";\n\nexport const ResultsMultiLayout = connect((state) => ({\n  loading: state.results.loading,\n  totalResults: state.results.data.total,\n  currentLayout: state.query.layout,\n}))(ResultsMultiLayoutComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n * Copyright (C) 2022 NYU.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport React, { Component, useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Dropdown } from \"semantic-ui-react\";\nimport { AppContext } from \"../ReactSearchKit\";\nimport { ShouldRender } from \"../ShouldRender\";\n\nclass ResultsPerPage extends Component {\n  constructor(props) {\n    super(props);\n    this.options = props.values;\n    this.updateQuerySize = props.updateQuerySize;\n  }\n\n  onChange = (value) => {\n    const { currentSize } = this.props;\n    if (value === currentSize) return;\n    this.updateQuerySize(value);\n  };\n\n  render() {\n    const {\n      loading,\n      currentSize,\n      totalResults,\n      label,\n      overridableId,\n      ariaLabel,\n      selectOnNavigation,\n    } = this.props;\n    return (\n      <ShouldRender condition={!loading && totalResults > 0 && currentSize !== -1}>\n        {label(\n          <Element\n            currentSize={currentSize}\n            options={this.options}\n            onValueChange={this.onChange}\n            overridableId={overridableId}\n            ariaLabel={ariaLabel}\n            selectOnNavigation={selectOnNavigation}\n          />\n        )}\n      </ShouldRender>\n    );\n  }\n}\n\nResultsPerPage.propTypes = {\n  values: PropTypes.array.isRequired,\n  label: PropTypes.func,\n  overridableId: PropTypes.string,\n  ariaLabel: PropTypes.string,\n  selectOnNavigation: PropTypes.bool,\n  /* REDUX */\n  currentSize: PropTypes.number.isRequired,\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  updateQuerySize: PropTypes.func.isRequired,\n};\n\nResultsPerPage.defaultProps = {\n  label: (cmp) => cmp,\n  overridableId: \"\",\n  ariaLabel: \"Results per page\",\n  selectOnNavigation: false,\n};\n\nconst Element = ({\n  overridableId,\n  currentSize,\n  options,\n  onValueChange,\n  ariaLabel,\n  selectOnNavigation,\n}) => {\n  const { buildUID } = useContext(AppContext);\n  const _options = options.map((element, index) => {\n    return { key: index, text: element.text, value: element.value };\n  });\n\n  return (\n    <Overridable\n      id={buildUID(\"ResultsPerPage.element\", overridableId)}\n      currentSize={currentSize}\n      options={options}\n      onValueChange={onValueChange}\n      ariaLabel={ariaLabel}\n      selectOnNavigation={selectOnNavigation}\n    >\n      <Dropdown\n        inline\n        compact\n        options={_options}\n        value={currentSize}\n        onChange={(e, { value }) => onValueChange(value)}\n        aria-label={ariaLabel}\n        selectOnNavigation={selectOnNavigation}\n      />\n    </Overridable>\n  );\n};\n\nElement.propTypes = {\n  currentSize: PropTypes.number.isRequired,\n  options: PropTypes.array.isRequired,\n  ariaLabel: PropTypes.string,\n  selectOnNavigation: PropTypes.bool,\n  onValueChange: PropTypes.func.isRequired,\n  overridableId: PropTypes.string,\n};\n\nElement.defaultProps = {\n  ariaLabel: \"Results per page\",\n  selectOnNavigation: false,\n  overridableId: \"\",\n};\n\nexport default Overridable.component(\"ResultsPerPage\", ResultsPerPage);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport { updateQueryPaginationSize } from \"../../state/actions\";\nimport ResultsPerPageComponent from \"./ResultsPerPage\";\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateQuerySize: (size) => dispatch(updateQueryPaginationSize(size)),\n});\n\nexport const ResultsPerPage = connect(\n  (state) => ({\n    loading: state.results.loading,\n    currentSize: state.query.size,\n    totalResults: state.results.data.total,\n  }),\n  mapDispatchToProps\n)(ResultsPerPageComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Input } from \"semantic-ui-react\";\nimport { AppContext } from \"../ReactSearchKit\";\n\nclass SearchBar extends Component {\n  constructor(props) {\n    super(props);\n    this.updateQueryString = props.updateQueryString;\n    this.state = {\n      currentValue: props.queryString || \"\",\n    };\n  }\n\n  onInputChange = (queryString) => {\n    this.setState({\n      currentValue: queryString,\n    });\n  };\n\n  executeSearch = () => {\n    const { currentValue } = this.state;\n    this.updateQueryString(currentValue);\n  };\n\n  onBtnSearchClick = () => {\n    this.executeSearch();\n  };\n\n  onKeyPress = (event) => {\n    if (event.key === \"Enter\") {\n      this.executeSearch();\n    }\n  };\n\n  render() {\n    const {\n      actionProps,\n      autofocus,\n      executeSearch,\n      onBtnSearchClick,\n      onInputChange,\n      onKeyPress,\n      overridableId,\n      placeholder,\n      uiProps,\n    } = this.props;\n    const { currentValue } = this.state;\n    return (\n      <Element\n        actionProps={actionProps}\n        autofocus={autofocus}\n        executeSearch={executeSearch || this.executeSearch}\n        onBtnSearchClick={onBtnSearchClick || this.onBtnSearchClick}\n        onInputChange={onInputChange || this.onInputChange}\n        onKeyPress={onKeyPress || this.onKeyPress}\n        overridableId={overridableId}\n        placeholder={placeholder}\n        queryString={currentValue}\n        uiProps={uiProps}\n      />\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  actionProps: PropTypes.object,\n  autofocus: PropTypes.bool,\n  executeSearch: PropTypes.func,\n  onBtnSearchClick: PropTypes.func,\n  onInputChange: PropTypes.func,\n  onKeyPress: PropTypes.func,\n  overridableId: PropTypes.string,\n  placeholder: PropTypes.string,\n  uiProps: PropTypes.object,\n  /* REDUX */\n  queryString: PropTypes.string,\n  updateQueryString: PropTypes.func.isRequired,\n};\n\nSearchBar.defaultProps = {\n  actionProps: null,\n  autofocus: false,\n  executeSearch: null,\n  onBtnSearchClick: null,\n  onInputChange: null,\n  onKeyPress: null,\n  overridableId: \"\",\n  placeholder: \"\",\n  queryString: \"\",\n  uiProps: null,\n};\n\n// NOTE: Adding the key prop, will recreate the SearchBar in order to update\n// state with the latest redux queryString value.\n// https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html#recommendation-fully-uncontrolled-component-with-a-key\nconst SearchBarUncontrolled = (props) => {\n  const { queryString } = props;\n  return <SearchBar key={queryString} {...props} />;\n};\n\nSearchBarUncontrolled.propTypes = {\n  queryString: PropTypes.string,\n};\n\nSearchBarUncontrolled.defaultProps = {\n  queryString: \"\",\n};\n\nclass Element extends Component {\n  componentDidMount() {\n    const { autofocus } = this.props;\n    if (autofocus && this.focusInput) {\n      this.focusInput.focus();\n    }\n  }\n\n  render() {\n    const {\n      actionProps,\n      onBtnSearchClick,\n      onInputChange,\n      onKeyPress,\n      overridableId,\n      placeholder,\n      queryString,\n      uiProps,\n    } = this.props;\n    const { buildUID } = this.context;\n\n    return (\n      <Overridable\n        id={buildUID(\"SearchBar.element\", overridableId)}\n        queryString={queryString}\n        onBtnSearchClick={onBtnSearchClick}\n        onInputChange={onInputChange}\n        onKeyPress={onKeyPress}\n        placeholder={placeholder}\n        actionProps={actionProps}\n        uiProps={uiProps}\n      >\n        <Input\n          action={{\n            content: \"Search\",\n            onClick: onBtnSearchClick,\n            ...actionProps,\n          }}\n          fluid\n          {...uiProps}\n          placeholder={placeholder || \"Type something\"}\n          onChange={(_, { value }) => {\n            onInputChange(value);\n          }}\n          value={queryString}\n          onKeyPress={onKeyPress}\n          ref={(input) => {\n            this.focusInput = input;\n          }}\n        />\n      </Overridable>\n    );\n  }\n}\n\nElement.propTypes = {\n  actionProps: PropTypes.object,\n  autofocus: PropTypes.bool,\n  onBtnSearchClick: PropTypes.func,\n  onInputChange: PropTypes.func,\n  onKeyPress: PropTypes.func,\n  overridableId: PropTypes.string,\n  placeholder: PropTypes.string,\n  queryString: PropTypes.string,\n  uiProps: PropTypes.object,\n};\n\nElement.defaultProps = {\n  actionProps: null,\n  autofocus: false,\n  onBtnSearchClick: null,\n  onInputChange: null,\n  onKeyPress: null,\n  overridableId: \"\",\n  placeholder: \"\",\n  queryString: \"\",\n  uiProps: null,\n};\n\nElement.contextType = AppContext;\n\nexport default Overridable.component(\"SearchBar\", SearchBarUncontrolled);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport { updateQueryString } from \"../../state/actions\";\nimport SearchBarComponent from \"./SearchBar\";\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateQueryString: (query) => dispatch(updateQueryString(query)),\n});\n\nexport const SearchBar = connect(\n  (state) => ({\n    queryString: state.query.queryString,\n  }),\n  mapDispatchToProps\n)(SearchBarComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n * Copyright (C) 2022 NYU.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport React, { Component, useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Dropdown } from \"semantic-ui-react\";\nimport { AppContext } from \"../ReactSearchKit\";\nimport { ShouldRender } from \"../ShouldRender\";\n\nclass Sort extends Component {\n  constructor(props) {\n    super(props);\n    this.options = props.values;\n    this.updateQuerySorting = props.updateQuerySorting;\n\n    this.options.forEach(\n      (option) =>\n        (option[\"value\"] = this._computeValue(option.sortBy, option.sortOrder))\n    );\n  }\n\n  _computeValue = (sortBy, sortOrder) => {\n    return sortOrder ? `${sortBy}-${sortOrder}` : sortBy;\n  };\n\n  onChange = (value) => {\n    const { currentSortBy, currentSortOrder } = this.props;\n    if (value === this._computeValue(currentSortBy, currentSortOrder)) return;\n    const selected = this.options.find((option) => option.value === value);\n    this.updateQuerySorting(selected.sortBy, selected.sortOrder);\n  };\n\n  render() {\n    const {\n      currentSortBy,\n      currentSortOrder,\n      loading,\n      totalResults,\n      label,\n      overridableId,\n      sortOrderDisabled,\n      ariaLabel,\n      selectOnNavigation,\n    } = this.props;\n    return (\n      <ShouldRender\n        condition={\n          currentSortBy !== null &&\n          (sortOrderDisabled || currentSortBy !== null) &&\n          !loading &&\n          totalResults > 0\n        }\n      >\n        {label(\n          <Element\n            currentSortBy={currentSortBy}\n            currentSortOrder={currentSortOrder}\n            options={this.options}\n            onValueChange={this.onChange}\n            computeValue={this._computeValue}\n            overridableId={overridableId}\n            ariaLabel={ariaLabel}\n            selectOnNavigation={selectOnNavigation}\n          />\n        )}\n      </ShouldRender>\n    );\n  }\n}\n\nSort.propTypes = {\n  values: PropTypes.array.isRequired,\n  label: PropTypes.func,\n  overridableId: PropTypes.string,\n  sortOrderDisabled: PropTypes.bool,\n  ariaLabel: PropTypes.string,\n  selectOnNavigation: PropTypes.bool,\n  /* REDUX */\n  currentSortBy: PropTypes.string,\n  currentSortOrder: PropTypes.string,\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  updateQuerySorting: PropTypes.func.isRequired,\n};\n\nSort.defaultProps = {\n  currentSortBy: null,\n  currentSortOrder: null,\n  label: (cmp) => cmp,\n  overridableId: \"\",\n  sortOrderDisabled: false,\n  ariaLabel: \"Sort\",\n  selectOnNavigation: false,\n};\n\nconst Element = ({\n  overridableId,\n  currentSortBy,\n  currentSortOrder,\n  options,\n  onValueChange,\n  computeValue,\n  ariaLabel,\n  selectOnNavigation,\n}) => {\n  const { buildUID } = useContext(AppContext);\n  const selected = computeValue(currentSortBy, currentSortOrder);\n  const _options = options.map((element, index) => {\n    return {\n      key: index,\n      text: element.text,\n      value: element.value,\n    };\n  });\n  return (\n    <Overridable\n      id={buildUID(\"Sort.element\", overridableId)}\n      options={options}\n      currentSortBy={currentSortBy}\n      currentSortOrder={currentSortOrder}\n      onValueChange={onValueChange}\n      ariaLabel={ariaLabel}\n      selectOnNavigation={selectOnNavigation}\n    >\n      <Dropdown\n        selection\n        options={_options}\n        value={selected}\n        onChange={(e, { value }) => onValueChange(value)}\n        aria-label={ariaLabel}\n        selectOnNavigation={selectOnNavigation}\n      />\n    </Overridable>\n  );\n};\n\nElement.propTypes = {\n  options: PropTypes.array.isRequired,\n  currentSortBy: PropTypes.string,\n  currentSortOrder: PropTypes.string,\n  overridableId: PropTypes.string,\n  ariaLabel: PropTypes.string,\n  selectOnNavigation: PropTypes.bool,\n  computeValue: PropTypes.func.isRequired,\n  onValueChange: PropTypes.func.isRequired,\n};\n\nElement.defaultProps = {\n  currentSortBy: null,\n  currentSortOrder: null,\n  overridableId: \"\",\n  ariaLabel: \"Sort\",\n  selectOnNavigation: false,\n};\n\nexport default Overridable.component(\"Sort\", Sort);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport { updateQuerySorting } from \"../../state/actions\";\nimport SortComponent from \"./Sort\";\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateQuerySorting: (sortBy, sortOrder) =>\n    dispatch(updateQuerySorting(sortBy, sortOrder)),\n});\n\nexport const Sort = connect(\n  (state) => ({\n    currentSortBy: state.query.sortBy,\n    currentSortOrder: state.query.sortOrder,\n    loading: state.results.loading,\n    totalResults: state.results.data.total,\n  }),\n  mapDispatchToProps\n)(SortComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n * Copyright (C) 2022 NYU.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport React, { Component, useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Dropdown } from \"semantic-ui-react\";\nimport { AppContext } from \"../ReactSearchKit\";\nimport { ShouldRender } from \"../ShouldRender\";\n\nclass SortBy extends Component {\n  constructor(props) {\n    super(props);\n    this.options = props.values;\n    this.updateQuerySortBy = props.updateQuerySortBy;\n  }\n\n  onChange = (value) => {\n    const { currentSortBy } = this.props;\n    if (value === currentSortBy) return;\n    this.updateQuerySortBy(value);\n  };\n\n  render() {\n    const {\n      currentSortBy,\n      loading,\n      totalResults,\n      label,\n      overridableId,\n      ariaLabel,\n      selectOnNavigation,\n    } = this.props;\n    return (\n      <ShouldRender condition={currentSortBy !== null && !loading && totalResults > 0}>\n        {label(\n          <Element\n            currentSortBy={currentSortBy}\n            options={this.options}\n            onValueChange={this.onChange}\n            overridableId={overridableId}\n            ariaLabel={ariaLabel}\n            selectOnNavigation={selectOnNavigation}\n          />\n        )}\n      </ShouldRender>\n    );\n  }\n}\n\nSortBy.propTypes = {\n  values: PropTypes.array.isRequired,\n  label: PropTypes.func,\n  overridableId: PropTypes.string,\n  ariaLabel: PropTypes.string,\n  selectOnNavigation: PropTypes.bool,\n  /* REDUX */\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  currentSortBy: PropTypes.string,\n  updateQuerySortBy: PropTypes.func.isRequired,\n};\n\nSortBy.defaultProps = {\n  currentSortBy: null,\n  label: (cmp) => cmp,\n  overridableId: \"\",\n  ariaLabel: \"Sort Results By\",\n  selectOnNavigation: false,\n};\n\nconst Element = ({\n  overridableId,\n  currentSortBy,\n  options,\n  onValueChange,\n  ariaLabel,\n  selectOnNavigation,\n}) => {\n  const { buildUID } = useContext(AppContext);\n\n  const _options = options.map((element, index) => {\n    return { key: index, text: element.text, value: element.value };\n  });\n\n  return (\n    <Overridable\n      id={buildUID(\"SortBy.element\", overridableId)}\n      options={options}\n      currentSortBy={currentSortBy}\n      onValueChange={onValueChange}\n      ariaLabel={ariaLabel}\n      selectOnNavigation={selectOnNavigation}\n    >\n      <Dropdown\n        selection\n        compact\n        options={_options}\n        value={currentSortBy}\n        onChange={(_, { value }) => onValueChange(value)}\n        aria-label={ariaLabel}\n        selectOnNavigation={selectOnNavigation}\n      />\n    </Overridable>\n  );\n};\n\nElement.propTypes = {\n  options: PropTypes.array.isRequired,\n  currentSortBy: PropTypes.string,\n  overridableId: PropTypes.string,\n  ariaLabel: PropTypes.string,\n  selectOnNavigation: PropTypes.bool,\n  onValueChange: PropTypes.func.isRequired,\n};\n\nElement.defaultProps = {\n  currentSortBy: null,\n  overridableId: \"\",\n  ariaLabel: \"Sort Results By\",\n  selectOnNavigation: false,\n};\n\nexport default Overridable.component(\"SortBy\", SortBy);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport { updateQuerySortBy } from \"../../state/actions\";\nimport SortByComponent from \"./SortBy\";\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateQuerySortBy: (sortByValue) => dispatch(updateQuerySortBy(sortByValue)),\n});\n\nexport const SortBy = connect(\n  (state) => ({\n    loading: state.results.loading,\n    totalResults: state.results.data.total,\n    currentSortBy: state.query.sortBy,\n  }),\n  mapDispatchToProps\n)(SortByComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2022 CERN.\n * Copyright (C) 2022 NYU.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport React, { Component, useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Dropdown } from \"semantic-ui-react\";\nimport { AppContext } from \"../ReactSearchKit\";\nimport { ShouldRender } from \"../ShouldRender\";\n\nclass SortOrder extends Component {\n  constructor(props) {\n    super(props);\n    this.options = props.values;\n    this.updateQuerySortOrder = props.updateQuerySortOrder;\n  }\n\n  onChange = (value) => {\n    const { currentSortOrder } = this.props;\n    if (value === currentSortOrder) return;\n    this.updateQuerySortOrder(value);\n  };\n\n  render() {\n    const {\n      currentSortOrder,\n      loading,\n      totalResults,\n      label,\n      overridableId,\n      ariaLabel,\n      selectOnNavigation,\n    } = this.props;\n    return (\n      <ShouldRender\n        condition={currentSortOrder !== null && !loading && totalResults > 0}\n      >\n        {label(\n          <Element\n            currentSortOrder={currentSortOrder}\n            options={this.options}\n            onValueChange={this.onChange}\n            overridableId={overridableId}\n            ariaLabel={ariaLabel}\n            selectOnNavigation={selectOnNavigation}\n          />\n        )}\n      </ShouldRender>\n    );\n  }\n}\n\nSortOrder.propTypes = {\n  values: PropTypes.array.isRequired,\n  label: PropTypes.func,\n  overridableId: PropTypes.string,\n  ariaLabel: PropTypes.string,\n  selectOnNavigation: PropTypes.bool,\n  /* REDUX */\n  currentSortOrder: PropTypes.string,\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  updateQuerySortOrder: PropTypes.func.isRequired,\n};\n\nSortOrder.defaultProps = {\n  currentSortOrder: null,\n  label: (cmp) => cmp,\n  overridableId: \"\",\n  ariaLabel: \"Sort Order\",\n  selectOnNavigation: false,\n};\n\nconst Element = ({\n  overridableId,\n  currentSortOrder,\n  options,\n  onValueChange,\n  ariaLabel,\n  selectOnNavigation,\n}) => {\n  const { buildUID } = useContext(AppContext);\n\n  const _options = options.map((element, index) => {\n    return { key: index, text: element.text, value: element.value };\n  });\n\n  return (\n    <Overridable\n      id={buildUID(\"SortOrder.element\", overridableId)}\n      options={options}\n      currentSortOrder={currentSortOrder}\n      onValueChange={onValueChange}\n      ariaLabel={ariaLabel}\n      selectOnNavigation={selectOnNavigation}\n    >\n      <Dropdown\n        selection\n        compact\n        options={_options}\n        value={currentSortOrder}\n        onChange={(_, { value }) => onValueChange(value)}\n        aria-label={ariaLabel}\n        selectOnNavigation={selectOnNavigation}\n      />\n    </Overridable>\n  );\n};\n\nElement.propTypes = {\n  options: PropTypes.array.isRequired,\n  currentSortOrder: PropTypes.string,\n  overridableId: PropTypes.string,\n  ariaLabel: PropTypes.string,\n  selectOnNavigation: PropTypes.bool,\n  onValueChange: PropTypes.func.isRequired,\n};\n\nElement.defaultProps = {\n  currentSortOrder: null,\n  overridableId: \"\",\n  ariaLabel: \"Sort Order\",\n  selectOnNavigation: false,\n};\n\nexport default Overridable.component(\"SortOrder\", SortOrder);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport { updateQuerySortOrder } from \"../../state/actions\";\nimport SortOrderComponent from \"./SortOrder\";\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateQuerySortOrder: (sortOrderValue) =>\n    dispatch(updateQuerySortOrder(sortOrderValue)),\n});\n\nexport const SortOrder = connect(\n  (state) => ({\n    loading: state.results.loading,\n    totalResults: state.results.data.total,\n    currentSortOrder: state.query.sortOrder,\n  }),\n  mapDispatchToProps\n)(SortOrderComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2020-2022 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport PropTypes from \"prop-types\";\nimport React, { useContext } from \"react\";\nimport Overridable from \"react-overridable\";\nimport { Card, Checkbox } from \"semantic-ui-react\";\nimport { AppContext } from \"../ReactSearchKit\";\n\nconst ToggleComponent = ({\n  overridableId,\n  userSelectionFilters,\n  title,\n  label,\n  filterValue,\n  updateQueryFilters,\n}) => {\n  const _isChecked = (userSelectionFilters) => {\n    const isFilterActive =\n      userSelectionFilters.filter((filter) => filter[0] === filterValue[0]).length > 0;\n    return isFilterActive;\n  };\n  const onClick = () => {\n    updateQueryFilters(filterValue);\n  };\n  const { buildUID } = useContext(AppContext);\n  const isChecked = _isChecked(userSelectionFilters);\n\n  return (\n    <Overridable\n      id={buildUID(\"SearchFilters.Toggle.element\", overridableId)}\n      title={title}\n      label={label}\n      filterValue={filterValue}\n      userSelectionFilters={userSelectionFilters}\n      updateQueryFilters={updateQueryFilters}\n    >\n      <Card>\n        <Card.Content>\n          <Card.Header>{title}</Card.Header>\n        </Card.Content>\n        <Card.Content>\n          <Checkbox toggle label={label} onClick={onClick} checked={isChecked} />\n        </Card.Content>\n      </Card>\n    </Overridable>\n  );\n};\n\nToggleComponent.propTypes = {\n  title: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  filterValue: PropTypes.array.isRequired,\n  overridableId: PropTypes.string,\n  /* REDUX */\n  userSelectionFilters: PropTypes.array.isRequired,\n  updateQueryFilters: PropTypes.func.isRequired,\n};\n\nToggleComponent.defaultProps = {\n  overridableId: \"\",\n};\n\nexport default Overridable.component(\"SearchFilters.Toggle\", ToggleComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2020 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from \"react-redux\";\nimport { updateQueryFilters } from \"../../state/actions\";\nimport ToggleComponent from \"./Toggle\";\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateQueryFilters: (filter) => dispatch(updateQueryFilters(filter)),\n});\n\nexport const Toggle = connect(\n  (state) => ({\n    userSelectionFilters: state.query.filters,\n  }),\n  mapDispatchToProps\n)(ToggleComponent);\n","export const onQueryChanged = (payload) => {\n  var evt = new CustomEvent(\"queryChanged\", {\n    detail: payload,\n  });\n  window.dispatchEvent(evt);\n};\n"],"names":["ESRequestSerializer","serialize","bind","stateQuery","queryString","sortBy","sortOrder","page","size","bodyParams","_isEmpty","query_string","query","sortObj","s","from","ESResponseSerializer","payload","aggregations","hits","map","hit","_source","total","value","RequestCancelledError","prototype","Error","ESSearchApi","config","axiosConfig","_get","validateAxiosConfig","initSerializers","initInterceptors","initAxios","search","axiosCancelToken","axios","CancelToken","_hasIn","requestInterceptor","undefined","responseInterceptor","requestSerializerCls","responseSerializerCls","requestSerializer","responseSerializer","http","create","addInterceptors","interceptors","request","use","resolve","reject","axiosCancel","cancel","source","url","method","data","cancelToken","token","response","isCancel","InvenioRequestSerializer","_addFilter","filter","filterUrlParams","Array","isArray","length","aggName","fieldValue","push","hasChild","_addFilters","filters","forEach","hiddenParams","getParams","_extend","filterParams","Qs","stringify","arrayFormat","objectWithoutPropertiesLoose","InvenioResponseSerializer","extras","_excluded","defineProperty","arrayLikeToArray","unsupportedIterableToArray","startsWith","first","second","indexOf","toString","array","q","parse","str","removeLastChild","arr","result","lastChild","updateFilter","queryFilter","stateFilters","strQuery","strStateFilters","stateObjQuery","anyRemoved","filteredStrStates","strStateFilter","childFilterExists","parentFilterExists","rootParentArr","rootParentArrStrQuery","anotherChildFound","some","strState","updateQueryFilters","_isArray","_head","tempStateFilters","updateQueryState","oldState","newState","storeKeys","pickedState","_pick","INITIAL_QUERY_STATE","suggestions","layout","INITIAL_QUERY_STATE_KEYS","Object","keys","INITIAL_RESULTS_STATE","loading","error","INITIAL_APP_STATE","hasUserChangedSorting","initialSortBy","initialSortOrder","InvenioRecordsResourcesRequestSerializer","_checkFilter","InvenioSearchApi","serializer","requestSerializerMap","getSerializer","invenio","_objectSpread","paramsSerializer","params","newQueryState","getPrototypeOf","superPropBase","setPrototypeOf","assertThisInitialized","isNativeReflectConstruct","possibleConstructorReturn","InvenioSuggestionRequestSerializer","queryField","suggestionString","encode","InvenioSuggestionResponseSerializer","responseField","_serializeSuggestions","responseHits","Set","metadata","responseFieldPath","split","InvenioSuggestionApi","_get2","UrlParamValidator","isValid","urlHandler","key","includes","_isNumber","cKvSep","cChildSep","urlFilterSeparator","pLiteral","pKeyValue","pAll","regex","RegExp","every","String","match","pushHistory","window","history","pushState","path","replaceHistory","replaceState","UrlParser","_convertValue","paramsMapping","parseInt","mapping","parsedParams","ignoreQueryPrefix","entries","entry","UrlHandlerApi","_filterListToString","childFilter","concat","_mapQueryStateToUrlParams","queryState","stateKey","urlParamsMapping","paramKey","keyComparator","a","b","localeCompare","addQueryPrefix","skipNulls","indices","sort","_filterStringToList","filterStr","childSepPos","aggNamePos","slice","end","filterList","_mapUrlParamsToQueryState","urlParamsObj","queryStateKey","fromUrlParamsMapping","urlParamValidator","console","warn","_mergeParamsIntoState","urlStateObj","_queryState","_cloneDeep","_isObject","keepHistory","_isBoolean","_isString","urlParser","get","set","replace","location","newUrlParams","SET_QUERY_COMPONENT_INITIAL_STATE","SET_QUERY_STRING","SET_QUERY_SORTING","SET_QUERY_SORT_BY","SET_QUERY_SORT_ORDER","SET_QUERY_STATE","SET_QUERY_PAGINATION_PAGE","SET_QUERY_PAGINATION_SIZE","SET_QUERY_FILTERS","SET_QUERY_SUGGESTIONS","SET_SUGGESTION_STRING","CLEAR_QUERY_SUGGESTIONS","RESULTS_LOADING","RESULTS_FETCH_SUCCESS","RESULTS_FETCH_ERROR","RESULTS_UPDATE_LAYOUT","RESET_QUERY","onAppInitialized","searchOnInit","dispatch","executeQuery","shouldUpdateUrlQueryString","shouldReplaceUrlQueryString","type","updateQueryString","updateQuerySorting","sortByValue","sortOrderValue","updateQuerySortBy","updateQuerySortOrder","updateQueryPaginationPage","updateQueryPaginationSize","updateResultsLayout","getState","urlHandlerApi","newStateQuery","resetQuery","initialQueryState","updateURLParameters","appConfig","updateQueryStateAfterResponse","prevState","updatedQueryState","updateSearchSorting","appState","getSearchSortingOnQueryString","isQueryStringEmpty","defaultSortingOnEmptyQueryString","getSearchSorting","userHasChangedSorting","defaultSortingDefined","app","searchApi","debug","updateSuggestions","executeSuggestionQuery","suggestionApi","clearSuggestions","updateQueryStateFromUrl","AppContext","React","createContext","appReducer","state","action","queryReducer","_sortUserChanged","resultsReducer","combineReducers","results","isSortingDifferent","sortBy1","sortOrder1","sortBy2","sortOrder2","differentSortBy","differentSortOrder","urlParamsChangedSorting","queryStateFromURLParams","differInitialSorting","isDefaultOnEmptyDefined","differDefaultOnEmtpy","isDifferentThanInitialAndDefaultOnEmpty","getInitialState","initialAppState","initialResultsState","createStoreWithConfig","preloadedState","createStore","rootReducer","applyMiddleware","thunk","withExtraArgument","buildUID","elementName","overridableId","appName","_overridableId","_appName","Bootstrap","props","onQueryChanged","detail","context","appNameNotDefined","searchQuery","eventRecipient","sameName","eventListenerEnabled","searchOnUrlQueryStringChanged","addEventListener","onpopstate","removeEventListener","children","Component","defaultProps","contextType","Overridable","component","mapDispatchToProps","_onAppInitialized","connect","BootstrapComponent","ReactSearchKit","enabled","customHandler","overrideConfig","store","element","overrideId","ActiveFilters","_getLabel","currentFilter","label","activeFilter","Element","removeActiveFilter","getLabel","useContext","index","ActiveFiltersComponent","AutocompleteSearchBar","_handleAutocompleteChange","minCharsToAutocomplete","onInputChange","setState","currentValue","handleAutocompleteChange","executeSearch","debounce","_","debounceTime","leading","placeholder","AutocompleteSearchBarUncontrolled","querySuggestions","onBtnSearchClick","event","input","onKeyPress","content","onClick","Suggestions","onSuggestionSelected","suggestion","text","mapStateToProps","AutocompleteSearchBarComponent","arrayWithHoles","iterableToArrayLimit","nonIterableRest","BucketAggregationValues","_isSelected","selectedFilters","getChildAggCmps","bucket","hasChildAggregation","childAgg","selectedChildFilters","childBuckets","isThisAggregation","isThisValue","onFilterClicked","field","buckets","valuesCmp","keyField","key_as_string","isSelected","ContainerElement","ValueElement","doc_count","toLocaleString","childAggCmps","BucketAggregation","_renderValues","resultBuckets","agg","_getSelectedFilters","userSelectionFilters","_getResultBuckets","resultsAggregations","thisAggs","title","containerCmp","BucketAggregationComponent","ShouldRender","condition","Count","totalResults","cmp","CountComponent","EmptyResults","extraContent","EmptyResultsComponent","ErrorComponent","withState","WrappedComponent","currentQueryState","currentResultsState","LayoutSwitcher","onLayoutChange","layoutName","updateLayout","currentLayout","name","LayoutSwitcherComponent","defaultOptions","boundaryRangeCount","siblingRangeCount","showEllipsis","showFirst","showLast","showPrev","showNext","Pagination","onPageChange","activePage","currentPage","updateQueryPage","options","currentSize","maxTotalResults","maxTotalPages","Math","floor","pages","ceil","totalDisplayedPages","min","Paginator","PaginationComponent","ResultsGrid","resultsPerRow","GridItem","id","imgSrc","description","_results","ResultsGridComponent","ResultsList","ListItem","ResultsListComponent","ResultsLoader","ResultsLoaderComponent","ResultsMultiLayout","ResultsMultiLayoutComponent","ResultsPerPage","onChange","updateQuerySize","values","ariaLabel","selectOnNavigation","onValueChange","_options","e","ResultsPerPageComponent","SearchBar","actionProps","autofocus","uiProps","SearchBarUncontrolled","focusInput","focus","SearchBarComponent","Sort","_computeValue","currentSortBy","currentSortOrder","selected","find","option","sortOrderDisabled","computeValue","SortComponent","SortBy","SortByComponent","SortOrder","SortOrderComponent","ToggleComponent","filterValue","_isChecked","isFilterActive","isChecked","Toggle","evt","CustomEvent","dispatchEvent"],"mappings":"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"}